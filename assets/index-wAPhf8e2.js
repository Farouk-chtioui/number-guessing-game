(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function km(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Qc={exports:{}},Ho={},Gc={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function h_(){if(wp)return we;wp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.iterator;function N(x){return x===null||typeof x!="object"?null:(x=R&&x[R]||x["@@iterator"],typeof x=="function"?x:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,K={};function q(x,$,ae){this.props=x,this.context=$,this.refs=K,this.updater=ae||B}q.prototype.isReactComponent={},q.prototype.setState=function(x,$){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,$,"setState")},q.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function ge(){}ge.prototype=q.prototype;function ye(x,$,ae){this.props=x,this.context=$,this.refs=K,this.updater=ae||B}var _e=ye.prototype=new ge;_e.constructor=ye,W(_e,q.prototype),_e.isPureReactComponent=!0;var Se=Array.isArray,Je=Object.prototype.hasOwnProperty,De={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function I(x,$,ae){var ve,Ee={},Ce=null,Le=null;if($!=null)for(ve in $.ref!==void 0&&(Le=$.ref),$.key!==void 0&&(Ce=""+$.key),$)Je.call($,ve)&&!V.hasOwnProperty(ve)&&(Ee[ve]=$[ve]);var Me=arguments.length-2;if(Me===1)Ee.children=ae;else if(1<Me){for(var Be=Array(Me),pt=0;pt<Me;pt++)Be[pt]=arguments[pt+2];Ee.children=Be}if(x&&x.defaultProps)for(ve in Me=x.defaultProps,Me)Ee[ve]===void 0&&(Ee[ve]=Me[ve]);return{$$typeof:i,type:x,key:Ce,ref:Le,props:Ee,_owner:De.current}}function A(x,$){return{$$typeof:i,type:x.type,key:$,ref:x.ref,props:x.props,_owner:x._owner}}function k(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function D(x){var $={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ae){return $[ae]})}var L=/\/+/g;function S(x,$){return typeof x=="object"&&x!==null&&x.key!=null?D(""+x.key):$.toString(36)}function Ze(x,$,ae,ve,Ee){var Ce=typeof x;(Ce==="undefined"||Ce==="boolean")&&(x=null);var Le=!1;if(x===null)Le=!0;else switch(Ce){case"string":case"number":Le=!0;break;case"object":switch(x.$$typeof){case i:case e:Le=!0}}if(Le)return Le=x,Ee=Ee(Le),x=ve===""?"."+S(Le,0):ve,Se(Ee)?(ae="",x!=null&&(ae=x.replace(L,"$&/")+"/"),Ze(Ee,$,ae,"",function(pt){return pt})):Ee!=null&&(k(Ee)&&(Ee=A(Ee,ae+(!Ee.key||Le&&Le.key===Ee.key?"":(""+Ee.key).replace(L,"$&/")+"/")+x)),$.push(Ee)),1;if(Le=0,ve=ve===""?".":ve+":",Se(x))for(var Me=0;Me<x.length;Me++){Ce=x[Me];var Be=ve+S(Ce,Me);Le+=Ze(Ce,$,ae,Be,Ee)}else if(Be=N(x),typeof Be=="function")for(x=Be.call(x),Me=0;!(Ce=x.next()).done;)Ce=Ce.value,Be=ve+S(Ce,Me++),Le+=Ze(Ce,$,ae,Be,Ee);else if(Ce==="object")throw $=String(x),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Le}function Ct(x,$,ae){if(x==null)return x;var ve=[],Ee=0;return Ze(x,ve,"","",function(Ce){return $.call(ae,Ce,Ee++)}),ve}function Pt(x){if(x._status===-1){var $=x._result;$=$(),$.then(function(ae){(x._status===0||x._status===-1)&&(x._status=1,x._result=ae)},function(ae){(x._status===0||x._status===-1)&&(x._status=2,x._result=ae)}),x._status===-1&&(x._status=0,x._result=$)}if(x._status===1)return x._result.default;throw x._result}var Ue={current:null},J={transition:null},ue={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:J,ReactCurrentOwner:De};function ee(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:Ct,forEach:function(x,$,ae){Ct(x,function(){$.apply(this,arguments)},ae)},count:function(x){var $=0;return Ct(x,function(){$++}),$},toArray:function(x){return Ct(x,function($){return $})||[]},only:function(x){if(!k(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},we.Component=q,we.Fragment=n,we.Profiler=a,we.PureComponent=ye,we.StrictMode=s,we.Suspense=y,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,we.act=ee,we.cloneElement=function(x,$,ae){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var ve=W({},x.props),Ee=x.key,Ce=x.ref,Le=x._owner;if($!=null){if($.ref!==void 0&&(Ce=$.ref,Le=De.current),$.key!==void 0&&(Ee=""+$.key),x.type&&x.type.defaultProps)var Me=x.type.defaultProps;for(Be in $)Je.call($,Be)&&!V.hasOwnProperty(Be)&&(ve[Be]=$[Be]===void 0&&Me!==void 0?Me[Be]:$[Be])}var Be=arguments.length-2;if(Be===1)ve.children=ae;else if(1<Be){Me=Array(Be);for(var pt=0;pt<Be;pt++)Me[pt]=arguments[pt+2];ve.children=Me}return{$$typeof:i,type:x.type,key:Ee,ref:Ce,props:ve,_owner:Le}},we.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:c,_context:x},x.Consumer=x},we.createElement=I,we.createFactory=function(x){var $=I.bind(null,x);return $.type=x,$},we.createRef=function(){return{current:null}},we.forwardRef=function(x){return{$$typeof:m,render:x}},we.isValidElement=k,we.lazy=function(x){return{$$typeof:w,_payload:{_status:-1,_result:x},_init:Pt}},we.memo=function(x,$){return{$$typeof:v,type:x,compare:$===void 0?null:$}},we.startTransition=function(x){var $=J.transition;J.transition={};try{x()}finally{J.transition=$}},we.unstable_act=ee,we.useCallback=function(x,$){return Ue.current.useCallback(x,$)},we.useContext=function(x){return Ue.current.useContext(x)},we.useDebugValue=function(){},we.useDeferredValue=function(x){return Ue.current.useDeferredValue(x)},we.useEffect=function(x,$){return Ue.current.useEffect(x,$)},we.useId=function(){return Ue.current.useId()},we.useImperativeHandle=function(x,$,ae){return Ue.current.useImperativeHandle(x,$,ae)},we.useInsertionEffect=function(x,$){return Ue.current.useInsertionEffect(x,$)},we.useLayoutEffect=function(x,$){return Ue.current.useLayoutEffect(x,$)},we.useMemo=function(x,$){return Ue.current.useMemo(x,$)},we.useReducer=function(x,$,ae){return Ue.current.useReducer(x,$,ae)},we.useRef=function(x){return Ue.current.useRef(x)},we.useState=function(x){return Ue.current.useState(x)},we.useSyncExternalStore=function(x,$,ae){return Ue.current.useSyncExternalStore(x,$,ae)},we.useTransition=function(){return Ue.current.useTransition()},we.version="18.3.1",we}var Tp;function kh(){return Tp||(Tp=1,Gc.exports=h_()),Gc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function f_(){if(Ip)return Ho;Ip=1;var i=kh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,y,v){var w,R={},N=null,B=null;v!==void 0&&(N=""+v),y.key!==void 0&&(N=""+y.key),y.ref!==void 0&&(B=y.ref);for(w in y)s.call(y,w)&&!c.hasOwnProperty(w)&&(R[w]=y[w]);if(m&&m.defaultProps)for(w in y=m.defaultProps,y)R[w]===void 0&&(R[w]=y[w]);return{$$typeof:e,type:m,key:N,ref:B,props:R,_owner:a.current}}return Ho.Fragment=n,Ho.jsx=f,Ho.jsxs=f,Ho}var Sp;function d_(){return Sp||(Sp=1,Qc.exports=f_()),Qc.exports}var Te=d_(),sn=kh();const p_=km(sn);var kl={},Wc={exports:{}},Wt={},Kc={exports:{}},Yc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function m_(){return Ap||(Ap=1,function(i){function e(J,ue){var ee=J.length;J.push(ue);e:for(;0<ee;){var x=ee-1>>>1,$=J[x];if(0<a($,ue))J[x]=ue,J[ee]=$,ee=x;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ue=J[0],ee=J.pop();if(ee!==ue){J[0]=ee;e:for(var x=0,$=J.length,ae=$>>>1;x<ae;){var ve=2*(x+1)-1,Ee=J[ve],Ce=ve+1,Le=J[Ce];if(0>a(Ee,ee))Ce<$&&0>a(Le,Ee)?(J[x]=Le,J[Ce]=ee,x=Ce):(J[x]=Ee,J[ve]=ee,x=ve);else if(Ce<$&&0>a(Le,ee))J[x]=Le,J[Ce]=ee,x=Ce;else break e}}return ue}function a(J,ue){var ee=J.sortIndex-ue.sortIndex;return ee!==0?ee:J.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var y=[],v=[],w=1,R=null,N=3,B=!1,W=!1,K=!1,q=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _e(J){for(var ue=n(v);ue!==null;){if(ue.callback===null)s(v);else if(ue.startTime<=J)s(v),ue.sortIndex=ue.expirationTime,e(y,ue);else break;ue=n(v)}}function Se(J){if(K=!1,_e(J),!W)if(n(y)!==null)W=!0,Pt(Je);else{var ue=n(v);ue!==null&&Ue(Se,ue.startTime-J)}}function Je(J,ue){W=!1,K&&(K=!1,ge(I),I=-1),B=!0;var ee=N;try{for(_e(ue),R=n(y);R!==null&&(!(R.expirationTime>ue)||J&&!D());){var x=R.callback;if(typeof x=="function"){R.callback=null,N=R.priorityLevel;var $=x(R.expirationTime<=ue);ue=i.unstable_now(),typeof $=="function"?R.callback=$:R===n(y)&&s(y),_e(ue)}else s(y);R=n(y)}if(R!==null)var ae=!0;else{var ve=n(v);ve!==null&&Ue(Se,ve.startTime-ue),ae=!1}return ae}finally{R=null,N=ee,B=!1}}var De=!1,V=null,I=-1,A=5,k=-1;function D(){return!(i.unstable_now()-k<A)}function L(){if(V!==null){var J=i.unstable_now();k=J;var ue=!0;try{ue=V(!0,J)}finally{ue?S():(De=!1,V=null)}}else De=!1}var S;if(typeof ye=="function")S=function(){ye(L)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,Ct=Ze.port2;Ze.port1.onmessage=L,S=function(){Ct.postMessage(null)}}else S=function(){q(L,0)};function Pt(J){V=J,De||(De=!0,S())}function Ue(J,ue){I=q(function(){J(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){W||B||(W=!0,Pt(Je))},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_getFirstCallbackNode=function(){return n(y)},i.unstable_next=function(J){switch(N){case 1:case 2:case 3:var ue=3;break;default:ue=N}var ee=N;N=ue;try{return J()}finally{N=ee}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,ue){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ee=N;N=J;try{return ue()}finally{N=ee}},i.unstable_scheduleCallback=function(J,ue,ee){var x=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?x+ee:x):ee=x,J){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ee+$,J={id:w++,callback:ue,priorityLevel:J,startTime:ee,expirationTime:$,sortIndex:-1},ee>x?(J.sortIndex=ee,e(v,J),n(y)===null&&J===n(v)&&(K?(ge(I),I=-1):K=!0,Ue(Se,ee-x))):(J.sortIndex=$,e(y,J),W||B||(W=!0,Pt(Je))),J},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(J){var ue=N;return function(){var ee=N;N=ue;try{return J.apply(this,arguments)}finally{N=ee}}}}(Yc)),Yc}var Rp;function g_(){return Rp||(Rp=1,Kc.exports=m_()),Kc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function y_(){if(Cp)return Wt;Cp=1;var i=kh(),e=g_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},R={};function N(t){return y.call(R,t)?!0:y.call(w,t)?!1:v.test(t)?R[t]=!0:(w[t]=!0,!1)}function B(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function W(t,r,o,u){if(r===null||typeof r>"u"||B(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function K(t,r,o,u,h,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){q[t]=new K(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];q[r]=new K(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){q[t]=new K(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){q[t]=new K(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){q[t]=new K(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){q[t]=new K(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){q[t]=new K(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){q[t]=new K(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){q[t]=new K(t,5,!1,t.toLowerCase(),null,!1,!1)});var ge=/[\-:]([a-z])/g;function ye(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(ge,ye);q[r]=new K(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(ge,ye);q[r]=new K(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(ge,ye);q[r]=new K(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){q[t]=new K(t,1,!1,t.toLowerCase(),null,!1,!1)}),q.xlinkHref=new K("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){q[t]=new K(t,1,!1,t.toLowerCase(),null,!0,!0)});function _e(t,r,o,u){var h=q.hasOwnProperty(r)?q[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(W(r,o,h,u)&&(o=null),u||h===null?N(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var Se=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Je=Symbol.for("react.element"),De=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),Ct=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),J=Symbol.iterator;function ue(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,x;function $(t){if(x===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);x=r&&r[1]||""}return`
`+x+t}var ae=!1;function ve(t,r){if(!t||ae)return"";ae=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(U){var u=U}Reflect.construct(t,[],r)}else{try{r.call()}catch(U){u=U}t.call(r.prototype)}else{try{throw Error()}catch(U){u=U}t()}}catch(U){if(U&&u&&typeof U.stack=="string"){for(var h=U.stack.split(`
`),p=u.stack.split(`
`),_=h.length-1,T=p.length-1;1<=_&&0<=T&&h[_]!==p[T];)T--;for(;1<=_&&0<=T;_--,T--)if(h[_]!==p[T]){if(_!==1||T!==1)do if(_--,T--,0>T||h[_]!==p[T]){var C=`
`+h[_].replace(" at new "," at ");return t.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",t.displayName)),C}while(1<=_&&0<=T);break}}}finally{ae=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?$(t):""}function Ee(t){switch(t.tag){case 5:return $(t.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return t=ve(t.type,!1),t;case 11:return t=ve(t.type.render,!1),t;case 1:return t=ve(t.type,!0),t;default:return""}}function Ce(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case De:return"Portal";case A:return"Profiler";case I:return"StrictMode";case S:return"Suspense";case Ze:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case L:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ct:return r=t.displayName||null,r!==null?r:Ce(t.type)||"Memo";case Pt:r=t._payload,t=t._init;try{return Ce(t(r))}catch{}}return null}function Le(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(r);case 8:return r===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Me(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Be(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function pt(t){var r=Be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){u=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Jn(t){t._valueTracker||(t._valueTracker=pt(t))}function Ui(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Be(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function Er(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ii(t,r){var o=r.checked;return ee({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function zi(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Me(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ys(t,r){r=r.checked,r!=null&&_e(t,"checked",r,!1)}function Xs(t,r){Ys(t,r);var o=Me(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Bi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Bi(t,r.type,Me(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function pa(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Bi(t,r,o){(r!=="number"||Er(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Zn=Array.isArray;function er(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Me(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Js(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ji(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Zn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Me(o)}}function bi(t,r){var o=Me(r.value),u=Me(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Zs(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?at(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tr,eo=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(tr=tr||document.createElement("div"),tr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=tr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function wr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oi=["Webkit","ms","Moz","O"];Object.keys(si).forEach(function(t){oi.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),si[r]=si[t]})});function to(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||si.hasOwnProperty(t)&&si[t]?(""+r).trim():r+"px"}function no(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=to(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var ro=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function io(t,r){if(r){if(ro[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function so(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ai=null;function $i(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qi=null,an=null,Ln=null;function Hi(t){if(t=Vo(t)){if(typeof qi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=qa(r),qi(t.stateNode,t.type,r))}}function Mn(t){an?Ln?Ln.push(t):Ln=[t]:an=t}function oo(){if(an){var t=an,r=Ln;if(Ln=an=null,Hi(t),r)for(t=0;t<r.length;t++)Hi(r[t])}}function li(t,r){return t(r)}function ao(){}var nr=!1;function lo(t,r,o){if(nr)return t(r,o);nr=!0;try{return li(t,r,o)}finally{nr=!1,(an!==null||Ln!==null)&&(ao(),oo())}}function et(t,r){var o=t.stateNode;if(o===null)return null;var u=qa(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Qi=!1;if(m)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){Qi=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{Qi=!1}function ui(t,r,o,u,h,p,_,T,C){var U=Array.prototype.slice.call(arguments,3);try{r.apply(o,U)}catch(Q){this.onError(Q)}}var ci=!1,Gi=null,_n=!1,uo=null,Eu={onError:function(t){ci=!0,Gi=t}};function Wi(t,r,o,u,h,p,_,T,C){ci=!1,Gi=null,ui.apply(Eu,arguments)}function ma(t,r,o,u,h,p,_,T,C){if(Wi.apply(this,arguments),ci){if(ci){var U=Gi;ci=!1,Gi=null}else throw Error(n(198));_n||(_n=!0,uo=U)}}function vn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function hi(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function En(t){if(vn(t)!==t)throw Error(n(188))}function ga(t){var r=t.alternate;if(!r){if(r=vn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return En(h),t;if(p===u)return En(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var _=!1,T=h.child;T;){if(T===o){_=!0,o=h,u=p;break}if(T===u){_=!0,u=h,o=p;break}T=T.sibling}if(!_){for(T=p.child;T;){if(T===o){_=!0,o=p,u=h;break}if(T===u){_=!0,u=p,o=h;break}T=T.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function co(t){return t=ga(t),t!==null?Ki(t):null}function Ki(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Ki(t);if(r!==null)return r;t=t.sibling}return null}var Yi=e.unstable_scheduleCallback,ho=e.unstable_cancelCallback,ya=e.unstable_shouldYield,wu=e.unstable_requestPaint,je=e.unstable_now,_a=e.unstable_getCurrentPriorityLevel,fi=e.unstable_ImmediatePriority,Tr=e.unstable_UserBlockingPriority,ln=e.unstable_NormalPriority,fo=e.unstable_LowPriority,va=e.unstable_IdlePriority,di=null,Xt=null;function Ea(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(di,t,void 0,(t.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:Ta,po=Math.log,wa=Math.LN2;function Ta(t){return t>>>=0,t===0?32:31-(po(t)/wa|0)|0}var Xi=64,Ji=4194304;function Ir(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pi(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,_=o&268435455;if(_!==0){var T=_&~h;T!==0?u=Ir(T):(p&=_,p!==0&&(u=Ir(p)))}else _=o&~h,_!==0?u=Ir(_):p!==0&&(u=Ir(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&h)&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Ot(r),h=1<<o,u|=t[o],r&=~h;return u}function Tu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rr(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-Ot(p),T=1<<_,C=h[_];C===-1?(!(T&o)||T&u)&&(h[_]=Tu(T,r)):C<=r&&(t.expiredLanes|=T),p&=~T}}function Jt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mi(){var t=Xi;return Xi<<=1,!(Xi&4194240)&&(Xi=64),t}function Sr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Ar(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ot(r),t[r]=o}function ze(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Ot(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function Rr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Ot(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Ae=0;function Cr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ia,Zi,Sa,Aa,Ra,mo=!1,On=[],Et=null,wn=null,Tn=null,Pr=new Map,un=new Map,Fn=[],Iu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ca(t,r){switch(t){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":Pr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":un.delete(r.pointerId)}}function jt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Vo(r),r!==null&&Zi(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Su(t,r,o,u,h){switch(r){case"focusin":return Et=jt(Et,t,r,o,u,h),!0;case"dragenter":return wn=jt(wn,t,r,o,u,h),!0;case"mouseover":return Tn=jt(Tn,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Pr.set(p,jt(Pr.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,un.set(p,jt(un.get(p)||null,t,r,o,u,h)),!0}return!1}function Pa(t){var r=Ei(t.target);if(r!==null){var o=vn(r);if(o!==null){if(r=o.tag,r===13){if(r=hi(o),r!==null){t.blockedOn=r,Ra(t.priority,function(){Sa(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ir(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=es(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ai=u,o.target.dispatchEvent(u),ai=null}else return r=Vo(o),r!==null&&Zi(r),t.blockedOn=o,!1;r.shift()}return!0}function gi(t,r,o){ir(t)&&o.delete(r)}function ka(){mo=!1,Et!==null&&ir(Et)&&(Et=null),wn!==null&&ir(wn)&&(wn=null),Tn!==null&&ir(Tn)&&(Tn=null),Pr.forEach(gi),un.forEach(gi)}function In(t,r){t.blockedOn===r&&(t.blockedOn=null,mo||(mo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ka)))}function Sn(t){function r(h){return In(h,t)}if(0<On.length){In(On[0],t);for(var o=1;o<On.length;o++){var u=On[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Et!==null&&In(Et,t),wn!==null&&In(wn,t),Tn!==null&&In(Tn,t),Pr.forEach(r),un.forEach(r),o=0;o<Fn.length;o++)u=Fn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Fn.length&&(o=Fn[0],o.blockedOn===null);)Pa(o),o.blockedOn===null&&Fn.shift()}var sr=Se.ReactCurrentBatchConfig,kr=!0;function Qe(t,r,o,u){var h=Ae,p=sr.transition;sr.transition=null;try{Ae=1,go(t,r,o,u)}finally{Ae=h,sr.transition=p}}function Au(t,r,o,u){var h=Ae,p=sr.transition;sr.transition=null;try{Ae=4,go(t,r,o,u)}finally{Ae=h,sr.transition=p}}function go(t,r,o,u){if(kr){var h=es(t,r,o,u);if(h===null)Ou(t,r,u,yi,o),Ca(t,u);else if(Su(h,t,r,o,u))u.stopPropagation();else if(Ca(t,u),r&4&&-1<Iu.indexOf(t)){for(;h!==null;){var p=Vo(h);if(p!==null&&Ia(p),p=es(t,r,o,u),p===null&&Ou(t,r,u,yi,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Ou(t,r,u,null,o)}}var yi=null;function es(t,r,o,u){if(yi=null,t=$i(u),t=Ei(t),t!==null)if(r=vn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=hi(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return yi=t,null}function yo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_a()){case fi:return 1;case Tr:return 4;case ln:case fo:return 16;case va:return 536870912;default:return 16}default:return 16}}var Zt=null,ts=null,bt=null;function _o(){if(bt)return bt;var t,r=ts,o=r.length,u,h="value"in Zt?Zt.value:Zt.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var _=o-t;for(u=1;u<=_&&r[o-u]===h[p-u];u++);return bt=h.slice(t,1<u?1-u:void 0)}function ns(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Un(){return!0}function vo(){return!1}function wt(t){function r(o,u,h,p,_){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(o=t[T],this[T]=o?o(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Un:vo,this.isPropagationStopped=vo,this}return ee(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Un)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Un)},persist:function(){},isPersistent:Un}),r}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=wt(An),zn=ee({},An,{view:0,detail:0}),Ru=wt(zn),is,or,Vr,_i=ee({},zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vr&&(Vr&&t.type==="mousemove"?(is=t.screenX-Vr.screenX,or=t.screenY-Vr.screenY):or=is=0,Vr=t),is)},movementY:function(t){return"movementY"in t?t.movementY:or}}),ss=wt(_i),Eo=ee({},_i,{dataTransfer:0}),Va=wt(Eo),os=ee({},zn,{relatedTarget:0}),as=wt(os),Da=ee({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),ar=wt(Da),Na=ee({},An,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xa=wt(Na),La=ee({},An,{data:0}),wo=wt(La),ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ft={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ma={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oa(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ma[t])?!!r[t]:!1}function Bn(){return Oa}var l=ee({},zn,{key:function(t){if(t.key){var r=ls[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ns(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ft[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bn,charCode:function(t){return t.type==="keypress"?ns(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ns(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=wt(l),g=ee({},_i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=wt(g),M=ee({},zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bn}),z=wt(M),X=ee({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fe=wt(X),ut=ee({},_i,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pe=wt(ut),mt=[9,13,27,32],rt=m&&"CompositionEvent"in window,cn=null;m&&"documentMode"in document&&(cn=document.documentMode);var en=m&&"TextEvent"in window&&!cn,vi=m&&(!rt||cn&&8<cn&&11>=cn),us=" ",mf=!1;function gf(t,r){switch(t){case"keyup":return mt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cs=!1;function uy(t,r){switch(t){case"compositionend":return yf(r);case"keypress":return r.which!==32?null:(mf=!0,us);case"textInput":return t=r.data,t===us&&mf?null:t;default:return null}}function cy(t,r){if(cs)return t==="compositionend"||!rt&&gf(t,r)?(t=_o(),bt=ts=Zt=null,cs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return vi&&r.locale!=="ko"?null:r.data;default:return null}}var hy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _f(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!hy[t.type]:r==="textarea"}function vf(t,r,o,u){Mn(u),r=ja(r,"onChange"),0<r.length&&(o=new rs("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var To=null,Io=null;function fy(t){Ff(t,0)}function Fa(t){var r=ms(t);if(Ui(r))return t}function dy(t,r){if(t==="change")return r}var Ef=!1;if(m){var Cu;if(m){var Pu="oninput"in document;if(!Pu){var wf=document.createElement("div");wf.setAttribute("oninput","return;"),Pu=typeof wf.oninput=="function"}Cu=Pu}else Cu=!1;Ef=Cu&&(!document.documentMode||9<document.documentMode)}function Tf(){To&&(To.detachEvent("onpropertychange",If),Io=To=null)}function If(t){if(t.propertyName==="value"&&Fa(Io)){var r=[];vf(r,Io,t,$i(t)),lo(fy,r)}}function py(t,r,o){t==="focusin"?(Tf(),To=r,Io=o,To.attachEvent("onpropertychange",If)):t==="focusout"&&Tf()}function my(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fa(Io)}function gy(t,r){if(t==="click")return Fa(r)}function yy(t,r){if(t==="input"||t==="change")return Fa(r)}function _y(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Rn=typeof Object.is=="function"?Object.is:_y;function So(t,r){if(Rn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!y.call(r,h)||!Rn(t[h],r[h]))return!1}return!0}function Sf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Af(t,r){var o=Sf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Sf(o)}}function Rf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Rf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Cf(){for(var t=window,r=Er();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Er(t.document)}return r}function ku(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function vy(t){var r=Cf(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Rf(o.ownerDocument.documentElement,o)){if(u!==null&&ku(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=Af(o,p);var _=Af(o,u);h&&_&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ey=m&&"documentMode"in document&&11>=document.documentMode,hs=null,Vu=null,Ao=null,Du=!1;function Pf(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Du||hs==null||hs!==Er(u)||(u=hs,"selectionStart"in u&&ku(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ao&&So(Ao,u)||(Ao=u,u=ja(Vu,"onSelect"),0<u.length&&(r=new rs("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=hs)))}function Ua(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var fs={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionend:Ua("Transition","TransitionEnd")},Nu={},kf={};m&&(kf=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function za(t){if(Nu[t])return Nu[t];if(!fs[t])return t;var r=fs[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in kf)return Nu[t]=r[o];return t}var Vf=za("animationend"),Df=za("animationiteration"),Nf=za("animationstart"),xf=za("transitionend"),Lf=new Map,Mf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(t,r){Lf.set(t,r),c(r,[t])}for(var xu=0;xu<Mf.length;xu++){var Lu=Mf[xu],wy=Lu.toLowerCase(),Ty=Lu[0].toUpperCase()+Lu.slice(1);Dr(wy,"on"+Ty)}Dr(Vf,"onAnimationEnd"),Dr(Df,"onAnimationIteration"),Dr(Nf,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(xf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function Of(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,ma(u,r,void 0,t),t.currentTarget=null}function Ff(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var _=u.length-1;0<=_;_--){var T=u[_],C=T.instance,U=T.currentTarget;if(T=T.listener,C!==p&&h.isPropagationStopped())break e;Of(h,T,U),p=C}else for(_=0;_<u.length;_++){if(T=u[_],C=T.instance,U=T.currentTarget,T=T.listener,C!==p&&h.isPropagationStopped())break e;Of(h,T,U),p=C}}}if(_n)throw t=uo,_n=!1,uo=null,t}function $e(t,r){var o=r[bu];o===void 0&&(o=r[bu]=new Set);var u=t+"__bubble";o.has(u)||(Uf(r,t,2,!1),o.add(u))}function Mu(t,r,o){var u=0;r&&(u|=4),Uf(o,t,u,r)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function Co(t){if(!t[Ba]){t[Ba]=!0,s.forEach(function(o){o!=="selectionchange"&&(Iy.has(o)||Mu(o,!1,t),Mu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ba]||(r[Ba]=!0,Mu("selectionchange",!1,r))}}function Uf(t,r,o,u){switch(yo(r)){case 1:var h=Qe;break;case 4:h=Au;break;default:h=go}o=h.bind(null,r,o,t),h=void 0,!Qi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Ou(t,r,o,u,h){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var T=u.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=u.return;_!==null;){var C=_.tag;if((C===3||C===4)&&(C=_.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;_=_.return}for(;T!==null;){if(_=Ei(T),_===null)return;if(C=_.tag,C===5||C===6){u=p=_;continue e}T=T.parentNode}}u=u.return}lo(function(){var U=p,Q=$i(o),G=[];e:{var H=Lf.get(t);if(H!==void 0){var Z=rs,ie=t;switch(t){case"keypress":if(ns(o)===0)break e;case"keydown":case"keyup":Z=d;break;case"focusin":ie="focus",Z=as;break;case"focusout":ie="blur",Z=as;break;case"beforeblur":case"afterblur":Z=as;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ss;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Va;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=z;break;case Vf:case Df:case Nf:Z=ar;break;case xf:Z=Fe;break;case"scroll":Z=Ru;break;case"wheel":Z=Pe;break;case"copy":case"cut":case"paste":Z=xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=E}var se=(r&4)!==0,tt=!se&&t==="scroll",O=se?H!==null?H+"Capture":null:H;se=[];for(var P=U,F;P!==null;){F=P;var Y=F.stateNode;if(F.tag===5&&Y!==null&&(F=Y,O!==null&&(Y=et(P,O),Y!=null&&se.push(Po(P,Y,F)))),tt)break;P=P.return}0<se.length&&(H=new Z(H,ie,null,o,Q),G.push({event:H,listeners:se}))}}if(!(r&7)){e:{if(H=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",H&&o!==ai&&(ie=o.relatedTarget||o.fromElement)&&(Ei(ie)||ie[lr]))break e;if((Z||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,Z?(ie=o.relatedTarget||o.toElement,Z=U,ie=ie?Ei(ie):null,ie!==null&&(tt=vn(ie),ie!==tt||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(Z=null,ie=U),Z!==ie)){if(se=ss,Y="onMouseLeave",O="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(se=E,Y="onPointerLeave",O="onPointerEnter",P="pointer"),tt=Z==null?H:ms(Z),F=ie==null?H:ms(ie),H=new se(Y,P+"leave",Z,o,Q),H.target=tt,H.relatedTarget=F,Y=null,Ei(Q)===U&&(se=new se(O,P+"enter",ie,o,Q),se.target=F,se.relatedTarget=tt,Y=se),tt=Y,Z&&ie)t:{for(se=Z,O=ie,P=0,F=se;F;F=ds(F))P++;for(F=0,Y=O;Y;Y=ds(Y))F++;for(;0<P-F;)se=ds(se),P--;for(;0<F-P;)O=ds(O),F--;for(;P--;){if(se===O||O!==null&&se===O.alternate)break t;se=ds(se),O=ds(O)}se=null}else se=null;Z!==null&&zf(G,H,Z,se,!1),ie!==null&&tt!==null&&zf(G,tt,ie,se,!0)}}e:{if(H=U?ms(U):window,Z=H.nodeName&&H.nodeName.toLowerCase(),Z==="select"||Z==="input"&&H.type==="file")var oe=dy;else if(_f(H))if(Ef)oe=yy;else{oe=my;var ce=py}else(Z=H.nodeName)&&Z.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(oe=gy);if(oe&&(oe=oe(t,U))){vf(G,oe,o,Q);break e}ce&&ce(t,H,U),t==="focusout"&&(ce=H._wrapperState)&&ce.controlled&&H.type==="number"&&Bi(H,"number",H.value)}switch(ce=U?ms(U):window,t){case"focusin":(_f(ce)||ce.contentEditable==="true")&&(hs=ce,Vu=U,Ao=null);break;case"focusout":Ao=Vu=hs=null;break;case"mousedown":Du=!0;break;case"contextmenu":case"mouseup":case"dragend":Du=!1,Pf(G,o,Q);break;case"selectionchange":if(Ey)break;case"keydown":case"keyup":Pf(G,o,Q)}var he;if(rt)e:{switch(t){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else cs?gf(t,o)&&(fe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(fe="onCompositionStart");fe&&(vi&&o.locale!=="ko"&&(cs||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&cs&&(he=_o()):(Zt=Q,ts="value"in Zt?Zt.value:Zt.textContent,cs=!0)),ce=ja(U,fe),0<ce.length&&(fe=new wo(fe,t,null,o,Q),G.push({event:fe,listeners:ce}),he?fe.data=he:(he=yf(o),he!==null&&(fe.data=he)))),(he=en?uy(t,o):cy(t,o))&&(U=ja(U,"onBeforeInput"),0<U.length&&(Q=new wo("onBeforeInput","beforeinput",null,o,Q),G.push({event:Q,listeners:U}),Q.data=he))}Ff(G,r)})}function Po(t,r,o){return{instance:t,listener:r,currentTarget:o}}function ja(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=et(t,o),p!=null&&u.unshift(Po(t,p,h)),p=et(t,r),p!=null&&u.push(Po(t,p,h))),t=t.return}return u}function ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zf(t,r,o,u,h){for(var p=r._reactName,_=[];o!==null&&o!==u;){var T=o,C=T.alternate,U=T.stateNode;if(C!==null&&C===u)break;T.tag===5&&U!==null&&(T=U,h?(C=et(o,p),C!=null&&_.unshift(Po(o,C,T))):h||(C=et(o,p),C!=null&&_.push(Po(o,C,T)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var Sy=/\r\n?/g,Ay=/\u0000|\uFFFD/g;function Bf(t){return(typeof t=="string"?t:""+t).replace(Sy,`
`).replace(Ay,"")}function ba(t,r,o){if(r=Bf(r),Bf(t)!==r&&o)throw Error(n(425))}function $a(){}var Fu=null,Uu=null;function zu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Bu=typeof setTimeout=="function"?setTimeout:void 0,Ry=typeof clearTimeout=="function"?clearTimeout:void 0,jf=typeof Promise=="function"?Promise:void 0,Cy=typeof queueMicrotask=="function"?queueMicrotask:typeof jf<"u"?function(t){return jf.resolve(null).then(t).catch(Py)}:Bu;function Py(t){setTimeout(function(){throw t})}function ju(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),Sn(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);Sn(r)}function Nr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function bf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var ps=Math.random().toString(36).slice(2),jn="__reactFiber$"+ps,ko="__reactProps$"+ps,lr="__reactContainer$"+ps,bu="__reactEvents$"+ps,ky="__reactListeners$"+ps,Vy="__reactHandles$"+ps;function Ei(t){var r=t[jn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[lr]||o[jn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=bf(t);t!==null;){if(o=t[jn])return o;t=bf(t)}return r}t=o,o=t.parentNode}return null}function Vo(t){return t=t[jn]||t[lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ms(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function qa(t){return t[ko]||null}var $u=[],gs=-1;function xr(t){return{current:t}}function qe(t){0>gs||(t.current=$u[gs],$u[gs]=null,gs--)}function be(t,r){gs++,$u[gs]=t.current,t.current=r}var Lr={},kt=xr(Lr),$t=xr(!1),wi=Lr;function ys(t,r){var o=t.type.contextTypes;if(!o)return Lr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function qt(t){return t=t.childContextTypes,t!=null}function Ha(){qe($t),qe(kt)}function $f(t,r,o){if(kt.current!==Lr)throw Error(n(168));be(kt,r),be($t,o)}function qf(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Le(t)||"Unknown",h));return ee({},o,u)}function Qa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Lr,wi=kt.current,be(kt,t),be($t,$t.current),!0}function Hf(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=qf(t,r,wi),u.__reactInternalMemoizedMergedChildContext=t,qe($t),qe(kt),be(kt,t)):qe($t),be($t,o)}var ur=null,Ga=!1,qu=!1;function Qf(t){ur===null?ur=[t]:ur.push(t)}function Dy(t){Ga=!0,Qf(t)}function Mr(){if(!qu&&ur!==null){qu=!0;var t=0,r=Ae;try{var o=ur;for(Ae=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}ur=null,Ga=!1}catch(h){throw ur!==null&&(ur=ur.slice(t+1)),Yi(fi,Mr),h}finally{Ae=r,qu=!1}}return null}var _s=[],vs=0,Wa=null,Ka=0,hn=[],fn=0,Ti=null,cr=1,hr="";function Ii(t,r){_s[vs++]=Ka,_s[vs++]=Wa,Wa=t,Ka=r}function Gf(t,r,o){hn[fn++]=cr,hn[fn++]=hr,hn[fn++]=Ti,Ti=t;var u=cr;t=hr;var h=32-Ot(u)-1;u&=~(1<<h),o+=1;var p=32-Ot(r)+h;if(30<p){var _=h-h%5;p=(u&(1<<_)-1).toString(32),u>>=_,h-=_,cr=1<<32-Ot(r)+h|o<<h|u,hr=p+t}else cr=1<<p|o<<h|u,hr=t}function Hu(t){t.return!==null&&(Ii(t,1),Gf(t,1,0))}function Qu(t){for(;t===Wa;)Wa=_s[--vs],_s[vs]=null,Ka=_s[--vs],_s[vs]=null;for(;t===Ti;)Ti=hn[--fn],hn[fn]=null,hr=hn[--fn],hn[fn]=null,cr=hn[--fn],hn[fn]=null}var tn=null,nn=null,Ge=!1,Cn=null;function Wf(t,r){var o=gn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Kf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,tn=t,nn=Nr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,tn=t,nn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Ti!==null?{id:cr,overflow:hr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=gn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,tn=t,nn=null,!0):!1;default:return!1}}function Gu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wu(t){if(Ge){var r=nn;if(r){var o=r;if(!Kf(t,r)){if(Gu(t))throw Error(n(418));r=Nr(o.nextSibling);var u=tn;r&&Kf(t,r)?Wf(u,o):(t.flags=t.flags&-4097|2,Ge=!1,tn=t)}}else{if(Gu(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ge=!1,tn=t}}}function Yf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function Ya(t){if(t!==tn)return!1;if(!Ge)return Yf(t),Ge=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!zu(t.type,t.memoizedProps)),r&&(r=nn)){if(Gu(t))throw Xf(),Error(n(418));for(;r;)Wf(t,r),r=Nr(r.nextSibling)}if(Yf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){nn=Nr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}nn=null}}else nn=tn?Nr(t.stateNode.nextSibling):null;return!0}function Xf(){for(var t=nn;t;)t=Nr(t.nextSibling)}function Es(){nn=tn=null,Ge=!1}function Ku(t){Cn===null?Cn=[t]:Cn.push(t)}var Ny=Se.ReactCurrentBatchConfig;function Do(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var T=h.refs;_===null?delete T[p]:T[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Xa(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Jf(t){var r=t._init;return r(t._payload)}function Zf(t){function r(O,P){if(t){var F=O.deletions;F===null?(O.deletions=[P],O.flags|=16):F.push(P)}}function o(O,P){if(!t)return null;for(;P!==null;)r(O,P),P=P.sibling;return null}function u(O,P){for(O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(O,P){return O=$r(O,P),O.index=0,O.sibling=null,O}function p(O,P,F){return O.index=F,t?(F=O.alternate,F!==null?(F=F.index,F<P?(O.flags|=2,P):F):(O.flags|=2,P)):(O.flags|=1048576,P)}function _(O){return t&&O.alternate===null&&(O.flags|=2),O}function T(O,P,F,Y){return P===null||P.tag!==6?(P=Bc(F,O.mode,Y),P.return=O,P):(P=h(P,F),P.return=O,P)}function C(O,P,F,Y){var oe=F.type;return oe===V?Q(O,P,F.props.children,Y,F.key):P!==null&&(P.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Pt&&Jf(oe)===P.type)?(Y=h(P,F.props),Y.ref=Do(O,P,F),Y.return=O,Y):(Y=wl(F.type,F.key,F.props,null,O.mode,Y),Y.ref=Do(O,P,F),Y.return=O,Y)}function U(O,P,F,Y){return P===null||P.tag!==4||P.stateNode.containerInfo!==F.containerInfo||P.stateNode.implementation!==F.implementation?(P=jc(F,O.mode,Y),P.return=O,P):(P=h(P,F.children||[]),P.return=O,P)}function Q(O,P,F,Y,oe){return P===null||P.tag!==7?(P=Di(F,O.mode,Y,oe),P.return=O,P):(P=h(P,F),P.return=O,P)}function G(O,P,F){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Bc(""+P,O.mode,F),P.return=O,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Je:return F=wl(P.type,P.key,P.props,null,O.mode,F),F.ref=Do(O,null,P),F.return=O,F;case De:return P=jc(P,O.mode,F),P.return=O,P;case Pt:var Y=P._init;return G(O,Y(P._payload),F)}if(Zn(P)||ue(P))return P=Di(P,O.mode,F,null),P.return=O,P;Xa(O,P)}return null}function H(O,P,F,Y){var oe=P!==null?P.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return oe!==null?null:T(O,P,""+F,Y);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Je:return F.key===oe?C(O,P,F,Y):null;case De:return F.key===oe?U(O,P,F,Y):null;case Pt:return oe=F._init,H(O,P,oe(F._payload),Y)}if(Zn(F)||ue(F))return oe!==null?null:Q(O,P,F,Y,null);Xa(O,F)}return null}function Z(O,P,F,Y,oe){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return O=O.get(F)||null,T(P,O,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Je:return O=O.get(Y.key===null?F:Y.key)||null,C(P,O,Y,oe);case De:return O=O.get(Y.key===null?F:Y.key)||null,U(P,O,Y,oe);case Pt:var ce=Y._init;return Z(O,P,F,ce(Y._payload),oe)}if(Zn(Y)||ue(Y))return O=O.get(F)||null,Q(P,O,Y,oe,null);Xa(P,Y)}return null}function ie(O,P,F,Y){for(var oe=null,ce=null,he=P,fe=P=0,_t=null;he!==null&&fe<F.length;fe++){he.index>fe?(_t=he,he=null):_t=he.sibling;var xe=H(O,he,F[fe],Y);if(xe===null){he===null&&(he=_t);break}t&&he&&xe.alternate===null&&r(O,he),P=p(xe,P,fe),ce===null?oe=xe:ce.sibling=xe,ce=xe,he=_t}if(fe===F.length)return o(O,he),Ge&&Ii(O,fe),oe;if(he===null){for(;fe<F.length;fe++)he=G(O,F[fe],Y),he!==null&&(P=p(he,P,fe),ce===null?oe=he:ce.sibling=he,ce=he);return Ge&&Ii(O,fe),oe}for(he=u(O,he);fe<F.length;fe++)_t=Z(he,O,fe,F[fe],Y),_t!==null&&(t&&_t.alternate!==null&&he.delete(_t.key===null?fe:_t.key),P=p(_t,P,fe),ce===null?oe=_t:ce.sibling=_t,ce=_t);return t&&he.forEach(function(qr){return r(O,qr)}),Ge&&Ii(O,fe),oe}function se(O,P,F,Y){var oe=ue(F);if(typeof oe!="function")throw Error(n(150));if(F=oe.call(F),F==null)throw Error(n(151));for(var ce=oe=null,he=P,fe=P=0,_t=null,xe=F.next();he!==null&&!xe.done;fe++,xe=F.next()){he.index>fe?(_t=he,he=null):_t=he.sibling;var qr=H(O,he,xe.value,Y);if(qr===null){he===null&&(he=_t);break}t&&he&&qr.alternate===null&&r(O,he),P=p(qr,P,fe),ce===null?oe=qr:ce.sibling=qr,ce=qr,he=_t}if(xe.done)return o(O,he),Ge&&Ii(O,fe),oe;if(he===null){for(;!xe.done;fe++,xe=F.next())xe=G(O,xe.value,Y),xe!==null&&(P=p(xe,P,fe),ce===null?oe=xe:ce.sibling=xe,ce=xe);return Ge&&Ii(O,fe),oe}for(he=u(O,he);!xe.done;fe++,xe=F.next())xe=Z(he,O,fe,xe.value,Y),xe!==null&&(t&&xe.alternate!==null&&he.delete(xe.key===null?fe:xe.key),P=p(xe,P,fe),ce===null?oe=xe:ce.sibling=xe,ce=xe);return t&&he.forEach(function(c_){return r(O,c_)}),Ge&&Ii(O,fe),oe}function tt(O,P,F,Y){if(typeof F=="object"&&F!==null&&F.type===V&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Je:e:{for(var oe=F.key,ce=P;ce!==null;){if(ce.key===oe){if(oe=F.type,oe===V){if(ce.tag===7){o(O,ce.sibling),P=h(ce,F.props.children),P.return=O,O=P;break e}}else if(ce.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Pt&&Jf(oe)===ce.type){o(O,ce.sibling),P=h(ce,F.props),P.ref=Do(O,ce,F),P.return=O,O=P;break e}o(O,ce);break}else r(O,ce);ce=ce.sibling}F.type===V?(P=Di(F.props.children,O.mode,Y,F.key),P.return=O,O=P):(Y=wl(F.type,F.key,F.props,null,O.mode,Y),Y.ref=Do(O,P,F),Y.return=O,O=Y)}return _(O);case De:e:{for(ce=F.key;P!==null;){if(P.key===ce)if(P.tag===4&&P.stateNode.containerInfo===F.containerInfo&&P.stateNode.implementation===F.implementation){o(O,P.sibling),P=h(P,F.children||[]),P.return=O,O=P;break e}else{o(O,P);break}else r(O,P);P=P.sibling}P=jc(F,O.mode,Y),P.return=O,O=P}return _(O);case Pt:return ce=F._init,tt(O,P,ce(F._payload),Y)}if(Zn(F))return ie(O,P,F,Y);if(ue(F))return se(O,P,F,Y);Xa(O,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,P!==null&&P.tag===6?(o(O,P.sibling),P=h(P,F),P.return=O,O=P):(o(O,P),P=Bc(F,O.mode,Y),P.return=O,O=P),_(O)):o(O,P)}return tt}var ws=Zf(!0),ed=Zf(!1),Ja=xr(null),Za=null,Ts=null,Yu=null;function Xu(){Yu=Ts=Za=null}function Ju(t){var r=Ja.current;qe(Ja),t._currentValue=r}function Zu(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Is(t,r){Za=t,Yu=Ts=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Ht=!0),t.firstContext=null)}function dn(t){var r=t._currentValue;if(Yu!==t)if(t={context:t,memoizedValue:r,next:null},Ts===null){if(Za===null)throw Error(n(308));Ts=t,Za.dependencies={lanes:0,firstContext:t}}else Ts=Ts.next=t;return r}var Si=null;function ec(t){Si===null?Si=[t]:Si.push(t)}function td(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,ec(r)):(o.next=h.next,h.next=o),r.interleaved=o,fr(t,u)}function fr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Or=!1;function tc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Fr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,Ne&2){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,fr(t,o)}return h=u.interleaved,h===null?(r.next=r,ec(u)):(r.next=h.next,h.next=r),u.interleaved=r,fr(t,o)}function el(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Rr(t,o)}}function rd(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function tl(t,r,o,u){var h=t.updateQueue;Or=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,U=C.next;C.next=null,_===null?p=U:_.next=U,_=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==_&&(T===null?Q.firstBaseUpdate=U:T.next=U,Q.lastBaseUpdate=C))}if(p!==null){var G=h.baseState;_=0,Q=U=C=null,T=p;do{var H=T.lane,Z=T.eventTime;if((u&H)===H){Q!==null&&(Q=Q.next={eventTime:Z,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ie=t,se=T;switch(H=r,Z=o,se.tag){case 1:if(ie=se.payload,typeof ie=="function"){G=ie.call(Z,G,H);break e}G=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=se.payload,H=typeof ie=="function"?ie.call(Z,G,H):ie,H==null)break e;G=ee({},G,H);break e;case 2:Or=!0}}T.callback!==null&&T.lane!==0&&(t.flags|=64,H=h.effects,H===null?h.effects=[T]:H.push(T))}else Z={eventTime:Z,lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(U=Q=Z,C=G):Q=Q.next=Z,_|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);if(Q===null&&(C=G),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=Q,r=h.shared.interleaved,r!==null){h=r;do _|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);Ci|=_,t.lanes=_,t.memoizedState=G}}function id(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var No={},bn=xr(No),xo=xr(No),Lo=xr(No);function Ai(t){if(t===No)throw Error(n(174));return t}function nc(t,r){switch(be(Lo,r),be(xo,t),be(bn,No),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:lt(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=lt(r,t)}qe(bn),be(bn,r)}function Ss(){qe(bn),qe(xo),qe(Lo)}function sd(t){Ai(Lo.current);var r=Ai(bn.current),o=lt(r,t.type);r!==o&&(be(xo,t),be(bn,o))}function rc(t){xo.current===t&&(qe(bn),qe(xo))}var We=xr(0);function nl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ic=[];function sc(){for(var t=0;t<ic.length;t++)ic[t]._workInProgressVersionPrimary=null;ic.length=0}var rl=Se.ReactCurrentDispatcher,oc=Se.ReactCurrentBatchConfig,Ri=0,Ke=null,ct=null,gt=null,il=!1,Mo=!1,Oo=0,xy=0;function Vt(){throw Error(n(321))}function ac(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Rn(t[o],r[o]))return!1;return!0}function lc(t,r,o,u,h,p){if(Ri=p,Ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,rl.current=t===null||t.memoizedState===null?Fy:Uy,t=o(u,h),Mo){p=0;do{if(Mo=!1,Oo=0,25<=p)throw Error(n(301));p+=1,gt=ct=null,r.updateQueue=null,rl.current=zy,t=o(u,h)}while(Mo)}if(rl.current=al,r=ct!==null&&ct.next!==null,Ri=0,gt=ct=Ke=null,il=!1,r)throw Error(n(300));return t}function uc(){var t=Oo!==0;return Oo=0,t}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ke.memoizedState=gt=t:gt=gt.next=t,gt}function pn(){if(ct===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var r=gt===null?Ke.memoizedState:gt.next;if(r!==null)gt=r,ct=t;else{if(t===null)throw Error(n(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},gt===null?Ke.memoizedState=gt=t:gt=gt.next=t}return gt}function Fo(t,r){return typeof r=="function"?r(t):r}function cc(t){var r=pn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ct,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var T=_=null,C=null,U=p;do{var Q=U.lane;if((Ri&Q)===Q)C!==null&&(C=C.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),u=U.hasEagerState?U.eagerState:t(u,U.action);else{var G={lane:Q,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};C===null?(T=C=G,_=u):C=C.next=G,Ke.lanes|=Q,Ci|=Q}U=U.next}while(U!==null&&U!==p);C===null?_=u:C.next=T,Rn(u,r.memoizedState)||(Ht=!0),r.memoizedState=u,r.baseState=_,r.baseQueue=C,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Ke.lanes|=p,Ci|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function hc(t){var r=pn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var _=h=h.next;do p=t(p,_.action),_=_.next;while(_!==h);Rn(p,r.memoizedState)||(Ht=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function od(){}function ad(t,r){var o=Ke,u=pn(),h=r(),p=!Rn(u.memoizedState,h);if(p&&(u.memoizedState=h,Ht=!0),u=u.queue,fc(cd.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||gt!==null&&gt.memoizedState.tag&1){if(o.flags|=2048,Uo(9,ud.bind(null,o,u,h,r),void 0,null),yt===null)throw Error(n(349));Ri&30||ld(o,r,h)}return h}function ld(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ke.updateQueue,r===null?(r={lastEffect:null,stores:null},Ke.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function ud(t,r,o,u){r.value=o,r.getSnapshot=u,hd(r)&&fd(t)}function cd(t,r,o){return o(function(){hd(r)&&fd(t)})}function hd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Rn(t,o)}catch{return!0}}function fd(t){var r=fr(t,1);r!==null&&Dn(r,t,1,-1)}function dd(t){var r=$n();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fo,lastRenderedState:t},r.queue=t,t=t.dispatch=Oy.bind(null,Ke,t),[r.memoizedState,t]}function Uo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ke.updateQueue,r===null?(r={lastEffect:null,stores:null},Ke.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function pd(){return pn().memoizedState}function sl(t,r,o,u){var h=$n();Ke.flags|=t,h.memoizedState=Uo(1|r,o,void 0,u===void 0?null:u)}function ol(t,r,o,u){var h=pn();u=u===void 0?null:u;var p=void 0;if(ct!==null){var _=ct.memoizedState;if(p=_.destroy,u!==null&&ac(u,_.deps)){h.memoizedState=Uo(r,o,p,u);return}}Ke.flags|=t,h.memoizedState=Uo(1|r,o,p,u)}function md(t,r){return sl(8390656,8,t,r)}function fc(t,r){return ol(2048,8,t,r)}function gd(t,r){return ol(4,2,t,r)}function yd(t,r){return ol(4,4,t,r)}function _d(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function vd(t,r,o){return o=o!=null?o.concat([t]):null,ol(4,4,_d.bind(null,r,t),o)}function dc(){}function Ed(t,r){var o=pn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&ac(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function wd(t,r){var o=pn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&ac(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function Td(t,r,o){return Ri&21?(Rn(o,r)||(o=mi(),Ke.lanes|=o,Ci|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=o)}function Ly(t,r){var o=Ae;Ae=o!==0&&4>o?o:4,t(!0);var u=oc.transition;oc.transition={};try{t(!1),r()}finally{Ae=o,oc.transition=u}}function Id(){return pn().memoizedState}function My(t,r,o){var u=jr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Sd(t))Ad(r,o);else if(o=td(t,r,o,u),o!==null){var h=zt();Dn(o,t,u,h),Rd(o,r,u)}}function Oy(t,r,o){var u=jr(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Sd(t))Ad(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,T=p(_,o);if(h.hasEagerState=!0,h.eagerState=T,Rn(T,_)){var C=r.interleaved;C===null?(h.next=h,ec(r)):(h.next=C.next,C.next=h),r.interleaved=h;return}}catch{}finally{}o=td(t,r,h,u),o!==null&&(h=zt(),Dn(o,t,u,h),Rd(o,r,u))}}function Sd(t){var r=t.alternate;return t===Ke||r!==null&&r===Ke}function Ad(t,r){Mo=il=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Rd(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Rr(t,o)}}var al={readContext:dn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},Fy={readContext:dn,useCallback:function(t,r){return $n().memoizedState=[t,r===void 0?null:r],t},useContext:dn,useEffect:md,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,sl(4194308,4,_d.bind(null,r,t),o)},useLayoutEffect:function(t,r){return sl(4194308,4,t,r)},useInsertionEffect:function(t,r){return sl(4,2,t,r)},useMemo:function(t,r){var o=$n();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=$n();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=My.bind(null,Ke,t),[u.memoizedState,t]},useRef:function(t){var r=$n();return t={current:t},r.memoizedState=t},useState:dd,useDebugValue:dc,useDeferredValue:function(t){return $n().memoizedState=t},useTransition:function(){var t=dd(!1),r=t[0];return t=Ly.bind(null,t[1]),$n().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ke,h=$n();if(Ge){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),yt===null)throw Error(n(349));Ri&30||ld(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,md(cd.bind(null,u,p,t),[t]),u.flags|=2048,Uo(9,ud.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=$n(),r=yt.identifierPrefix;if(Ge){var o=hr,u=cr;o=(u&~(1<<32-Ot(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Oo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=xy++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Uy={readContext:dn,useCallback:Ed,useContext:dn,useEffect:fc,useImperativeHandle:vd,useInsertionEffect:gd,useLayoutEffect:yd,useMemo:wd,useReducer:cc,useRef:pd,useState:function(){return cc(Fo)},useDebugValue:dc,useDeferredValue:function(t){var r=pn();return Td(r,ct.memoizedState,t)},useTransition:function(){var t=cc(Fo)[0],r=pn().memoizedState;return[t,r]},useMutableSource:od,useSyncExternalStore:ad,useId:Id,unstable_isNewReconciler:!1},zy={readContext:dn,useCallback:Ed,useContext:dn,useEffect:fc,useImperativeHandle:vd,useInsertionEffect:gd,useLayoutEffect:yd,useMemo:wd,useReducer:hc,useRef:pd,useState:function(){return hc(Fo)},useDebugValue:dc,useDeferredValue:function(t){var r=pn();return ct===null?r.memoizedState=t:Td(r,ct.memoizedState,t)},useTransition:function(){var t=hc(Fo)[0],r=pn().memoizedState;return[t,r]},useMutableSource:od,useSyncExternalStore:ad,useId:Id,unstable_isNewReconciler:!1};function Pn(t,r){if(t&&t.defaultProps){r=ee({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function pc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:ee({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var ll={isMounted:function(t){return(t=t._reactInternals)?vn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=zt(),h=jr(t),p=dr(u,h);p.payload=r,o!=null&&(p.callback=o),r=Fr(t,p,h),r!==null&&(Dn(r,t,h,u),el(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=zt(),h=jr(t),p=dr(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Fr(t,p,h),r!==null&&(Dn(r,t,h,u),el(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=zt(),u=jr(t),h=dr(o,u);h.tag=2,r!=null&&(h.callback=r),r=Fr(t,h,u),r!==null&&(Dn(r,t,u,o),el(r,t,u))}};function Cd(t,r,o,u,h,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,_):r.prototype&&r.prototype.isPureReactComponent?!So(o,u)||!So(h,p):!0}function Pd(t,r,o){var u=!1,h=Lr,p=r.contextType;return typeof p=="object"&&p!==null?p=dn(p):(h=qt(r)?wi:kt.current,u=r.contextTypes,p=(u=u!=null)?ys(t,h):Lr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ll,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function kd(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&ll.enqueueReplaceState(r,r.state,null)}function mc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},tc(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=dn(p):(p=qt(r)?wi:kt.current,h.context=ys(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(pc(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&ll.enqueueReplaceState(h,h.state,null),tl(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function As(t,r){try{var o="",u=r;do o+=Ee(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function gc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function yc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var By=typeof WeakMap=="function"?WeakMap:Map;function Vd(t,r,o){o=dr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){ml||(ml=!0,Nc=u),yc(t,r)},o}function Dd(t,r,o){o=dr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){yc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){yc(t,r),typeof u!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function Nd(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new By;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=e_.bind(null,t,r,o),r.then(t,t))}function xd(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Ld(t,r,o,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=dr(-1,1),r.tag=2,Fr(o,r,1))),o.lanes|=1),t)}var jy=Se.ReactCurrentOwner,Ht=!1;function Ut(t,r,o,u){r.child=t===null?ed(r,null,o,u):ws(r,t.child,o,u)}function Md(t,r,o,u,h){o=o.render;var p=r.ref;return Is(r,h),u=lc(t,r,o,u,p,h),o=uc(),t!==null&&!Ht?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,pr(t,r,h)):(Ge&&o&&Hu(r),r.flags|=1,Ut(t,r,u,h),r.child)}function Od(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!zc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,Fd(t,r,p,u,h)):(t=wl(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:So,o(_,u)&&t.ref===r.ref)return pr(t,r,h)}return r.flags|=1,t=$r(p,u),t.ref=r.ref,t.return=r,r.child=t}function Fd(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(So(p,u)&&t.ref===r.ref)if(Ht=!1,r.pendingProps=u=p,(t.lanes&h)!==0)t.flags&131072&&(Ht=!0);else return r.lanes=t.lanes,pr(t,r,h)}return _c(t,r,o,u,h)}function Ud(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(Cs,rn),rn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,be(Cs,rn),rn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,be(Cs,rn),rn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,be(Cs,rn),rn|=u;return Ut(t,r,h,o),r.child}function zd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function _c(t,r,o,u,h){var p=qt(o)?wi:kt.current;return p=ys(r,p),Is(r,h),o=lc(t,r,o,u,p,h),u=uc(),t!==null&&!Ht?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,pr(t,r,h)):(Ge&&u&&Hu(r),r.flags|=1,Ut(t,r,o,h),r.child)}function Bd(t,r,o,u,h){if(qt(o)){var p=!0;Qa(r)}else p=!1;if(Is(r,h),r.stateNode===null)cl(t,r),Pd(r,o,u),mc(r,o,u,h),u=!0;else if(t===null){var _=r.stateNode,T=r.memoizedProps;_.props=T;var C=_.context,U=o.contextType;typeof U=="object"&&U!==null?U=dn(U):(U=qt(o)?wi:kt.current,U=ys(r,U));var Q=o.getDerivedStateFromProps,G=typeof Q=="function"||typeof _.getSnapshotBeforeUpdate=="function";G||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==u||C!==U)&&kd(r,_,u,U),Or=!1;var H=r.memoizedState;_.state=H,tl(r,u,_,h),C=r.memoizedState,T!==u||H!==C||$t.current||Or?(typeof Q=="function"&&(pc(r,o,Q,u),C=r.memoizedState),(T=Or||Cd(r,o,T,u,H,C,U))?(G||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=C),_.props=u,_.state=C,_.context=U,u=T):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,nd(t,r),T=r.memoizedProps,U=r.type===r.elementType?T:Pn(r.type,T),_.props=U,G=r.pendingProps,H=_.context,C=o.contextType,typeof C=="object"&&C!==null?C=dn(C):(C=qt(o)?wi:kt.current,C=ys(r,C));var Z=o.getDerivedStateFromProps;(Q=typeof Z=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==G||H!==C)&&kd(r,_,u,C),Or=!1,H=r.memoizedState,_.state=H,tl(r,u,_,h);var ie=r.memoizedState;T!==G||H!==ie||$t.current||Or?(typeof Z=="function"&&(pc(r,o,Z,u),ie=r.memoizedState),(U=Or||Cd(r,o,U,u,H,ie,C)||!1)?(Q||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,ie,C),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,ie,C)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ie),_.props=u,_.state=ie,_.context=C,u=U):(typeof _.componentDidUpdate!="function"||T===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),u=!1)}return vc(t,r,o,u,p,h)}function vc(t,r,o,u,h,p){zd(t,r);var _=(r.flags&128)!==0;if(!u&&!_)return h&&Hf(r,o,!1),pr(t,r,p);u=r.stateNode,jy.current=r;var T=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&_?(r.child=ws(r,t.child,null,p),r.child=ws(r,null,T,p)):Ut(t,r,T,p),r.memoizedState=u.state,h&&Hf(r,o,!0),r.child}function jd(t){var r=t.stateNode;r.pendingContext?$f(t,r.pendingContext,r.pendingContext!==r.context):r.context&&$f(t,r.context,!1),nc(t,r.containerInfo)}function bd(t,r,o,u,h){return Es(),Ku(h),r.flags|=256,Ut(t,r,o,u),r.child}var Ec={dehydrated:null,treeContext:null,retryLane:0};function wc(t){return{baseLanes:t,cachePool:null,transitions:null}}function $d(t,r,o){var u=r.pendingProps,h=We.current,p=!1,_=(r.flags&128)!==0,T;if((T=_)||(T=t!==null&&t.memoizedState===null?!1:(h&2)!==0),T?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),be(We,h&1),t===null)return Wu(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=u.children,t=u.fallback,p?(u=r.mode,p=r.child,_={mode:"hidden",children:_},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=_):p=Tl(_,u,0,null),t=Di(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=wc(o),r.memoizedState=Ec,t):Tc(r,_));if(h=t.memoizedState,h!==null&&(T=h.dehydrated,T!==null))return by(t,r,_,u,T,h,o);if(p){p=u.fallback,_=r.mode,h=t.child,T=h.sibling;var C={mode:"hidden",children:u.children};return!(_&1)&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=C,r.deletions=null):(u=$r(h,C),u.subtreeFlags=h.subtreeFlags&14680064),T!==null?p=$r(T,p):(p=Di(p,_,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,_=t.child.memoizedState,_=_===null?wc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~o,r.memoizedState=Ec,u}return p=t.child,t=p.sibling,u=$r(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Tc(t,r){return r=Tl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function ul(t,r,o,u){return u!==null&&Ku(u),ws(r,t.child,null,o),t=Tc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function by(t,r,o,u,h,p,_){if(o)return r.flags&256?(r.flags&=-257,u=gc(Error(n(422))),ul(t,r,_,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=Tl({mode:"visible",children:u.children},h,0,null),p=Di(p,h,_,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&ws(r,t.child,null,_),r.child.memoizedState=wc(_),r.memoizedState=Ec,p);if(!(r.mode&1))return ul(t,r,_,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var T=u.dgst;return u=T,p=Error(n(419)),u=gc(p,u,void 0),ul(t,r,_,u)}if(T=(_&t.childLanes)!==0,Ht||T){if(u=yt,u!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|_)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,fr(t,h),Dn(u,t,h,-1))}return Uc(),u=gc(Error(n(421))),ul(t,r,_,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=t_.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,nn=Nr(h.nextSibling),tn=r,Ge=!0,Cn=null,t!==null&&(hn[fn++]=cr,hn[fn++]=hr,hn[fn++]=Ti,cr=t.id,hr=t.overflow,Ti=r),r=Tc(r,u.children),r.flags|=4096,r)}function qd(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Zu(t.return,r,o)}function Ic(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Hd(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(Ut(t,r,u.children,o),u=We.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qd(t,o,r);else if(t.tag===19)qd(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(be(We,u),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&nl(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),Ic(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&nl(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}Ic(r,!0,o,null,p);break;case"together":Ic(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function cl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function pr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ci|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=$r(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=$r(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function $y(t,r,o){switch(r.tag){case 3:jd(r),Es();break;case 5:sd(r);break;case 1:qt(r.type)&&Qa(r);break;case 4:nc(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;be(Ja,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(be(We,We.current&1),r.flags|=128,null):o&r.child.childLanes?$d(t,r,o):(be(We,We.current&1),t=pr(t,r,o),t!==null?t.sibling:null);be(We,We.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return Hd(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),be(We,We.current),u)break;return null;case 22:case 23:return r.lanes=0,Ud(t,r,o)}return pr(t,r,o)}var Qd,Sc,Gd,Wd;Qd=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Sc=function(){},Gd=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Ai(bn.current);var p=null;switch(o){case"input":h=ii(t,h),u=ii(t,u),p=[];break;case"select":h=ee({},h,{value:void 0}),u=ee({},u,{value:void 0}),p=[];break;case"textarea":h=Js(t,h),u=Js(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=$a)}io(o,u);var _;o=null;for(U in h)if(!u.hasOwnProperty(U)&&h.hasOwnProperty(U)&&h[U]!=null)if(U==="style"){var T=h[U];for(_ in T)T.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(a.hasOwnProperty(U)?p||(p=[]):(p=p||[]).push(U,null));for(U in u){var C=u[U];if(T=h!=null?h[U]:void 0,u.hasOwnProperty(U)&&C!==T&&(C!=null||T!=null))if(U==="style")if(T){for(_ in T)!T.hasOwnProperty(_)||C&&C.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in C)C.hasOwnProperty(_)&&T[_]!==C[_]&&(o||(o={}),o[_]=C[_])}else o||(p||(p=[]),p.push(U,o)),o=C;else U==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,T=T?T.__html:void 0,C!=null&&T!==C&&(p=p||[]).push(U,C)):U==="children"?typeof C!="string"&&typeof C!="number"||(p=p||[]).push(U,""+C):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(a.hasOwnProperty(U)?(C!=null&&U==="onScroll"&&$e("scroll",t),p||T===C||(p=[])):(p=p||[]).push(U,C))}o&&(p=p||[]).push("style",o);var U=p;(r.updateQueue=U)&&(r.flags|=4)}},Wd=function(t,r,o,u){o!==u&&(r.flags|=4)};function zo(t,r){if(!Ge)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function qy(t,r,o){var u=r.pendingProps;switch(Qu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(r),null;case 1:return qt(r.type)&&Ha(),Dt(r),null;case 3:return u=r.stateNode,Ss(),qe($t),qe(kt),sc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Ya(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Cn!==null&&(Mc(Cn),Cn=null))),Sc(t,r),Dt(r),null;case 5:rc(r);var h=Ai(Lo.current);if(o=r.type,t!==null&&r.stateNode!=null)Gd(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Dt(r),null}if(t=Ai(bn.current),Ya(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[jn]=r,u[ko]=p,t=(r.mode&1)!==0,o){case"dialog":$e("cancel",u),$e("close",u);break;case"iframe":case"object":case"embed":$e("load",u);break;case"video":case"audio":for(h=0;h<Ro.length;h++)$e(Ro[h],u);break;case"source":$e("error",u);break;case"img":case"image":case"link":$e("error",u),$e("load",u);break;case"details":$e("toggle",u);break;case"input":zi(u,p),$e("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},$e("invalid",u);break;case"textarea":ji(u,p),$e("invalid",u)}io(o,p),h=null;for(var _ in p)if(p.hasOwnProperty(_)){var T=p[_];_==="children"?typeof T=="string"?u.textContent!==T&&(p.suppressHydrationWarning!==!0&&ba(u.textContent,T,t),h=["children",T]):typeof T=="number"&&u.textContent!==""+T&&(p.suppressHydrationWarning!==!0&&ba(u.textContent,T,t),h=["children",""+T]):a.hasOwnProperty(_)&&T!=null&&_==="onScroll"&&$e("scroll",u)}switch(o){case"input":Jn(u),pa(u,p,!0);break;case"textarea":Jn(u),Zs(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=$a)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{_=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=at(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=_.createElement(o,{is:u.is}):(t=_.createElement(o),o==="select"&&(_=t,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):t=_.createElementNS(t,o),t[jn]=r,t[ko]=u,Qd(t,r,!1,!1),r.stateNode=t;e:{switch(_=so(o,u),o){case"dialog":$e("cancel",t),$e("close",t),h=u;break;case"iframe":case"object":case"embed":$e("load",t),h=u;break;case"video":case"audio":for(h=0;h<Ro.length;h++)$e(Ro[h],t);h=u;break;case"source":$e("error",t),h=u;break;case"img":case"image":case"link":$e("error",t),$e("load",t),h=u;break;case"details":$e("toggle",t),h=u;break;case"input":zi(t,u),h=ii(t,u),$e("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ee({},u,{value:void 0}),$e("invalid",t);break;case"textarea":ji(t,u),h=Js(t,u),$e("invalid",t);break;default:h=u}io(o,h),T=h;for(p in T)if(T.hasOwnProperty(p)){var C=T[p];p==="style"?no(t,C):p==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&eo(t,C)):p==="children"?typeof C=="string"?(o!=="textarea"||C!=="")&&wr(t,C):typeof C=="number"&&wr(t,""+C):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?C!=null&&p==="onScroll"&&$e("scroll",t):C!=null&&_e(t,p,C,_))}switch(o){case"input":Jn(t),pa(t,u,!1);break;case"textarea":Jn(t),Zs(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Me(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?er(t,!!u.multiple,p,!1):u.defaultValue!=null&&er(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=$a)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Dt(r),null;case 6:if(t&&r.stateNode!=null)Wd(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Ai(Lo.current),Ai(bn.current),Ya(r)){if(u=r.stateNode,o=r.memoizedProps,u[jn]=r,(p=u.nodeValue!==o)&&(t=tn,t!==null))switch(t.tag){case 3:ba(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ba(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[jn]=r,r.stateNode=u}return Dt(r),null;case 13:if(qe(We),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&nn!==null&&r.mode&1&&!(r.flags&128))Xf(),Es(),r.flags|=98560,p=!1;else if(p=Ya(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[jn]=r}else Es(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Dt(r),p=!1}else Cn!==null&&(Mc(Cn),Cn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||We.current&1?ht===0&&(ht=3):Uc())),r.updateQueue!==null&&(r.flags|=4),Dt(r),null);case 4:return Ss(),Sc(t,r),t===null&&Co(r.stateNode.containerInfo),Dt(r),null;case 10:return Ju(r.type._context),Dt(r),null;case 17:return qt(r.type)&&Ha(),Dt(r),null;case 19:if(qe(We),p=r.memoizedState,p===null)return Dt(r),null;if(u=(r.flags&128)!==0,_=p.rendering,_===null)if(u)zo(p,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=nl(t),_!==null){for(r.flags|=128,zo(p,!1),u=_.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return be(We,We.current&1|2),r.child}t=t.sibling}p.tail!==null&&je()>Ps&&(r.flags|=128,u=!0,zo(p,!1),r.lanes=4194304)}else{if(!u)if(t=nl(_),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),zo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Ge)return Dt(r),null}else 2*je()-p.renderingStartTime>Ps&&o!==1073741824&&(r.flags|=128,u=!0,zo(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(o=p.last,o!==null?o.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=je(),r.sibling=null,o=We.current,be(We,u?o&1|2:o&1),r):(Dt(r),null);case 22:case 23:return Fc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?rn&1073741824&&(Dt(r),r.subtreeFlags&6&&(r.flags|=8192)):Dt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Hy(t,r){switch(Qu(r),r.tag){case 1:return qt(r.type)&&Ha(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ss(),qe($t),qe(kt),sc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return rc(r),null;case 13:if(qe(We),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Es()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return qe(We),null;case 4:return Ss(),null;case 10:return Ju(r.type._context),null;case 22:case 23:return Fc(),null;case 24:return null;default:return null}}var hl=!1,Nt=!1,Qy=typeof WeakSet=="function"?WeakSet:Set,re=null;function Rs(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Xe(t,r,u)}else o.current=null}function Ac(t,r,o){try{o()}catch(u){Xe(t,r,u)}}var Kd=!1;function Gy(t,r){if(Fu=kr,t=Cf(),ku(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,T=-1,C=-1,U=0,Q=0,G=t,H=null;t:for(;;){for(var Z;G!==o||h!==0&&G.nodeType!==3||(T=_+h),G!==p||u!==0&&G.nodeType!==3||(C=_+u),G.nodeType===3&&(_+=G.nodeValue.length),(Z=G.firstChild)!==null;)H=G,G=Z;for(;;){if(G===t)break t;if(H===o&&++U===h&&(T=_),H===p&&++Q===u&&(C=_),(Z=G.nextSibling)!==null)break;G=H,H=G.parentNode}G=Z}o=T===-1||C===-1?null:{start:T,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(Uu={focusedElem:t,selectionRange:o},kr=!1,re=r;re!==null;)if(r=re,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,re=t;else for(;re!==null;){r=re;try{var ie=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var se=ie.memoizedProps,tt=ie.memoizedState,O=r.stateNode,P=O.getSnapshotBeforeUpdate(r.elementType===r.type?se:Pn(r.type,se),tt);O.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var F=r.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Y){Xe(r,r.return,Y)}if(t=r.sibling,t!==null){t.return=r.return,re=t;break}re=r.return}return ie=Kd,Kd=!1,ie}function Bo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&Ac(r,o,p)}h=h.next}while(h!==u)}}function fl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Rc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Yd(t){var r=t.alternate;r!==null&&(t.alternate=null,Yd(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[jn],delete r[ko],delete r[bu],delete r[ky],delete r[Vy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Xd(t){return t.tag===5||t.tag===3||t.tag===4}function Jd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=$a));else if(u!==4&&(t=t.child,t!==null))for(Cc(t,r,o),t=t.sibling;t!==null;)Cc(t,r,o),t=t.sibling}function Pc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Pc(t,r,o),t=t.sibling;t!==null;)Pc(t,r,o),t=t.sibling}var Tt=null,kn=!1;function Ur(t,r,o){for(o=o.child;o!==null;)Zd(t,r,o),o=o.sibling}function Zd(t,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(di,o)}catch{}switch(o.tag){case 5:Nt||Rs(o,r);case 6:var u=Tt,h=kn;Tt=null,Ur(t,r,o),Tt=u,kn=h,Tt!==null&&(kn?(t=Tt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Tt.removeChild(o.stateNode));break;case 18:Tt!==null&&(kn?(t=Tt,o=o.stateNode,t.nodeType===8?ju(t.parentNode,o):t.nodeType===1&&ju(t,o),Sn(t)):ju(Tt,o.stateNode));break;case 4:u=Tt,h=kn,Tt=o.stateNode.containerInfo,kn=!0,Ur(t,r,o),Tt=u,kn=h;break;case 0:case 11:case 14:case 15:if(!Nt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,_=p.destroy;p=p.tag,_!==void 0&&(p&2||p&4)&&Ac(o,r,_),h=h.next}while(h!==u)}Ur(t,r,o);break;case 1:if(!Nt&&(Rs(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(T){Xe(o,r,T)}Ur(t,r,o);break;case 21:Ur(t,r,o);break;case 22:o.mode&1?(Nt=(u=Nt)||o.memoizedState!==null,Ur(t,r,o),Nt=u):Ur(t,r,o);break;default:Ur(t,r,o)}}function ep(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Qy),r.forEach(function(u){var h=n_.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function Vn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 5:Tt=T.stateNode,kn=!1;break e;case 3:Tt=T.stateNode.containerInfo,kn=!0;break e;case 4:Tt=T.stateNode.containerInfo,kn=!0;break e}T=T.return}if(Tt===null)throw Error(n(160));Zd(p,_,h),Tt=null,kn=!1;var C=h.alternate;C!==null&&(C.return=null),h.return=null}catch(U){Xe(h,r,U)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)tp(r,t),r=r.sibling}function tp(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(r,t),qn(t),u&4){try{Bo(3,t,t.return),fl(3,t)}catch(se){Xe(t,t.return,se)}try{Bo(5,t,t.return)}catch(se){Xe(t,t.return,se)}}break;case 1:Vn(r,t),qn(t),u&512&&o!==null&&Rs(o,o.return);break;case 5:if(Vn(r,t),qn(t),u&512&&o!==null&&Rs(o,o.return),t.flags&32){var h=t.stateNode;try{wr(h,"")}catch(se){Xe(t,t.return,se)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,_=o!==null?o.memoizedProps:p,T=t.type,C=t.updateQueue;if(t.updateQueue=null,C!==null)try{T==="input"&&p.type==="radio"&&p.name!=null&&Ys(h,p),so(T,_);var U=so(T,p);for(_=0;_<C.length;_+=2){var Q=C[_],G=C[_+1];Q==="style"?no(h,G):Q==="dangerouslySetInnerHTML"?eo(h,G):Q==="children"?wr(h,G):_e(h,Q,G,U)}switch(T){case"input":Xs(h,p);break;case"textarea":bi(h,p);break;case"select":var H=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var Z=p.value;Z!=null?er(h,!!p.multiple,Z,!1):H!==!!p.multiple&&(p.defaultValue!=null?er(h,!!p.multiple,p.defaultValue,!0):er(h,!!p.multiple,p.multiple?[]:"",!1))}h[ko]=p}catch(se){Xe(t,t.return,se)}}break;case 6:if(Vn(r,t),qn(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(se){Xe(t,t.return,se)}}break;case 3:if(Vn(r,t),qn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Sn(r.containerInfo)}catch(se){Xe(t,t.return,se)}break;case 4:Vn(r,t),qn(t);break;case 13:Vn(r,t),qn(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Dc=je())),u&4&&ep(t);break;case 22:if(Q=o!==null&&o.memoizedState!==null,t.mode&1?(Nt=(U=Nt)||Q,Vn(r,t),Nt=U):Vn(r,t),qn(t),u&8192){if(U=t.memoizedState!==null,(t.stateNode.isHidden=U)&&!Q&&t.mode&1)for(re=t,Q=t.child;Q!==null;){for(G=re=Q;re!==null;){switch(H=re,Z=H.child,H.tag){case 0:case 11:case 14:case 15:Bo(4,H,H.return);break;case 1:Rs(H,H.return);var ie=H.stateNode;if(typeof ie.componentWillUnmount=="function"){u=H,o=H.return;try{r=u,ie.props=r.memoizedProps,ie.state=r.memoizedState,ie.componentWillUnmount()}catch(se){Xe(u,o,se)}}break;case 5:Rs(H,H.return);break;case 22:if(H.memoizedState!==null){ip(G);continue}}Z!==null?(Z.return=H,re=Z):ip(G)}Q=Q.sibling}e:for(Q=null,G=t;;){if(G.tag===5){if(Q===null){Q=G;try{h=G.stateNode,U?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(T=G.stateNode,C=G.memoizedProps.style,_=C!=null&&C.hasOwnProperty("display")?C.display:null,T.style.display=to("display",_))}catch(se){Xe(t,t.return,se)}}}else if(G.tag===6){if(Q===null)try{G.stateNode.nodeValue=U?"":G.memoizedProps}catch(se){Xe(t,t.return,se)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===t)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===t)break e;for(;G.sibling===null;){if(G.return===null||G.return===t)break e;Q===G&&(Q=null),G=G.return}Q===G&&(Q=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:Vn(r,t),qn(t),u&4&&ep(t);break;case 21:break;default:Vn(r,t),qn(t)}}function qn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Xd(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(wr(h,""),u.flags&=-33);var p=Jd(t);Pc(t,p,h);break;case 3:case 4:var _=u.stateNode.containerInfo,T=Jd(t);Cc(t,T,_);break;default:throw Error(n(161))}}catch(C){Xe(t,t.return,C)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Wy(t,r,o){re=t,np(t)}function np(t,r,o){for(var u=(t.mode&1)!==0;re!==null;){var h=re,p=h.child;if(h.tag===22&&u){var _=h.memoizedState!==null||hl;if(!_){var T=h.alternate,C=T!==null&&T.memoizedState!==null||Nt;T=hl;var U=Nt;if(hl=_,(Nt=C)&&!U)for(re=h;re!==null;)_=re,C=_.child,_.tag===22&&_.memoizedState!==null?sp(h):C!==null?(C.return=_,re=C):sp(h);for(;p!==null;)re=p,np(p),p=p.sibling;re=h,hl=T,Nt=U}rp(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,re=p):rp(t)}}function rp(t){for(;re!==null;){var r=re;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Nt||fl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Nt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Pn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&id(r,p,u);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}id(r,_,o)}break;case 5:var T=r.stateNode;if(o===null&&r.flags&4){o=T;var C=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&o.focus();break;case"img":C.src&&(o.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var U=r.alternate;if(U!==null){var Q=U.memoizedState;if(Q!==null){var G=Q.dehydrated;G!==null&&Sn(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Nt||r.flags&512&&Rc(r)}catch(H){Xe(r,r.return,H)}}if(r===t){re=null;break}if(o=r.sibling,o!==null){o.return=r.return,re=o;break}re=r.return}}function ip(t){for(;re!==null;){var r=re;if(r===t){re=null;break}var o=r.sibling;if(o!==null){o.return=r.return,re=o;break}re=r.return}}function sp(t){for(;re!==null;){var r=re;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{fl(4,r)}catch(C){Xe(r,o,C)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(C){Xe(r,h,C)}}var p=r.return;try{Rc(r)}catch(C){Xe(r,p,C)}break;case 5:var _=r.return;try{Rc(r)}catch(C){Xe(r,_,C)}}}catch(C){Xe(r,r.return,C)}if(r===t){re=null;break}var T=r.sibling;if(T!==null){T.return=r.return,re=T;break}re=r.return}}var Ky=Math.ceil,dl=Se.ReactCurrentDispatcher,kc=Se.ReactCurrentOwner,mn=Se.ReactCurrentBatchConfig,Ne=0,yt=null,it=null,It=0,rn=0,Cs=xr(0),ht=0,jo=null,Ci=0,pl=0,Vc=0,bo=null,Qt=null,Dc=0,Ps=1/0,mr=null,ml=!1,Nc=null,zr=null,gl=!1,Br=null,yl=0,$o=0,xc=null,_l=-1,vl=0;function zt(){return Ne&6?je():_l!==-1?_l:_l=je()}function jr(t){return t.mode&1?Ne&2&&It!==0?It&-It:Ny.transition!==null?(vl===0&&(vl=mi()),vl):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:yo(t.type)),t):1}function Dn(t,r,o,u){if(50<$o)throw $o=0,xc=null,Error(n(185));Ar(t,o,u),(!(Ne&2)||t!==yt)&&(t===yt&&(!(Ne&2)&&(pl|=o),ht===4&&br(t,It)),Gt(t,u),o===1&&Ne===0&&!(r.mode&1)&&(Ps=je()+500,Ga&&Mr()))}function Gt(t,r){var o=t.callbackNode;rr(t,r);var u=pi(t,t===yt?It:0);if(u===0)o!==null&&ho(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&ho(o),r===1)t.tag===0?Dy(ap.bind(null,t)):Qf(ap.bind(null,t)),Cy(function(){!(Ne&6)&&Mr()}),o=null;else{switch(Cr(u)){case 1:o=fi;break;case 4:o=Tr;break;case 16:o=ln;break;case 536870912:o=va;break;default:o=ln}o=mp(o,op.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function op(t,r){if(_l=-1,vl=0,Ne&6)throw Error(n(327));var o=t.callbackNode;if(ks()&&t.callbackNode!==o)return null;var u=pi(t,t===yt?It:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=El(t,u);else{r=u;var h=Ne;Ne|=2;var p=up();(yt!==t||It!==r)&&(mr=null,Ps=je()+500,ki(t,r));do try{Jy();break}catch(T){lp(t,T)}while(!0);Xu(),dl.current=p,Ne=h,it!==null?r=0:(yt=null,It=0,r=ht)}if(r!==0){if(r===2&&(h=Jt(t),h!==0&&(u=h,r=Lc(t,h))),r===1)throw o=jo,ki(t,0),br(t,u),Gt(t,je()),o;if(r===6)br(t,u);else{if(h=t.current.alternate,!(u&30)&&!Yy(h)&&(r=El(t,u),r===2&&(p=Jt(t),p!==0&&(u=p,r=Lc(t,p))),r===1))throw o=jo,ki(t,0),br(t,u),Gt(t,je()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Vi(t,Qt,mr);break;case 3:if(br(t,u),(u&130023424)===u&&(r=Dc+500-je(),10<r)){if(pi(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){zt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Bu(Vi.bind(null,t,Qt,mr),r);break}Vi(t,Qt,mr);break;case 4:if(br(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var _=31-Ot(u);p=1<<_,_=r[_],_>h&&(h=_),u&=~p}if(u=h,u=je()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Ky(u/1960))-u,10<u){t.timeoutHandle=Bu(Vi.bind(null,t,Qt,mr),u);break}Vi(t,Qt,mr);break;case 5:Vi(t,Qt,mr);break;default:throw Error(n(329))}}}return Gt(t,je()),t.callbackNode===o?op.bind(null,t):null}function Lc(t,r){var o=bo;return t.current.memoizedState.isDehydrated&&(ki(t,r).flags|=256),t=El(t,r),t!==2&&(r=Qt,Qt=o,r!==null&&Mc(r)),t}function Mc(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function Yy(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Rn(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function br(t,r){for(r&=~Vc,r&=~pl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ot(r),u=1<<o;t[o]=-1,r&=~u}}function ap(t){if(Ne&6)throw Error(n(327));ks();var r=pi(t,0);if(!(r&1))return Gt(t,je()),null;var o=El(t,r);if(t.tag!==0&&o===2){var u=Jt(t);u!==0&&(r=u,o=Lc(t,u))}if(o===1)throw o=jo,ki(t,0),br(t,r),Gt(t,je()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Vi(t,Qt,mr),Gt(t,je()),null}function Oc(t,r){var o=Ne;Ne|=1;try{return t(r)}finally{Ne=o,Ne===0&&(Ps=je()+500,Ga&&Mr())}}function Pi(t){Br!==null&&Br.tag===0&&!(Ne&6)&&ks();var r=Ne;Ne|=1;var o=mn.transition,u=Ae;try{if(mn.transition=null,Ae=1,t)return t()}finally{Ae=u,mn.transition=o,Ne=r,!(Ne&6)&&Mr()}}function Fc(){rn=Cs.current,qe(Cs)}function ki(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Ry(o)),it!==null)for(o=it.return;o!==null;){var u=o;switch(Qu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ha();break;case 3:Ss(),qe($t),qe(kt),sc();break;case 5:rc(u);break;case 4:Ss();break;case 13:qe(We);break;case 19:qe(We);break;case 10:Ju(u.type._context);break;case 22:case 23:Fc()}o=o.return}if(yt=t,it=t=$r(t.current,null),It=rn=r,ht=0,jo=null,Vc=pl=Ci=0,Qt=bo=null,Si!==null){for(r=0;r<Si.length;r++)if(o=Si[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var _=p.next;p.next=h,u.next=_}o.pending=u}Si=null}return t}function lp(t,r){do{var o=it;try{if(Xu(),rl.current=al,il){for(var u=Ke.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}il=!1}if(Ri=0,gt=ct=Ke=null,Mo=!1,Oo=0,kc.current=null,o===null||o.return===null){ht=1,jo=r,it=null;break}e:{var p=t,_=o.return,T=o,C=r;if(r=It,T.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var U=C,Q=T,G=Q.tag;if(!(Q.mode&1)&&(G===0||G===11||G===15)){var H=Q.alternate;H?(Q.updateQueue=H.updateQueue,Q.memoizedState=H.memoizedState,Q.lanes=H.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var Z=xd(_);if(Z!==null){Z.flags&=-257,Ld(Z,_,T,p,r),Z.mode&1&&Nd(p,U,r),r=Z,C=U;var ie=r.updateQueue;if(ie===null){var se=new Set;se.add(C),r.updateQueue=se}else ie.add(C);break e}else{if(!(r&1)){Nd(p,U,r),Uc();break e}C=Error(n(426))}}else if(Ge&&T.mode&1){var tt=xd(_);if(tt!==null){!(tt.flags&65536)&&(tt.flags|=256),Ld(tt,_,T,p,r),Ku(As(C,T));break e}}p=C=As(C,T),ht!==4&&(ht=2),bo===null?bo=[p]:bo.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var O=Vd(p,C,r);rd(p,O);break e;case 1:T=C;var P=p.type,F=p.stateNode;if(!(p.flags&128)&&(typeof P.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(zr===null||!zr.has(F)))){p.flags|=65536,r&=-r,p.lanes|=r;var Y=Dd(p,T,r);rd(p,Y);break e}}p=p.return}while(p!==null)}hp(o)}catch(oe){r=oe,it===o&&o!==null&&(it=o=o.return);continue}break}while(!0)}function up(){var t=dl.current;return dl.current=al,t===null?al:t}function Uc(){(ht===0||ht===3||ht===2)&&(ht=4),yt===null||!(Ci&268435455)&&!(pl&268435455)||br(yt,It)}function El(t,r){var o=Ne;Ne|=2;var u=up();(yt!==t||It!==r)&&(mr=null,ki(t,r));do try{Xy();break}catch(h){lp(t,h)}while(!0);if(Xu(),Ne=o,dl.current=u,it!==null)throw Error(n(261));return yt=null,It=0,ht}function Xy(){for(;it!==null;)cp(it)}function Jy(){for(;it!==null&&!ya();)cp(it)}function cp(t){var r=pp(t.alternate,t,rn);t.memoizedProps=t.pendingProps,r===null?hp(t):it=r,kc.current=null}function hp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=Hy(o,r),o!==null){o.flags&=32767,it=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,it=null;return}}else if(o=qy(o,r,rn),o!==null){it=o;return}if(r=r.sibling,r!==null){it=r;return}it=r=t}while(r!==null);ht===0&&(ht=5)}function Vi(t,r,o){var u=Ae,h=mn.transition;try{mn.transition=null,Ae=1,Zy(t,r,o,u)}finally{mn.transition=h,Ae=u}return null}function Zy(t,r,o,u){do ks();while(Br!==null);if(Ne&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(ze(t,p),t===yt&&(it=yt=null,It=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||gl||(gl=!0,mp(ln,function(){return ks(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=mn.transition,mn.transition=null;var _=Ae;Ae=1;var T=Ne;Ne|=4,kc.current=null,Gy(t,o),tp(o,t),vy(Uu),kr=!!Fu,Uu=Fu=null,t.current=o,Wy(o),wu(),Ne=T,Ae=_,mn.transition=p}else t.current=o;if(gl&&(gl=!1,Br=t,yl=h),p=t.pendingLanes,p===0&&(zr=null),Ea(o.stateNode),Gt(t,je()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(ml)throw ml=!1,t=Nc,Nc=null,t;return yl&1&&t.tag!==0&&ks(),p=t.pendingLanes,p&1?t===xc?$o++:($o=0,xc=t):$o=0,Mr(),null}function ks(){if(Br!==null){var t=Cr(yl),r=mn.transition,o=Ae;try{if(mn.transition=null,Ae=16>t?16:t,Br===null)var u=!1;else{if(t=Br,Br=null,yl=0,Ne&6)throw Error(n(331));var h=Ne;for(Ne|=4,re=t.current;re!==null;){var p=re,_=p.child;if(re.flags&16){var T=p.deletions;if(T!==null){for(var C=0;C<T.length;C++){var U=T[C];for(re=U;re!==null;){var Q=re;switch(Q.tag){case 0:case 11:case 15:Bo(8,Q,p)}var G=Q.child;if(G!==null)G.return=Q,re=G;else for(;re!==null;){Q=re;var H=Q.sibling,Z=Q.return;if(Yd(Q),Q===U){re=null;break}if(H!==null){H.return=Z,re=H;break}re=Z}}}var ie=p.alternate;if(ie!==null){var se=ie.child;if(se!==null){ie.child=null;do{var tt=se.sibling;se.sibling=null,se=tt}while(se!==null)}}re=p}}if(p.subtreeFlags&2064&&_!==null)_.return=p,re=_;else e:for(;re!==null;){if(p=re,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Bo(9,p,p.return)}var O=p.sibling;if(O!==null){O.return=p.return,re=O;break e}re=p.return}}var P=t.current;for(re=P;re!==null;){_=re;var F=_.child;if(_.subtreeFlags&2064&&F!==null)F.return=_,re=F;else e:for(_=P;re!==null;){if(T=re,T.flags&2048)try{switch(T.tag){case 0:case 11:case 15:fl(9,T)}}catch(oe){Xe(T,T.return,oe)}if(T===_){re=null;break e}var Y=T.sibling;if(Y!==null){Y.return=T.return,re=Y;break e}re=T.return}}if(Ne=h,Mr(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(di,t)}catch{}u=!0}return u}finally{Ae=o,mn.transition=r}}return!1}function fp(t,r,o){r=As(o,r),r=Vd(t,r,1),t=Fr(t,r,1),r=zt(),t!==null&&(Ar(t,1,r),Gt(t,r))}function Xe(t,r,o){if(t.tag===3)fp(t,t,o);else for(;r!==null;){if(r.tag===3){fp(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(zr===null||!zr.has(u))){t=As(o,t),t=Dd(r,t,1),r=Fr(r,t,1),t=zt(),r!==null&&(Ar(r,1,t),Gt(r,t));break}}r=r.return}}function e_(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=zt(),t.pingedLanes|=t.suspendedLanes&o,yt===t&&(It&o)===o&&(ht===4||ht===3&&(It&130023424)===It&&500>je()-Dc?ki(t,0):Vc|=o),Gt(t,r)}function dp(t,r){r===0&&(t.mode&1?(r=Ji,Ji<<=1,!(Ji&130023424)&&(Ji=4194304)):r=1);var o=zt();t=fr(t,r),t!==null&&(Ar(t,r,o),Gt(t,o))}function t_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),dp(t,o)}function n_(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),dp(t,o)}var pp;pp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||$t.current)Ht=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Ht=!1,$y(t,r,o);Ht=!!(t.flags&131072)}else Ht=!1,Ge&&r.flags&1048576&&Gf(r,Ka,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;cl(t,r),t=r.pendingProps;var h=ys(r,kt.current);Is(r,o),h=lc(null,r,u,t,h,o);var p=uc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,qt(u)?(p=!0,Qa(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,tc(r),h.updater=ll,r.stateNode=h,h._reactInternals=r,mc(r,u,t,o),r=vc(null,r,u,!0,p,o)):(r.tag=0,Ge&&p&&Hu(r),Ut(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(cl(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=i_(u),t=Pn(u,t),h){case 0:r=_c(null,r,u,t,o);break e;case 1:r=Bd(null,r,u,t,o);break e;case 11:r=Md(null,r,u,t,o);break e;case 14:r=Od(null,r,u,Pn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),_c(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),Bd(t,r,u,h,o);case 3:e:{if(jd(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,nd(t,r),tl(r,u,null,o);var _=r.memoizedState;if(u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=As(Error(n(423)),r),r=bd(t,r,u,o,h);break e}else if(u!==h){h=As(Error(n(424)),r),r=bd(t,r,u,o,h);break e}else for(nn=Nr(r.stateNode.containerInfo.firstChild),tn=r,Ge=!0,Cn=null,o=ed(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Es(),u===h){r=pr(t,r,o);break e}Ut(t,r,u,o)}r=r.child}return r;case 5:return sd(r),t===null&&Wu(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,_=h.children,zu(u,h)?_=null:p!==null&&zu(u,p)&&(r.flags|=32),zd(t,r),Ut(t,r,_,o),r.child;case 6:return t===null&&Wu(r),null;case 13:return $d(t,r,o);case 4:return nc(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=ws(r,null,u,o):Ut(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),Md(t,r,u,h,o);case 7:return Ut(t,r,r.pendingProps,o),r.child;case 8:return Ut(t,r,r.pendingProps.children,o),r.child;case 12:return Ut(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,_=h.value,be(Ja,u._currentValue),u._currentValue=_,p!==null)if(Rn(p.value,_)){if(p.children===h.children&&!$t.current){r=pr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var T=p.dependencies;if(T!==null){_=p.child;for(var C=T.firstContext;C!==null;){if(C.context===u){if(p.tag===1){C=dr(-1,o&-o),C.tag=2;var U=p.updateQueue;if(U!==null){U=U.shared;var Q=U.pending;Q===null?C.next=C:(C.next=Q.next,Q.next=C),U.pending=C}}p.lanes|=o,C=p.alternate,C!==null&&(C.lanes|=o),Zu(p.return,o,r),T.lanes|=o;break}C=C.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=o,T=_.alternate,T!==null&&(T.lanes|=o),Zu(_,o,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}Ut(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,Is(r,o),h=dn(h),u=u(h),r.flags|=1,Ut(t,r,u,o),r.child;case 14:return u=r.type,h=Pn(u,r.pendingProps),h=Pn(u.type,h),Od(t,r,u,h,o);case 15:return Fd(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),cl(t,r),r.tag=1,qt(u)?(t=!0,Qa(r)):t=!1,Is(r,o),Pd(r,u,h),mc(r,u,h,o),vc(null,r,u,!0,t,o);case 19:return Hd(t,r,o);case 22:return Ud(t,r,o)}throw Error(n(156,r.tag))};function mp(t,r){return Yi(t,r)}function r_(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,r,o,u){return new r_(t,r,o,u)}function zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function i_(t){if(typeof t=="function")return zc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===L)return 11;if(t===Ct)return 14}return 2}function $r(t,r){var o=t.alternate;return o===null?(o=gn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function wl(t,r,o,u,h,p){var _=2;if(u=t,typeof t=="function")zc(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case V:return Di(o.children,h,p,r);case I:_=8,h|=8;break;case A:return t=gn(12,o,r,h|2),t.elementType=A,t.lanes=p,t;case S:return t=gn(13,o,r,h),t.elementType=S,t.lanes=p,t;case Ze:return t=gn(19,o,r,h),t.elementType=Ze,t.lanes=p,t;case Ue:return Tl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:_=10;break e;case D:_=9;break e;case L:_=11;break e;case Ct:_=14;break e;case Pt:_=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=gn(_,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Di(t,r,o,u){return t=gn(7,t,u,r),t.lanes=o,t}function Tl(t,r,o,u){return t=gn(22,t,u,r),t.elementType=Ue,t.lanes=o,t.stateNode={isHidden:!1},t}function Bc(t,r,o){return t=gn(6,t,null,r),t.lanes=o,t}function jc(t,r,o){return r=gn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function s_(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sr(0),this.expirationTimes=Sr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function bc(t,r,o,u,h,p,_,T,C){return t=new s_(t,r,o,T,C),r===1?(r=1,p===!0&&(r|=8)):r=0,p=gn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},tc(p),t}function o_(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:De,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function gp(t){if(!t)return Lr;t=t._reactInternals;e:{if(vn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(qt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(qt(o))return qf(t,o,r)}return r}function yp(t,r,o,u,h,p,_,T,C){return t=bc(o,u,!0,t,h,p,_,T,C),t.context=gp(null),o=t.current,u=zt(),h=jr(o),p=dr(u,h),p.callback=r??null,Fr(o,p,h),t.current.lanes=h,Ar(t,h,u),Gt(t,u),t}function Il(t,r,o,u){var h=r.current,p=zt(),_=jr(h);return o=gp(o),r.context===null?r.context=o:r.pendingContext=o,r=dr(p,_),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Fr(h,r,_),t!==null&&(Dn(t,h,_,p),el(t,h,_)),_}function Sl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _p(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function $c(t,r){_p(t,r),(t=t.alternate)&&_p(t,r)}var vp=typeof reportError=="function"?reportError:function(t){console.error(t)};function qc(t){this._internalRoot=t}Al.prototype.render=qc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Il(t,r,null,null)},Al.prototype.unmount=qc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Pi(function(){Il(null,t,null,null)}),r[lr]=null}};function Al(t){this._internalRoot=t}Al.prototype.unstable_scheduleHydration=function(t){if(t){var r=Aa();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Fn.length&&r!==0&&r<Fn[o].priority;o++);Fn.splice(o,0,t),o===0&&Pa(t)}};function Hc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ep(){}function a_(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var U=Sl(_);p.call(U)}}var _=yp(r,u,t,0,null,!1,!1,"",Ep);return t._reactRootContainer=_,t[lr]=_.current,Co(t.nodeType===8?t.parentNode:t),Pi(),_}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var T=u;u=function(){var U=Sl(C);T.call(U)}}var C=bc(t,0,!1,null,null,!1,!1,"",Ep);return t._reactRootContainer=C,t[lr]=C.current,Co(t.nodeType===8?t.parentNode:t),Pi(function(){Il(r,C,o,u)}),C}function Cl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var _=p;if(typeof h=="function"){var T=h;h=function(){var C=Sl(_);T.call(C)}}Il(r,_,t,h)}else _=a_(o,r,t,h,u);return Sl(_)}Ia=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Ir(r.pendingLanes);o!==0&&(Rr(r,o|1),Gt(r,je()),!(Ne&6)&&(Ps=je()+500,Mr()))}break;case 13:Pi(function(){var u=fr(t,1);if(u!==null){var h=zt();Dn(u,t,1,h)}}),$c(t,1)}},Zi=function(t){if(t.tag===13){var r=fr(t,134217728);if(r!==null){var o=zt();Dn(r,t,134217728,o)}$c(t,134217728)}},Sa=function(t){if(t.tag===13){var r=jr(t),o=fr(t,r);if(o!==null){var u=zt();Dn(o,t,r,u)}$c(t,r)}},Aa=function(){return Ae},Ra=function(t,r){var o=Ae;try{return Ae=t,r()}finally{Ae=o}},qi=function(t,r,o){switch(r){case"input":if(Xs(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=qa(u);if(!h)throw Error(n(90));Ui(u),Xs(u,h)}}}break;case"textarea":bi(t,o);break;case"select":r=o.value,r!=null&&er(t,!!o.multiple,r,!1)}},li=Oc,ao=Pi;var l_={usingClientEntryPoint:!1,Events:[Vo,ms,qa,Mn,oo,Oc]},qo={findFiberByHostInstance:Ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u_={bundleType:qo.bundleType,version:qo.version,rendererPackageName:qo.rendererPackageName,rendererConfig:qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Se.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=co(t),t===null?null:t.stateNode},findFiberByHostInstance:qo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pl.isDisabled&&Pl.supportsFiber)try{di=Pl.inject(u_),Xt=Pl}catch{}}return Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l_,Wt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hc(r))throw Error(n(200));return o_(t,r,null,o)},Wt.createRoot=function(t,r){if(!Hc(t))throw Error(n(299));var o=!1,u="",h=vp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=bc(t,1,!1,null,null,o,!1,u,h),t[lr]=r.current,Co(t.nodeType===8?t.parentNode:t),new qc(r)},Wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=co(r),t=t===null?null:t.stateNode,t},Wt.flushSync=function(t){return Pi(t)},Wt.hydrate=function(t,r,o){if(!Rl(r))throw Error(n(200));return Cl(null,t,r,!0,o)},Wt.hydrateRoot=function(t,r,o){if(!Hc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",_=vp;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=yp(r,null,t,1,o??null,h,!1,p,_),t[lr]=r.current,Co(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new Al(r)},Wt.render=function(t,r,o){if(!Rl(r))throw Error(n(200));return Cl(null,t,r,!1,o)},Wt.unmountComponentAtNode=function(t){if(!Rl(t))throw Error(n(40));return t._reactRootContainer?(Pi(function(){Cl(null,null,t,!1,function(){t._reactRootContainer=null,t[lr]=null})}),!0):!1},Wt.unstable_batchedUpdates=Oc,Wt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Rl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Cl(t,r,o,!1,u)},Wt.version="18.3.1-next-f1338f8080-20240426",Wt}var Pp;function __(){if(Pp)return Wc.exports;Pp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Wc.exports=y_(),Wc.exports}var kp;function v_(){if(kp)return kl;kp=1;var i=__();return kl.createRoot=i.createRoot,kl.hydrateRoot=i.hydrateRoot,kl}var E_=v_();const w_=km(E_);var Vp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},T_=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],m=i[n++],y=((a&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Dm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,m=f?i[a+1]:0,y=a+2<i.length,v=y?i[a+2]:0,w=c>>2,R=(c&3)<<4|m>>4;let N=(m&15)<<2|v>>6,B=v&63;y||(B=64,f||(N=64)),s.push(n[w],n[R],n[N],n[B])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Vm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):T_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const R=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||v==null||R==null)throw new I_;const N=c<<2|m>>4;if(s.push(N),v!==64){const B=m<<4&240|v>>2;if(s.push(B),R!==64){const W=v<<6&192|R;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class I_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S_=function(i){const e=Vm(i);return Dm.encodeByteArray(e,!0)},jl=function(i){return S_(i).replace(/\./g,"")},A_=function(i){try{return Dm.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=()=>R_().__FIREBASE_DEFAULTS__,P_=()=>{if(typeof process>"u"||typeof Vp>"u")return;const i=Vp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},k_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&A_(i[1]);return e&&JSON.parse(e)},Vh=()=>{try{return C_()||P_()||k_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},V_=i=>{var e,n;return(n=(e=Vh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},D_=i=>{const e=V_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Nm=()=>{var i;return(i=Vh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[jl(JSON.stringify(n)),jl(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M_(){var i;const e=(i=Vh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function O_(){return!M_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F_(){try{return typeof indexedDB=="object"}catch{return!1}}function U_(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="FirebaseError";class qs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=z_,Object.setPrototypeOf(this,qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xm.prototype.create)}}class xm{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?B_(c,s):"Error",m=`${this.serviceName}: ${f} (${a}).`;return new qs(a,m,s)}}function B_(i,e){return i.replace(j_,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const j_=/\{\$([^}]+)}/g;function sh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(Dp(c)&&Dp(f)){if(!sh(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Dp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(i){return i&&i._delegate?i._delegate:i}class ea{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new N_;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q_(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$_(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $_(i){return i===Ni?void 0:i}function q_(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new b_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const Q_={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},G_=Ve.INFO,W_={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},K_=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=W_[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lm{constructor(e){this.name=e,this._logLevel=G_,this._logHandler=K_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Q_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const Y_=(i,e)=>e.some(n=>i instanceof n);let Np,xp;function X_(){return Np||(Np=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J_(){return xp||(xp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mm=new WeakMap,oh=new WeakMap,Om=new WeakMap,Xc=new WeakMap,Dh=new WeakMap;function Z_(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(Qr(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Mm.set(n,i)}).catch(()=>{}),Dh.set(e,i),e}function ev(i){if(oh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});oh.set(i,e)}let ah={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return oh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Om.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function tv(i){ah=i(ah)}function nv(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Jc(this),e,...n);return Om.set(s,e.sort?e.sort():[e]),Qr(s)}:J_().includes(i)?function(...e){return i.apply(Jc(this),e),Qr(Mm.get(this))}:function(...e){return Qr(i.apply(Jc(this),e))}}function rv(i){return typeof i=="function"?nv(i):(i instanceof IDBTransaction&&ev(i),Y_(i,X_())?new Proxy(i,ah):i)}function Qr(i){if(i instanceof IDBRequest)return Z_(i);if(Xc.has(i))return Xc.get(i);const e=rv(i);return e!==i&&(Xc.set(i,e),Dh.set(e,i)),e}const Jc=i=>Dh.get(i);function iv(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),m=Qr(f);return s&&f.addEventListener("upgradeneeded",y=>{s(Qr(f.result),y.oldVersion,y.newVersion,Qr(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const sv=["get","getKey","getAll","getAllKeys","count"],ov=["put","add","delete","clear"],Zc=new Map;function Lp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Zc.get(e))return Zc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=ov.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||sv.includes(n)))return;const c=async function(f,...m){const y=this.transaction(f,a?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),a&&y.done]))[0]};return Zc.set(e,c),c}tv(i=>({...i,get:(e,n,s)=>Lp(e,n)||i.get(e,n,s),has:(e,n)=>!!Lp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lv(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function lv(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lh="@firebase/app",Mp="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new Lm("@firebase/app"),uv="@firebase/app-compat",cv="@firebase/analytics-compat",hv="@firebase/analytics",fv="@firebase/app-check-compat",dv="@firebase/app-check",pv="@firebase/auth",mv="@firebase/auth-compat",gv="@firebase/database",yv="@firebase/data-connect",_v="@firebase/database-compat",vv="@firebase/functions",Ev="@firebase/functions-compat",wv="@firebase/installations",Tv="@firebase/installations-compat",Iv="@firebase/messaging",Sv="@firebase/messaging-compat",Av="@firebase/performance",Rv="@firebase/performance-compat",Cv="@firebase/remote-config",Pv="@firebase/remote-config-compat",kv="@firebase/storage",Vv="@firebase/storage-compat",Dv="@firebase/firestore",Nv="@firebase/vertexai",xv="@firebase/firestore-compat",Lv="firebase",Mv="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh="[DEFAULT]",Ov={[lh]:"fire-core",[uv]:"fire-core-compat",[hv]:"fire-analytics",[cv]:"fire-analytics-compat",[dv]:"fire-app-check",[fv]:"fire-app-check-compat",[pv]:"fire-auth",[mv]:"fire-auth-compat",[gv]:"fire-rtdb",[yv]:"fire-data-connect",[_v]:"fire-rtdb-compat",[vv]:"fire-fn",[Ev]:"fire-fn-compat",[wv]:"fire-iid",[Tv]:"fire-iid-compat",[Iv]:"fire-fcm",[Sv]:"fire-fcm-compat",[Av]:"fire-perf",[Rv]:"fire-perf-compat",[Cv]:"fire-rc",[Pv]:"fire-rc-compat",[kv]:"fire-gcs",[Vv]:"fire-gcs-compat",[Dv]:"fire-fst",[xv]:"fire-fst-compat",[Nv]:"fire-vertex","fire-js":"fire-js",[Lv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=new Map,Fv=new Map,ch=new Map;function Op(i,e){try{i.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function $l(i){const e=i.name;if(ch.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;ch.set(e,i);for(const n of bl.values())Op(n,i);for(const n of Fv.values())Op(n,i);return!0}function Uv(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new xm("app","Firebase",zv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=Mv;function Fm(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:uh,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Gr.create("bad-app-name",{appName:String(a)});if(n||(n=Nm()),!n)throw Gr.create("no-options");const c=bl.get(a);if(c){if(sh(n,c.options)&&sh(s,c.config))return c;throw Gr.create("duplicate-app",{appName:a})}const f=new H_(a);for(const y of ch.values())f.addComponent(y);const m=new Bv(n,s,f);return bl.set(a,m),m}function bv(i=uh){const e=bl.get(i);if(!e&&i===uh&&Nm())return Fm();if(!e)throw Gr.create("no-app",{appName:i});return e}function Ls(i,e,n){var s;let a=(s=Ov[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(m.join(" "));return}$l(new ea(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="firebase-heartbeat-database",qv=1,ta="firebase-heartbeat-store";let eh=null;function Um(){return eh||(eh=iv($v,qv,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ta)}catch(n){console.warn(n)}}}}).catch(i=>{throw Gr.create("idb-open",{originalErrorMessage:i.message})})),eh}async function Hv(i){try{const n=(await Um()).transaction(ta),s=await n.objectStore(ta).get(zm(i));return await n.done,s}catch(e){if(e instanceof qs)yr.warn(e.message);else{const n=Gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yr.warn(n.message)}}}async function Fp(i,e){try{const s=(await Um()).transaction(ta,"readwrite");await s.objectStore(ta).put(e,zm(i)),await s.done}catch(n){if(n instanceof qs)yr.warn(n.message);else{const s=Gr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yr.warn(s.message)}}}function zm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=1024,Gv=30*24*60*60*1e3;class Wv{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Yv(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Up();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=Gv}),this._storage.overwrite(this._heartbeatsCache))}catch(s){yr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Up(),{heartbeatsToSend:s,unsentEntries:a}=Kv(this._heartbeatsCache.heartbeats),c=jl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return yr.warn(n),""}}}function Up(){return new Date().toISOString().substring(0,10)}function Kv(i,e=Qv){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),zp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),zp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Yv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F_()?U_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Hv(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Fp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Fp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function zp(i){return jl(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(i){$l(new ea("platform-logger",e=>new av(e),"PRIVATE")),$l(new ea("heartbeat",e=>new Wv(e),"PRIVATE")),Ls(lh,Mp,i),Ls(lh,Mp,"esm2017"),Ls("fire-js","")}Xv("");var Bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wr,Bm;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,I){function A(){}A.prototype=I.prototype,V.D=I.prototype,V.prototype=new A,V.prototype.constructor=V,V.C=function(k,D,L){for(var S=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)S[Ze-2]=arguments[Ze];return I.prototype[D].apply(k,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,I,A){A||(A=0);var k=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)k[D]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(D=0;16>D;++D)k[D]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=V.g[0],A=V.g[1],D=V.g[2];var L=V.g[3],S=I+(L^A&(D^L))+k[0]+3614090360&4294967295;I=A+(S<<7&4294967295|S>>>25),S=L+(D^I&(A^D))+k[1]+3905402710&4294967295,L=I+(S<<12&4294967295|S>>>20),S=D+(A^L&(I^A))+k[2]+606105819&4294967295,D=L+(S<<17&4294967295|S>>>15),S=A+(I^D&(L^I))+k[3]+3250441966&4294967295,A=D+(S<<22&4294967295|S>>>10),S=I+(L^A&(D^L))+k[4]+4118548399&4294967295,I=A+(S<<7&4294967295|S>>>25),S=L+(D^I&(A^D))+k[5]+1200080426&4294967295,L=I+(S<<12&4294967295|S>>>20),S=D+(A^L&(I^A))+k[6]+2821735955&4294967295,D=L+(S<<17&4294967295|S>>>15),S=A+(I^D&(L^I))+k[7]+4249261313&4294967295,A=D+(S<<22&4294967295|S>>>10),S=I+(L^A&(D^L))+k[8]+1770035416&4294967295,I=A+(S<<7&4294967295|S>>>25),S=L+(D^I&(A^D))+k[9]+2336552879&4294967295,L=I+(S<<12&4294967295|S>>>20),S=D+(A^L&(I^A))+k[10]+4294925233&4294967295,D=L+(S<<17&4294967295|S>>>15),S=A+(I^D&(L^I))+k[11]+2304563134&4294967295,A=D+(S<<22&4294967295|S>>>10),S=I+(L^A&(D^L))+k[12]+1804603682&4294967295,I=A+(S<<7&4294967295|S>>>25),S=L+(D^I&(A^D))+k[13]+4254626195&4294967295,L=I+(S<<12&4294967295|S>>>20),S=D+(A^L&(I^A))+k[14]+2792965006&4294967295,D=L+(S<<17&4294967295|S>>>15),S=A+(I^D&(L^I))+k[15]+1236535329&4294967295,A=D+(S<<22&4294967295|S>>>10),S=I+(D^L&(A^D))+k[1]+4129170786&4294967295,I=A+(S<<5&4294967295|S>>>27),S=L+(A^D&(I^A))+k[6]+3225465664&4294967295,L=I+(S<<9&4294967295|S>>>23),S=D+(I^A&(L^I))+k[11]+643717713&4294967295,D=L+(S<<14&4294967295|S>>>18),S=A+(L^I&(D^L))+k[0]+3921069994&4294967295,A=D+(S<<20&4294967295|S>>>12),S=I+(D^L&(A^D))+k[5]+3593408605&4294967295,I=A+(S<<5&4294967295|S>>>27),S=L+(A^D&(I^A))+k[10]+38016083&4294967295,L=I+(S<<9&4294967295|S>>>23),S=D+(I^A&(L^I))+k[15]+3634488961&4294967295,D=L+(S<<14&4294967295|S>>>18),S=A+(L^I&(D^L))+k[4]+3889429448&4294967295,A=D+(S<<20&4294967295|S>>>12),S=I+(D^L&(A^D))+k[9]+568446438&4294967295,I=A+(S<<5&4294967295|S>>>27),S=L+(A^D&(I^A))+k[14]+3275163606&4294967295,L=I+(S<<9&4294967295|S>>>23),S=D+(I^A&(L^I))+k[3]+4107603335&4294967295,D=L+(S<<14&4294967295|S>>>18),S=A+(L^I&(D^L))+k[8]+1163531501&4294967295,A=D+(S<<20&4294967295|S>>>12),S=I+(D^L&(A^D))+k[13]+2850285829&4294967295,I=A+(S<<5&4294967295|S>>>27),S=L+(A^D&(I^A))+k[2]+4243563512&4294967295,L=I+(S<<9&4294967295|S>>>23),S=D+(I^A&(L^I))+k[7]+1735328473&4294967295,D=L+(S<<14&4294967295|S>>>18),S=A+(L^I&(D^L))+k[12]+2368359562&4294967295,A=D+(S<<20&4294967295|S>>>12),S=I+(A^D^L)+k[5]+4294588738&4294967295,I=A+(S<<4&4294967295|S>>>28),S=L+(I^A^D)+k[8]+2272392833&4294967295,L=I+(S<<11&4294967295|S>>>21),S=D+(L^I^A)+k[11]+1839030562&4294967295,D=L+(S<<16&4294967295|S>>>16),S=A+(D^L^I)+k[14]+4259657740&4294967295,A=D+(S<<23&4294967295|S>>>9),S=I+(A^D^L)+k[1]+2763975236&4294967295,I=A+(S<<4&4294967295|S>>>28),S=L+(I^A^D)+k[4]+1272893353&4294967295,L=I+(S<<11&4294967295|S>>>21),S=D+(L^I^A)+k[7]+4139469664&4294967295,D=L+(S<<16&4294967295|S>>>16),S=A+(D^L^I)+k[10]+3200236656&4294967295,A=D+(S<<23&4294967295|S>>>9),S=I+(A^D^L)+k[13]+681279174&4294967295,I=A+(S<<4&4294967295|S>>>28),S=L+(I^A^D)+k[0]+3936430074&4294967295,L=I+(S<<11&4294967295|S>>>21),S=D+(L^I^A)+k[3]+3572445317&4294967295,D=L+(S<<16&4294967295|S>>>16),S=A+(D^L^I)+k[6]+76029189&4294967295,A=D+(S<<23&4294967295|S>>>9),S=I+(A^D^L)+k[9]+3654602809&4294967295,I=A+(S<<4&4294967295|S>>>28),S=L+(I^A^D)+k[12]+3873151461&4294967295,L=I+(S<<11&4294967295|S>>>21),S=D+(L^I^A)+k[15]+530742520&4294967295,D=L+(S<<16&4294967295|S>>>16),S=A+(D^L^I)+k[2]+3299628645&4294967295,A=D+(S<<23&4294967295|S>>>9),S=I+(D^(A|~L))+k[0]+4096336452&4294967295,I=A+(S<<6&4294967295|S>>>26),S=L+(A^(I|~D))+k[7]+1126891415&4294967295,L=I+(S<<10&4294967295|S>>>22),S=D+(I^(L|~A))+k[14]+2878612391&4294967295,D=L+(S<<15&4294967295|S>>>17),S=A+(L^(D|~I))+k[5]+4237533241&4294967295,A=D+(S<<21&4294967295|S>>>11),S=I+(D^(A|~L))+k[12]+1700485571&4294967295,I=A+(S<<6&4294967295|S>>>26),S=L+(A^(I|~D))+k[3]+2399980690&4294967295,L=I+(S<<10&4294967295|S>>>22),S=D+(I^(L|~A))+k[10]+4293915773&4294967295,D=L+(S<<15&4294967295|S>>>17),S=A+(L^(D|~I))+k[1]+2240044497&4294967295,A=D+(S<<21&4294967295|S>>>11),S=I+(D^(A|~L))+k[8]+1873313359&4294967295,I=A+(S<<6&4294967295|S>>>26),S=L+(A^(I|~D))+k[15]+4264355552&4294967295,L=I+(S<<10&4294967295|S>>>22),S=D+(I^(L|~A))+k[6]+2734768916&4294967295,D=L+(S<<15&4294967295|S>>>17),S=A+(L^(D|~I))+k[13]+1309151649&4294967295,A=D+(S<<21&4294967295|S>>>11),S=I+(D^(A|~L))+k[4]+4149444226&4294967295,I=A+(S<<6&4294967295|S>>>26),S=L+(A^(I|~D))+k[11]+3174756917&4294967295,L=I+(S<<10&4294967295|S>>>22),S=D+(I^(L|~A))+k[2]+718787259&4294967295,D=L+(S<<15&4294967295|S>>>17),S=A+(L^(D|~I))+k[9]+3951481745&4294967295,V.g[0]=V.g[0]+I&4294967295,V.g[1]=V.g[1]+(D+(S<<21&4294967295|S>>>11))&4294967295,V.g[2]=V.g[2]+D&4294967295,V.g[3]=V.g[3]+L&4294967295}s.prototype.u=function(V,I){I===void 0&&(I=V.length);for(var A=I-this.blockSize,k=this.B,D=this.h,L=0;L<I;){if(D==0)for(;L<=A;)a(this,V,L),L+=this.blockSize;if(typeof V=="string"){for(;L<I;)if(k[D++]=V.charCodeAt(L++),D==this.blockSize){a(this,k),D=0;break}}else for(;L<I;)if(k[D++]=V[L++],D==this.blockSize){a(this,k),D=0;break}}this.h=D,this.o+=I},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var I=1;I<V.length-8;++I)V[I]=0;var A=8*this.o;for(I=V.length-8;I<V.length;++I)V[I]=A&255,A/=256;for(this.u(V),V=Array(16),I=A=0;4>I;++I)for(var k=0;32>k;k+=8)V[A++]=this.g[I]>>>k&255;return V};function c(V,I){var A=m;return Object.prototype.hasOwnProperty.call(A,V)?A[V]:A[V]=I(V)}function f(V,I){this.h=I;for(var A=[],k=!0,D=V.length-1;0<=D;D--){var L=V[D]|0;k&&L==I||(A[D]=L,k=!1)}this.g=A}var m={};function y(V){return-128<=V&&128>V?c(V,function(I){return new f([I|0],0>I?-1:0)}):new f([V|0],0>V?-1:0)}function v(V){if(isNaN(V)||!isFinite(V))return R;if(0>V)return q(v(-V));for(var I=[],A=1,k=0;V>=A;k++)I[k]=V/A|0,A*=4294967296;return new f(I,0)}function w(V,I){if(V.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(V.charAt(0)=="-")return q(w(V.substring(1),I));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(I,8)),k=R,D=0;D<V.length;D+=8){var L=Math.min(8,V.length-D),S=parseInt(V.substring(D,D+L),I);8>L?(L=v(Math.pow(I,L)),k=k.j(L).add(v(S))):(k=k.j(A),k=k.add(v(S)))}return k}var R=y(0),N=y(1),B=y(16777216);i=f.prototype,i.m=function(){if(K(this))return-q(this).m();for(var V=0,I=1,A=0;A<this.g.length;A++){var k=this.i(A);V+=(0<=k?k:4294967296+k)*I,I*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(W(this))return"0";if(K(this))return"-"+q(this).toString(V);for(var I=v(Math.pow(V,6)),A=this,k="";;){var D=Se(A,I).g;A=ge(A,D.j(I));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(V);if(A=D,W(A))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function W(V){if(V.h!=0)return!1;for(var I=0;I<V.g.length;I++)if(V.g[I]!=0)return!1;return!0}function K(V){return V.h==-1}i.l=function(V){return V=ge(this,V),K(V)?-1:W(V)?0:1};function q(V){for(var I=V.g.length,A=[],k=0;k<I;k++)A[k]=~V.g[k];return new f(A,~V.h).add(N)}i.abs=function(){return K(this)?q(this):this},i.add=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],k=0,D=0;D<=I;D++){var L=k+(this.i(D)&65535)+(V.i(D)&65535),S=(L>>>16)+(this.i(D)>>>16)+(V.i(D)>>>16);k=S>>>16,L&=65535,S&=65535,A[D]=S<<16|L}return new f(A,A[A.length-1]&-2147483648?-1:0)};function ge(V,I){return V.add(q(I))}i.j=function(V){if(W(this)||W(V))return R;if(K(this))return K(V)?q(this).j(q(V)):q(q(this).j(V));if(K(V))return q(this.j(q(V)));if(0>this.l(B)&&0>V.l(B))return v(this.m()*V.m());for(var I=this.g.length+V.g.length,A=[],k=0;k<2*I;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<V.g.length;D++){var L=this.i(k)>>>16,S=this.i(k)&65535,Ze=V.i(D)>>>16,Ct=V.i(D)&65535;A[2*k+2*D]+=S*Ct,ye(A,2*k+2*D),A[2*k+2*D+1]+=L*Ct,ye(A,2*k+2*D+1),A[2*k+2*D+1]+=S*Ze,ye(A,2*k+2*D+1),A[2*k+2*D+2]+=L*Ze,ye(A,2*k+2*D+2)}for(k=0;k<I;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=I;k<2*I;k++)A[k]=0;return new f(A,0)};function ye(V,I){for(;(V[I]&65535)!=V[I];)V[I+1]+=V[I]>>>16,V[I]&=65535,I++}function _e(V,I){this.g=V,this.h=I}function Se(V,I){if(W(I))throw Error("division by zero");if(W(V))return new _e(R,R);if(K(V))return I=Se(q(V),I),new _e(q(I.g),q(I.h));if(K(I))return I=Se(V,q(I)),new _e(q(I.g),I.h);if(30<V.g.length){if(K(V)||K(I))throw Error("slowDivide_ only works with positive integers.");for(var A=N,k=I;0>=k.l(V);)A=Je(A),k=Je(k);var D=De(A,1),L=De(k,1);for(k=De(k,2),A=De(A,2);!W(k);){var S=L.add(k);0>=S.l(V)&&(D=D.add(A),L=S),k=De(k,1),A=De(A,1)}return I=ge(V,D.j(I)),new _e(D,I)}for(D=R;0<=V.l(I);){for(A=Math.max(1,Math.floor(V.m()/I.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),L=v(A),S=L.j(I);K(S)||0<S.l(V);)A-=k,L=v(A),S=L.j(I);W(L)&&(L=N),D=D.add(L),V=ge(V,S)}return new _e(D,V)}i.A=function(V){return Se(this,V).h},i.and=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)&V.i(k);return new f(A,this.h&V.h)},i.or=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)|V.i(k);return new f(A,this.h|V.h)},i.xor=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)^V.i(k);return new f(A,this.h^V.h)};function Je(V){for(var I=V.g.length+1,A=[],k=0;k<I;k++)A[k]=V.i(k)<<1|V.i(k-1)>>>31;return new f(A,V.h)}function De(V,I){var A=I>>5;I%=32;for(var k=V.g.length-A,D=[],L=0;L<k;L++)D[L]=0<I?V.i(L+A)>>>I|V.i(L+A+1)<<32-I:V.i(L+A);return new f(D,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Bm=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=w,Wr=f}).apply(typeof Bp<"u"?Bp:typeof self<"u"?self:typeof window<"u"?window:{});var Vl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jm,Qo,bm,Ml,hh,$m,qm,Hm;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,g){return l==Array.prototype||l==Object.prototype||(l[d]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vl=="object"&&Vl];for(var d=0;d<l.length;++d){var g=l[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var g=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var M=l[E];if(!(M in g))break e;g=g[M]}l=l[l.length-1],E=g[l],d=d(E),d!=E&&d!=null&&e(g,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var g=0,E=!1,M={next:function(){if(!E&&g<l.length){var z=g++;return{value:d(z,l[z]),done:!1}}return E=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function v(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function w(l,d,g){return l.call.apply(l.bind,arguments)}function R(l,d,g){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,E),l.apply(d,M)}}return function(){return l.apply(d,arguments)}}function N(l,d,g){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:R,N.apply(null,arguments)}function B(l,d){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function W(l,d){function g(){}g.prototype=d.prototype,l.aa=d.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(E,M,z){for(var X=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)X[Fe-2]=arguments[Fe];return d.prototype[M].apply(E,X)}}function K(l){const d=l.length;if(0<d){const g=Array(d);for(let E=0;E<d;E++)g[E]=l[E];return g}return[]}function q(l,d){for(let g=1;g<arguments.length;g++){const E=arguments[g];if(y(E)){const M=l.length||0,z=E.length||0;l.length=M+z;for(let X=0;X<z;X++)l[M+X]=E[X]}else l.push(E)}}class ge{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ye(l){return/^[\s\xa0]*$/.test(l)}function _e(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function Se(l){return Se[" "](l),l}Se[" "]=function(){};var Je=_e().indexOf("Gecko")!=-1&&!(_e().toLowerCase().indexOf("webkit")!=-1&&_e().indexOf("Edge")==-1)&&!(_e().indexOf("Trident")!=-1||_e().indexOf("MSIE")!=-1)&&_e().indexOf("Edge")==-1;function De(l,d,g){for(const E in l)d.call(g,l[E],E,l)}function V(l,d){for(const g in l)d.call(void 0,l[g],g,l)}function I(l){const d={};for(const g in l)d[g]=l[g];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,d){let g,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(g in E)l[g]=E[g];for(let z=0;z<A.length;z++)g=A[z],Object.prototype.hasOwnProperty.call(E,g)&&(l[g]=E[g])}}function D(l){var d=1;l=l.split(":");const g=[];for(;0<d&&l.length;)g.push(l.shift()),d--;return l.length&&g.push(l.join(":")),g}function L(l){m.setTimeout(()=>{throw l},0)}function S(){var l=ue;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Ze{constructor(){this.h=this.g=null}add(d,g){const E=Ct.get();E.set(d,g),this.h?this.h.next=E:this.g=E,this.h=E}}var Ct=new ge(()=>new Pt,l=>l.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,J=!1,ue=new Ze,ee=()=>{const l=m.Promise.resolve(void 0);Ue=()=>{l.then(x)}};var x=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(g){L(g)}var d=Ct;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}J=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,d),m.removeEventListener("test",g,d)}catch{}return l}();function Ee(l,d){if(ae.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Je){e:{try{Se(d.nodeName);var M=!0;break e}catch{}M=!1}M||(d=null)}}else g=="mouseover"?d=l.fromElement:g=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ce[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ee.aa.h.call(this)}}W(Ee,ae);var Ce={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Be(l,d,g,E,M){this.listener=l,this.proxy=null,this.src=d,this.type=g,this.capture=!!E,this.ha=M,this.key=++Me,this.da=this.fa=!1}function pt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Jn(l){this.src=l,this.g={},this.h=0}Jn.prototype.add=function(l,d,g,E,M){var z=l.toString();l=this.g[z],l||(l=this.g[z]=[],this.h++);var X=Er(l,d,E,M);return-1<X?(d=l[X],g||(d.fa=!1)):(d=new Be(d,this.src,z,!!E,M),d.fa=g,l.push(d)),d};function Ui(l,d){var g=d.type;if(g in l.g){var E=l.g[g],M=Array.prototype.indexOf.call(E,d,void 0),z;(z=0<=M)&&Array.prototype.splice.call(E,M,1),z&&(pt(d),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Er(l,d,g,E){for(var M=0;M<l.length;++M){var z=l[M];if(!z.da&&z.listener==d&&z.capture==!!g&&z.ha==E)return M}return-1}var ii="closure_lm_"+(1e6*Math.random()|0),zi={};function Ys(l,d,g,E,M){if(Array.isArray(d)){for(var z=0;z<d.length;z++)Ys(l,d[z],g,E,M);return null}return g=Zs(g),l&&l[Le]?l.K(d,g,v(E)?!!E.capture:!1,M):Xs(l,d,g,!1,E,M)}function Xs(l,d,g,E,M,z){if(!d)throw Error("Invalid event type");var X=v(M)?!!M.capture:!!M,Fe=ji(l);if(Fe||(l[ii]=Fe=new Jn(l)),g=Fe.add(d,g,E,X,z),g.proxy)return g;if(E=pa(),g.proxy=E,E.src=l,E.listener=g,l.addEventListener)ve||(M=X),M===void 0&&(M=!1),l.addEventListener(d.toString(),E,M);else if(l.attachEvent)l.attachEvent(er(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function pa(){function l(g){return d.call(l.src,l.listener,g)}const d=Js;return l}function Bi(l,d,g,E,M){if(Array.isArray(d))for(var z=0;z<d.length;z++)Bi(l,d[z],g,E,M);else E=v(E)?!!E.capture:!!E,g=Zs(g),l&&l[Le]?(l=l.i,d=String(d).toString(),d in l.g&&(z=l.g[d],g=Er(z,g,E,M),-1<g&&(pt(z[g]),Array.prototype.splice.call(z,g,1),z.length==0&&(delete l.g[d],l.h--)))):l&&(l=ji(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Er(d,g,E,M)),(g=-1<l?d[l]:null)&&Zn(g))}function Zn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Le])Ui(d.i,l);else{var g=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(g,E,l.capture):d.detachEvent?d.detachEvent(er(g),E):d.addListener&&d.removeListener&&d.removeListener(E),(g=ji(d))?(Ui(g,l),g.h==0&&(g.src=null,d[ii]=null)):pt(l)}}}function er(l){return l in zi?zi[l]:zi[l]="on"+l}function Js(l,d){if(l.da)l=!0;else{d=new Ee(d,this);var g=l.listener,E=l.ha||l.src;l.fa&&Zn(l),l=g.call(E,d)}return l}function ji(l){return l=l[ii],l instanceof Jn?l:null}var bi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zs(l){return typeof l=="function"?l:(l[bi]||(l[bi]=function(d){return l.handleEvent(d)}),l[bi])}function at(){$.call(this),this.i=new Jn(this),this.M=this,this.F=null}W(at,$),at.prototype[Le]=!0,at.prototype.removeEventListener=function(l,d,g,E){Bi(this,l,d,g,E)};function lt(l,d){var g,E=l.F;if(E)for(g=[];E;E=E.F)g.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new ae(d,l);else if(d instanceof ae)d.target=d.target||l;else{var M=d;d=new ae(E,l),k(d,M)}if(M=!0,g)for(var z=g.length-1;0<=z;z--){var X=d.g=g[z];M=tr(X,E,!0,d)&&M}if(X=d.g=l,M=tr(X,E,!0,d)&&M,M=tr(X,E,!1,d)&&M,g)for(z=0;z<g.length;z++)X=d.g=g[z],M=tr(X,E,!1,d)&&M}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var g=l.g[d],E=0;E<g.length;E++)pt(g[E]);delete l.g[d],l.h--}}this.F=null},at.prototype.K=function(l,d,g,E){return this.i.add(String(l),d,!1,g,E)},at.prototype.L=function(l,d,g,E){return this.i.add(String(l),d,!0,g,E)};function tr(l,d,g,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var M=!0,z=0;z<d.length;++z){var X=d[z];if(X&&!X.da&&X.capture==g){var Fe=X.listener,ut=X.ha||X.src;X.fa&&Ui(l.i,X),M=Fe.call(ut,E)!==!1&&M}}return M&&!E.defaultPrevented}function eo(l,d,g){if(typeof l=="function")g&&(l=N(l,g));else if(l&&typeof l.handleEvent=="function")l=N(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function wr(l){l.g=eo(()=>{l.g=null,l.i&&(l.i=!1,wr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class si extends ${constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:wr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oi(l){$.call(this),this.h=l,this.g={}}W(oi,$);var to=[];function no(l){De(l.g,function(d,g){this.g.hasOwnProperty(g)&&Zn(d)},l),l.g={}}oi.prototype.N=function(){oi.aa.N.call(this),no(this)},oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ro=m.JSON.stringify,io=m.JSON.parse,so=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function ai(){}ai.prototype.h=null;function $i(l){return l.h||(l.h=l.i())}function qi(){}var an={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ln(){ae.call(this,"d")}W(Ln,ae);function Hi(){ae.call(this,"c")}W(Hi,ae);var Mn={},oo=null;function li(){return oo=oo||new at}Mn.La="serverreachability";function ao(l){ae.call(this,Mn.La,l)}W(ao,ae);function nr(l){const d=li();lt(d,new ao(d))}Mn.STAT_EVENT="statevent";function lo(l,d){ae.call(this,Mn.STAT_EVENT,l),this.stat=d}W(lo,ae);function et(l){const d=li();lt(d,new lo(d,l))}Mn.Ma="timingevent";function Qi(l,d){ae.call(this,Mn.Ma,l),this.size=d}W(Qi,ae);function yn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function ui(){this.g=!0}ui.prototype.xa=function(){this.g=!1};function ci(l,d,g,E,M,z){l.info(function(){if(l.g)if(z)for(var X="",Fe=z.split("&"),ut=0;ut<Fe.length;ut++){var Pe=Fe[ut].split("=");if(1<Pe.length){var mt=Pe[0];Pe=Pe[1];var rt=mt.split("_");X=2<=rt.length&&rt[1]=="type"?X+(mt+"="+Pe+"&"):X+(mt+"=redacted&")}}else X=null;else X=z;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+d+`
`+g+`
`+X})}function Gi(l,d,g,E,M,z,X){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+d+`
`+g+`
`+z+" "+X})}function _n(l,d,g,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+Eu(l,g)+(E?" "+E:"")})}function uo(l,d){l.info(function(){return"TIMEOUT: "+d})}ui.prototype.info=function(){};function Eu(l,d){if(!l.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var E=g[l];if(!(2>E.length)){var M=E[1];if(Array.isArray(M)&&!(1>M.length)){var z=M[0];if(z!="noop"&&z!="stop"&&z!="close")for(var X=1;X<M.length;X++)M[X]=""}}}}return ro(g)}catch{return d}}var Wi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ma={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vn;function hi(){}W(hi,ai),hi.prototype.g=function(){return new XMLHttpRequest},hi.prototype.i=function(){return{}},vn=new hi;function En(l,d,g,E){this.j=l,this.i=d,this.l=g,this.R=E||1,this.U=new oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ga}function ga(){this.i=null,this.g="",this.h=!1}var co={},Ki={};function Yi(l,d,g){l.L=1,l.v=Rr(Jt(d)),l.m=g,l.P=!0,ho(l,null)}function ho(l,d){l.F=Date.now(),je(l),l.A=Jt(l.v);var g=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Pr(g.i,"t",E),l.C=0,g=l.j.J,l.h=new ga,l.g=La(l.j,g?d:null,!l.m),0<l.O&&(l.M=new si(N(l.Y,l,l.g),l.O)),d=l.U,g=l.g,E=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(to[0]=M.toString()),M=to);for(var z=0;z<M.length;z++){var X=Ys(g,M[z],E||d.handleEvent,!1,d.h||d);if(!X)break;d.g[X.key]=X}d=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),nr(),ci(l.i,l.u,l.A,l.l,l.R,l.m)}En.prototype.ca=function(l){l=l.target;const d=this.M;d&&bt(l)==3?d.j():this.Y(l)},En.prototype.Y=function(l){try{if(l==this.g)e:{const rt=bt(this.g);var d=this.g.Ba();const cn=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||_o(this.g)))){this.J||rt!=4||d==7||(d==8||0>=cn?nr(3):nr(2)),fi(this);var g=this.g.Z();this.X=g;t:if(ya(this)){var E=_o(this.g);l="";var M=E.length,z=bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),Tr(this);var X="";break t}this.h.i=new m.TextDecoder}for(d=0;d<M;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!(z&&d==M-1)});E.length=0,this.h.g+=l,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=g==200,Gi(this.i,this.u,this.A,this.l,this.R,rt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,ut=this.g;if((Fe=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ye(Fe)){var Pe=Fe;break t}}Pe=null}if(g=Pe)_n(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fo(this,g);else{this.o=!1,this.s=3,et(12),ln(this),Tr(this);break e}}if(this.P){g=!0;let en;for(;!this.J&&this.C<X.length;)if(en=wu(this,X),en==Ki){rt==4&&(this.s=4,et(14),g=!1),_n(this.i,this.l,null,"[Incomplete Response]");break}else if(en==co){this.s=4,et(15),_n(this.i,this.l,X,"[Invalid Chunk]"),g=!1;break}else _n(this.i,this.l,en,null),fo(this,en);if(ya(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||X.length!=0||this.h.h||(this.s=1,et(16),g=!1),this.o=this.o&&g,!g)_n(this.i,this.l,X,"[Invalid Chunked Response]"),ln(this),Tr(this);else if(0<X.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Eo(mt),mt.M=!0,et(11))}}else _n(this.i,this.l,X,null),fo(this,X);rt==4&&ln(this),this.o&&!this.J&&(rt==4?as(this.j,this):(this.o=!1,je(this)))}else ns(this.g),g==400&&0<X.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),ln(this),Tr(this)}}}catch{}finally{}};function ya(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function wu(l,d){var g=l.C,E=d.indexOf(`
`,g);return E==-1?Ki:(g=Number(d.substring(g,E)),isNaN(g)?co:(E+=1,E+g>d.length?Ki:(d=d.slice(E,E+g),l.C=E+g,d)))}En.prototype.cancel=function(){this.J=!0,ln(this)};function je(l){l.S=Date.now()+l.I,_a(l,l.I)}function _a(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=yn(N(l.ba,l),d)}function fi(l){l.B&&(m.clearTimeout(l.B),l.B=null)}En.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(uo(this.i,this.A),this.L!=2&&(nr(),et(17)),ln(this),this.s=2,Tr(this)):_a(this,this.S-l)};function Tr(l){l.j.G==0||l.J||as(l.j,l)}function ln(l){fi(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,no(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function fo(l,d){try{var g=l.j;if(g.G!=0&&(g.g==l||Ot(g.h,l))){if(!l.K&&Ot(g.h,l)&&g.G==3){try{var E=g.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)os(g),An(g);else break e;ss(g),et(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=yn(N(g.Za,g),6e3));if(1>=Ea(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ar(g,11)}else if((l.K||g.g==l)&&os(g),!ye(d))for(M=g.Da.g.parse(d),d=0;d<M.length;d++){let Pe=M[d];if(g.T=Pe[0],Pe=Pe[1],g.G==2)if(Pe[0]=="c"){g.K=Pe[1],g.ia=Pe[2];const mt=Pe[3];mt!=null&&(g.la=mt,g.j.info("VER="+g.la));const rt=Pe[4];rt!=null&&(g.Aa=rt,g.j.info("SVER="+g.Aa));const cn=Pe[5];cn!=null&&typeof cn=="number"&&0<cn&&(E=1.5*cn,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const en=l.g;if(en){const vi=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vi){var z=E.h;z.g||vi.indexOf("spdy")==-1&&vi.indexOf("quic")==-1&&vi.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(po(z,z.h),z.h=null))}if(E.D){const us=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;us&&(E.ya=us,ze(E.I,E.D,us))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var X=l;if(E.qa=xa(E,E.J?E.ia:null,E.W),X.K){wa(E.h,X);var Fe=X,ut=E.L;ut&&(Fe.I=ut),Fe.B&&(fi(Fe),je(Fe)),E.g=X}else _i(E);0<g.i.length&&zn(g)}else Pe[0]!="stop"&&Pe[0]!="close"||ar(g,7);else g.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?ar(g,7):wt(g):Pe[0]!="noop"&&g.l&&g.l.ta(Pe),g.v=0)}}nr(4)}catch{}}var va=class{constructor(l,d){this.g=l,this.map=d}};function di(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ea(l){return l.h?1:l.g?l.g.size:0}function Ot(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function po(l,d){l.g?l.g.add(d):l.h=d}function wa(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}di.prototype.cancel=function(){if(this.i=Ta(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ta(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const g of l.g.values())d=d.concat(g.D);return d}return K(l.i)}function Xi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var d=[],g=l.length,E=0;E<g;E++)d.push(l[E]);return d}d=[],g=0;for(E in l)d[g++]=l[E];return d}function Ji(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var d=[];l=l.length;for(var g=0;g<l;g++)d.push(g);return d}d=[],g=0;for(const E in l)d[g++]=E;return d}}}function Ir(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var g=Ji(l),E=Xi(l),M=E.length,z=0;z<M;z++)d.call(void 0,E[z],g&&g[z],l)}var pi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tu(l,d){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var E=l[g].indexOf("="),M=null;if(0<=E){var z=l[g].substring(0,E);M=l[g].substring(E+1)}else z=l[g];d(z,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function rr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof rr){this.h=l.h,mi(this,l.j),this.o=l.o,this.g=l.g,Sr(this,l.s),this.l=l.l;var d=l.i,g=new On;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),Ar(this,g),this.m=l.m}else l&&(d=String(l).match(pi))?(this.h=!1,mi(this,d[1]||"",!0),this.o=Ae(d[2]||""),this.g=Ae(d[3]||"",!0),Sr(this,d[4]),this.l=Ae(d[5]||"",!0),Ar(this,d[6]||"",!0),this.m=Ae(d[7]||"")):(this.h=!1,this.i=new On(null,this.h))}rr.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Cr(d,Zi,!0),":");var g=this.g;return(g||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Cr(d,Zi,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Cr(g,g.charAt(0)=="/"?Aa:Sa,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Cr(g,mo)),l.join("")};function Jt(l){return new rr(l)}function mi(l,d,g){l.j=g?Ae(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Sr(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Ar(l,d,g){d instanceof On?(l.i=d,Fn(l.i,l.h)):(g||(d=Cr(d,Ra)),l.i=new On(d,l.h))}function ze(l,d,g){l.i.set(d,g)}function Rr(l){return ze(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ae(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Cr(l,d,g){return typeof l=="string"?(l=encodeURI(l).replace(d,Ia),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ia(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Zi=/[#\/\?@]/g,Sa=/[#\?:]/g,Aa=/[#\?]/g,Ra=/[#\?@]/g,mo=/#/g;function On(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Et(l){l.g||(l.g=new Map,l.h=0,l.i&&Tu(l.i,function(d,g){l.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}i=On.prototype,i.add=function(l,d){Et(this),this.i=null,l=un(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(d),this.h+=1,this};function wn(l,d){Et(l),d=un(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Tn(l,d){return Et(l),d=un(l,d),l.g.has(d)}i.forEach=function(l,d){Et(this),this.g.forEach(function(g,E){g.forEach(function(M){l.call(d,M,E,this)},this)},this)},i.na=function(){Et(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let E=0;E<d.length;E++){const M=l[E];for(let z=0;z<M.length;z++)g.push(d[E])}return g},i.V=function(l){Et(this);let d=[];if(typeof l=="string")Tn(this,l)&&(d=d.concat(this.g.get(un(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)d=d.concat(l[g])}return d},i.set=function(l,d){return Et(this),this.i=null,l=un(this,l),Tn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Pr(l,d,g){wn(l,d),0<g.length&&(l.i=null,l.g.set(un(l,d),K(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var E=d[g];const z=encodeURIComponent(String(E)),X=this.V(E);for(E=0;E<X.length;E++){var M=z;X[E]!==""&&(M+="="+encodeURIComponent(String(X[E]))),l.push(M)}}return this.i=l.join("&")};function un(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Fn(l,d){d&&!l.j&&(Et(l),l.i=null,l.g.forEach(function(g,E){var M=E.toLowerCase();E!=M&&(wn(this,E),Pr(this,M,g))},l)),l.j=d}function Iu(l,d){const g=new ui;if(m.Image){const E=new Image;E.onload=B(jt,g,"TestLoadImage: loaded",!0,d,E),E.onerror=B(jt,g,"TestLoadImage: error",!1,d,E),E.onabort=B(jt,g,"TestLoadImage: abort",!1,d,E),E.ontimeout=B(jt,g,"TestLoadImage: timeout",!1,d,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function Ca(l,d){const g=new ui,E=new AbortController,M=setTimeout(()=>{E.abort(),jt(g,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then(z=>{clearTimeout(M),z.ok?jt(g,"TestPingServer: ok",!0,d):jt(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),jt(g,"TestPingServer: error",!1,d)})}function jt(l,d,g,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(g)}catch{}}function Su(){this.g=new so}function Pa(l,d,g){const E=g||"";try{Ir(l,function(M,z){let X=M;v(M)&&(X=ro(M)),d.push(E+z+"="+encodeURIComponent(X))})}catch(M){throw d.push(E+"type="+encodeURIComponent("_badmap")),M}}function ir(l){this.l=l.Ub||null,this.j=l.eb||!1}W(ir,ai),ir.prototype.g=function(){return new gi(this.l,this.j)},ir.prototype.i=function(l){return function(){return l}}({});function gi(l,d){at.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}W(gi,at),i=gi.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Sn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,In(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Sn(this)),this.g&&(this.readyState=3,Sn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ka(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ka(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?In(this):Sn(this),this.readyState==3&&ka(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,In(this))},i.Qa=function(l){this.g&&(this.response=l,In(this))},i.ga=function(){this.g&&In(this)};function In(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Sn(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=d.next();return l.join(`\r
`)};function Sn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function sr(l){let d="";return De(l,function(g,E){d+=E,d+=":",d+=g,d+=`\r
`}),d}function kr(l,d,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=sr(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):ze(l,d,g))}function Qe(l){at.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}W(Qe,at);var Au=/^https?$/i,go=["POST","PUT"];i=Qe.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vn.g(),this.v=this.o?$i(this.o):$i(vn),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(z){yi(this,z);return}if(l=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)g.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const z of E.keys())g.set(z,E.get(z));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(z=>z.toLowerCase()=="content-type"),M=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(go,d,void 0))||E||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,X]of g)this.g.setRequestHeader(z,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ts(this),this.u=!0,this.g.send(l),this.u=!1}catch(z){yi(this,z)}};function yi(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,es(l),Zt(l)}function es(l){l.A||(l.A=!0,lt(l,"complete"),lt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,lt(this,"complete"),lt(this,"abort"),Zt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?yo(this):this.bb())},i.bb=function(){yo(this)};function yo(l){if(l.h&&typeof f<"u"&&(!l.v[1]||bt(l)!=4||l.Z()!=2)){if(l.u&&bt(l)==4)eo(l.Ea,0,l);else if(lt(l,"readystatechange"),bt(l)==4){l.h=!1;try{const X=l.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var E;if(E=X===0){var M=String(l.D).match(pi)[1]||null;!M&&m.self&&m.self.location&&(M=m.self.location.protocol.slice(0,-1)),E=!Au.test(M?M.toLowerCase():"")}g=E}if(g)lt(l,"complete"),lt(l,"success");else{l.m=6;try{var z=2<bt(l)?l.g.statusText:""}catch{z=""}l.l=z+" ["+l.Z()+"]",es(l)}}finally{Zt(l)}}}}function Zt(l,d){if(l.g){ts(l);const g=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||lt(l,"ready");try{g.onreadystatechange=E}catch{}}}function ts(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function bt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<bt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),io(d)}};function _o(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ns(l){const d={};l=(l.g&&2<=bt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(ye(l[E]))continue;var g=D(l[E]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const z=d[M]||[];d[M]=z,z.push(g)}V(d,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Un(l,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||d}function vo(l){this.Aa=0,this.i=[],this.j=new ui,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Un("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Un("baseRetryDelayMs",5e3,l),this.cb=Un("retryDelaySeedMs",1e4,l),this.Wa=Un("forwardChannelMaxRetries",2,l),this.wa=Un("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new di(l&&l.concurrentRequestLimit),this.Da=new Su,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=vo.prototype,i.la=8,i.G=1,i.connect=function(l,d,g,E){et(0),this.W=l,this.H=d||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=xa(this,null,this.W),zn(this)};function wt(l){if(rs(l),l.G==3){var d=l.U++,g=Jt(l.I);if(ze(g,"SID",l.K),ze(g,"RID",d),ze(g,"TYPE","terminate"),or(l,g),d=new En(l,l.j,d),d.L=2,d.v=Rr(Jt(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=d.v,g=!0),g||(d.g=La(d.j,null),d.g.ea(d.v)),d.F=Date.now(),je(d)}Na(l)}function An(l){l.g&&(Eo(l),l.g.cancel(),l.g=null)}function rs(l){An(l),l.u&&(m.clearTimeout(l.u),l.u=null),os(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function zn(l){if(!Xt(l.h)&&!l.s){l.s=!0;var d=l.Ga;Ue||ee(),J||(Ue(),J=!0),ue.add(d,l),l.B=0}}function Ru(l,d){return Ea(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=yn(N(l.Ga,l,d),Da(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new En(this,this.j,l);let z=this.o;if(this.S&&(z?(z=I(z),k(z,this.S)):z=this.S),this.m!==null||this.O||(M.H=z,z=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=Vr(this,M,d),g=Jt(this.I),ze(g,"RID",l),ze(g,"CVER",22),this.D&&ze(g,"X-HTTP-Session-Id",this.D),or(this,g),z&&(this.O?d="headers="+encodeURIComponent(String(sr(z)))+"&"+d:this.m&&kr(g,this.m,z)),po(this.h,M),this.Ua&&ze(g,"TYPE","init"),this.P?(ze(g,"$req",d),ze(g,"SID","null"),M.T=!0,Yi(M,g,null)):Yi(M,g,d),this.G=2}}else this.G==3&&(l?is(this,l):this.i.length==0||Xt(this.h)||is(this))};function is(l,d){var g;d?g=d.l:g=l.U++;const E=Jt(l.I);ze(E,"SID",l.K),ze(E,"RID",g),ze(E,"AID",l.T),or(l,E),l.m&&l.o&&kr(E,l.m,l.o),g=new En(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Vr(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),po(l.h,g),Yi(g,E,d)}function or(l,d){l.H&&De(l.H,function(g,E){ze(d,E,g)}),l.l&&Ir({},function(g,E){ze(d,E,g)})}function Vr(l,d,g){g=Math.min(l.i.length,g);var E=l.l?N(l.l.Na,l.l,l):null;e:{var M=l.i;let z=-1;for(;;){const X=["count="+g];z==-1?0<g?(z=M[0].g,X.push("ofs="+z)):z=0:X.push("ofs="+z);let Fe=!0;for(let ut=0;ut<g;ut++){let Pe=M[ut].g;const mt=M[ut].map;if(Pe-=z,0>Pe)z=Math.max(0,M[ut].g-100),Fe=!1;else try{Pa(mt,X,"req"+Pe+"_")}catch{E&&E(mt)}}if(Fe){E=X.join("&");break e}}}return l=l.i.splice(0,g),d.D=l,E}function _i(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Ue||ee(),J||(Ue(),J=!0),ue.add(d,l),l.v=0}}function ss(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=yn(N(l.Fa,l),Da(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Va(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=yn(N(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),An(this),Va(this))};function Eo(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Va(l){l.g=new En(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Jt(l.qa);ze(d,"RID","rpc"),ze(d,"SID",l.K),ze(d,"AID",l.T),ze(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&ze(d,"TO",l.ja),ze(d,"TYPE","xmlhttp"),or(l,d),l.m&&l.o&&kr(d,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Rr(Jt(d)),g.m=null,g.P=!0,ho(g,l)}i.Za=function(){this.C!=null&&(this.C=null,An(this),ss(this),et(19))};function os(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function as(l,d){var g=null;if(l.g==d){os(l),Eo(l),l.g=null;var E=2}else if(Ot(l.h,d))g=d.D,wa(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var M=l.B;E=li(),lt(E,new Qi(E,g)),zn(l)}else _i(l);else if(M=d.s,M==3||M==0&&0<d.X||!(E==1&&Ru(l,d)||E==2&&ss(l)))switch(g&&0<g.length&&(d=l.h,d.i=d.i.concat(g)),M){case 1:ar(l,5);break;case 4:ar(l,10);break;case 3:ar(l,6);break;default:ar(l,2)}}}function Da(l,d){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*d}function ar(l,d){if(l.j.info("Error code "+d),d==2){var g=N(l.fb,l),E=l.Xa;const M=!E;E=new rr(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||mi(E,"https"),Rr(E),M?Iu(E.toString(),g):Ca(E.toString(),g)}else et(2);l.G=0,l.l&&l.l.sa(d),Na(l),rs(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function Na(l){if(l.G=0,l.ka=[],l.l){const d=Ta(l.h);(d.length!=0||l.i.length!=0)&&(q(l.ka,d),q(l.ka,l.i),l.h.i.length=0,K(l.i),l.i.length=0),l.l.ra()}}function xa(l,d,g){var E=g instanceof rr?Jt(g):new rr(g);if(E.g!="")d&&(E.g=d+"."+E.g),Sr(E,E.s);else{var M=m.location;E=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;var z=new rr(null);E&&mi(z,E),d&&(z.g=d),M&&Sr(z,M),g&&(z.l=g),E=z}return g=l.D,d=l.ya,g&&d&&ze(E,g,d),ze(E,"VER",l.la),or(l,E),E}function La(l,d,g){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Qe(new ir({eb:g})):new Qe(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function wo(){}i=wo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ls(){}ls.prototype.g=function(l,d){return new Ft(l,d)};function Ft(l,d){at.call(this),this.g=new vo(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!ye(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ye(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Bn(this)}W(Ft,at),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){wt(this.g)},Ft.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=ro(l),l=g);d.i.push(new va(d.Ya++,l)),d.G==3&&zn(d)},Ft.prototype.N=function(){this.g.l=null,delete this.j,wt(this.g),delete this.g,Ft.aa.N.call(this)};function Ma(l){Ln.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const g in d){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}W(Ma,Ln);function Oa(){Hi.call(this),this.status=1}W(Oa,Hi);function Bn(l){this.g=l}W(Bn,wo),Bn.prototype.ua=function(){lt(this.g,"a")},Bn.prototype.ta=function(l){lt(this.g,new Ma(l))},Bn.prototype.sa=function(l){lt(this.g,new Oa)},Bn.prototype.ra=function(){lt(this.g,"b")},ls.prototype.createWebChannel=ls.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,Hm=function(){return new ls},qm=function(){return li()},$m=Mn,hh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wi.NO_ERROR=0,Wi.TIMEOUT=8,Wi.HTTP_ERROR=6,Ml=Wi,ma.COMPLETE="complete",bm=ma,qi.EventType=an,an.OPEN="a",an.CLOSE="b",an.ERROR="c",an.MESSAGE="d",at.prototype.listen=at.prototype.K,Qo=qi,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,jm=Qe}).apply(typeof Vl<"u"?Vl:typeof self<"u"?self:typeof window<"u"?window:{});const jp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hs="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new Lm("@firebase/firestore");function Vs(){return Li.logLevel}function te(i,...e){if(Li.logLevel<=Ve.DEBUG){const n=e.map(Nh);Li.debug(`Firestore (${Hs}): ${i}`,...n)}}function _r(i,...e){if(Li.logLevel<=Ve.ERROR){const n=e.map(Nh);Li.error(`Firestore (${Hs}): ${i}`,...n)}}function Os(i,...e){if(Li.logLevel<=Ve.WARN){const n=e.map(Nh);Li.warn(`Firestore (${Hs}): ${i}`,...n)}}function Nh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(i="Unexpected state"){const e=`FIRESTORE (${Hs}) INTERNAL ASSERTION FAILED: `+i;throw _r(e),new Error(e)}function Oe(i,e){i||de()}function me(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends qs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Jv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class Zv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class eE{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0);let s=this.i;const a=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new gr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await a(this.currentUser)})},m=y=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new gr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Oe(typeof s.accessToken=="string"),new Qm(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new Lt(e)}}class tE{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class nE{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new tE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iE{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Oe(this.o===void 0);const s=c=>{c.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,te("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string"),this.R=n.token,new rE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=sE(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function Re(i,e){return i<e?-1:i>e?1:0}function Fs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new ft(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ne(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new ft(0,0))}static max(){return new pe(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n,s){n===void 0?n=0:n>e.length&&de(),s===void 0?s=e.length-n:s>e.length-n&&de(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Hn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=Hn.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=Hn.isNumericId(e),a=Hn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Hn.extractNumericId(e).compare(Hn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wr.fromString(e.substring(4,e.length-2))}}class He extends Hn{construct(e,n,s){return new He(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ne(j.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new He(n)}static emptyPath(){return new He([])}}const oE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends Hn{construct(e,n,s){return new At(e,n,s)}static isValidIdentifier(e){return oE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new At(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new ne(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new ne(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ne(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(f=!f,a++):m!=="."||f?(s+=m,a++):(c(),a++)}if(c(),f)throw new ne(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(He.fromString(e))}static fromName(e){return new le(He.fromString(e).popFirst(5))}static empty(){return new le(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new He(e.slice()))}}function aE(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=pe.fromTimestamp(s===1e9?new ft(n+1,0):new ft(n,s));return new Yr(a,le.empty(),e)}function lE(i){return new Yr(i.readTime,i.key,-1)}class Yr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Yr(pe.min(),le.empty(),-1)}static max(){return new Yr(pe.max(),le.empty(),-1)}}function uE(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(i.documentKey,e.documentKey),n!==0?n:Re(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qs(i){if(i.code!==j.FAILED_PRECONDITION||i.message!==cE)throw i;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new b((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof b?n:b.resolve(n)}catch(n){return b.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):b.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):b.reject(n)}static resolve(e){return new b((n,s)=>{n(e)})}static reject(e){return new b((n,s)=>{s(e)})}static waitFor(e){return new b((n,s)=>{let a=0,c=0,f=!1;e.forEach(m=>{++a,m.next(()=>{++c,f&&c===a&&n()},y=>s(y))}),f=!0,c===a&&n()})}static or(e){let n=b.resolve(!1);for(const s of e)n=n.next(a=>a?b.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new b((s,a)=>{const c=e.length,f=new Array(c);let m=0;for(let y=0;y<c;y++){const v=y;n(e[v]).next(w=>{f[v]=w,++m,m===c&&s(f)},w=>a(w))}})}static doWhile(e,n){return new b((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function fE(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gs(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}tu.oe=-1;function nu(i){return i==null}function ql(i){return i===0&&1/i==-1/0}function dE(i){return typeof i=="number"&&Number.isInteger(i)&&!ql(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=bp(e)),e=mE(i.get(n),e);return bp(e)}function mE(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function bp(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ti(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Wm(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dl(this.root,e,this.comparator,!0)}}class Dl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??St.RED,this.left=a??St.EMPTY,this.right=c??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new St(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return St.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,n,s,a,c){return this}insert(e,n,s){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qp(this.data.getIterator())}getIteratorFrom(e){return new qp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dt(this.comparator);return n.data=e,n}}class qp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new on([])}unionWith(e){let n=new dt(At.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new on(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Km("Invalid base64 string: "+c):c}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const gE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(i){if(Oe(!!i),typeof i=="string"){let e=0;const n=gE.exec(i);if(Oe(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:nt(i.seconds),nanos:nt(i.nanos)}}function nt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Jr(i){return typeof i=="string"?Rt.fromBase64String(i):Rt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ru(i){const e=i.mapValue.fields.__previous_value__;return xh(e)?ru(e):e}function na(i){const e=Xr(i.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n,s,a,c,f,m,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=v}}class ra{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ra("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ra&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?xh(i)?4:vE(i)?9007199254740991:_E(i)?10:11:de()}function Xn(i,e){if(i===e)return!0;const n=Zr(i);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return na(i).isEqual(na(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Xr(a.timestampValue),m=Xr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Jr(a.bytesValue).isEqual(Jr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return nt(a.geoPointValue.latitude)===nt(c.geoPointValue.latitude)&&nt(a.geoPointValue.longitude)===nt(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return nt(a.integerValue)===nt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=nt(a.doubleValue),m=nt(c.doubleValue);return f===m?ql(f)===ql(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Fs(i.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},m=c.mapValue.fields||{};if($p(f)!==$p(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Xn(f[y],m[y])))return!1;return!0}(i,e);default:return de()}}function ia(i,e){return(i.values||[]).find(n=>Xn(n,e))!==void 0}function Us(i,e){if(i===e)return 0;const n=Zr(i),s=Zr(e);if(n!==s)return Re(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=nt(c.integerValue||c.doubleValue),y=nt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(i,e);case 3:return Hp(i.timestampValue,e.timestampValue);case 4:return Hp(na(i),na(e));case 5:return Re(i.stringValue,e.stringValue);case 6:return function(c,f){const m=Jr(c),y=Jr(f);return m.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),y=f.split("/");for(let v=0;v<m.length&&v<y.length;v++){const w=Re(m[v],y[v]);if(w!==0)return w}return Re(m.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=Re(nt(c.latitude),nt(f.latitude));return m!==0?m:Re(nt(c.longitude),nt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Qp(i.arrayValue,e.arrayValue);case 10:return function(c,f){var m,y,v,w;const R=c.fields||{},N=f.fields||{},B=(m=R.value)===null||m===void 0?void 0:m.arrayValue,W=(y=N.value)===null||y===void 0?void 0:y.arrayValue,K=Re(((v=B==null?void 0:B.values)===null||v===void 0?void 0:v.length)||0,((w=W==null?void 0:W.values)===null||w===void 0?void 0:w.length)||0);return K!==0?K:Qp(B,W)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===Nl.mapValue&&f===Nl.mapValue)return 0;if(c===Nl.mapValue)return 1;if(f===Nl.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),v=f.fields||{},w=Object.keys(v);y.sort(),w.sort();for(let R=0;R<y.length&&R<w.length;++R){const N=Re(y[R],w[R]);if(N!==0)return N;const B=Us(m[y[R]],v[w[R]]);if(B!==0)return B}return Re(y.length,w.length)}(i.mapValue,e.mapValue);default:throw de()}}function Hp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Re(i,e);const n=Xr(i),s=Xr(e),a=Re(n.seconds,s.seconds);return a!==0?a:Re(n.nanos,s.nanos)}function Qp(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Us(n[a],s[a]);if(c)return c}return Re(n.length,s.length)}function zs(i){return fh(i)}function fh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Xr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Jr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return le.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=fh(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${fh(n.fields[f])}`;return a+"}"}(i.mapValue):de()}function Ol(i){switch(Zr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ru(i);return e?16+Ol(e):16;case 5:return 2*i.stringValue.length;case 6:return Jr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Ol(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return ti(s.fields,(c,f)=>{a+=c.length+Ol(f)}),a}(i.mapValue);default:throw de()}}function Gp(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function dh(i){return!!i&&"integerValue"in i}function Lh(i){return!!i&&"arrayValue"in i}function Wp(i){return!!i&&"nullValue"in i}function Kp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Fl(i){return!!i&&"mapValue"in i}function _E(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Yo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ti(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Yo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function vE(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Fl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yo(n)}setAll(e){let n=At.emptyPath(),s={},a=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,a),s={},a=[],n=m.popLast()}f?s[m.lastSegment()]=Yo(f):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());Fl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Fl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){ti(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Yt(Yo(this.value))}}function Ym(i){const e=[];return ti(i.fields,(n,s)=>{const a=new At([n]);if(Fl(s)){const c=Ym(s.mapValue).fields;if(c.length===0)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new on(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,s,a,c,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Mt(e,0,pe.min(),pe.min(),pe.min(),Yt.empty(),0)}static newFoundDocument(e,n,s,a){return new Mt(e,1,n,pe.min(),s,a,0)}static newNoDocument(e,n){return new Mt(e,2,n,pe.min(),pe.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,pe.min(),pe.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.position=e,this.inclusive=n}}function Yp(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=le.comparator(le.fromName(f.referenceValue),n.key):s=Us(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Xp(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Xn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n="asc"){this.field=e,this.dir=n}}function EE(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{}class ot extends Xm{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new TE(e,n,s):n==="array-contains"?new AE(e,s):n==="in"?new RE(e,s):n==="not-in"?new CE(e,s):n==="array-contains-any"?new PE(e,s):new ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new IE(e,s):new SE(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Us(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(Us(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xn extends Xm{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new xn(e,n)}matches(e){return Jm(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Jm(i){return i.op==="and"}function Zm(i){return wE(i)&&Jm(i)}function wE(i){for(const e of i.filters)if(e instanceof xn)return!1;return!0}function ph(i){if(i instanceof ot)return i.field.canonicalString()+i.op.toString()+zs(i.value);if(Zm(i))return i.filters.map(e=>ph(e)).join(",");{const e=i.filters.map(n=>ph(n)).join(",");return`${i.op}(${e})`}}function eg(i,e){return i instanceof ot?function(s,a){return a instanceof ot&&s.op===a.op&&s.field.isEqual(a.field)&&Xn(s.value,a.value)}(i,e):i instanceof xn?function(s,a){return a instanceof xn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,m)=>c&&eg(f,a.filters[m]),!0):!1}(i,e):void de()}function tg(i){return i instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${zs(n.value)}`}(i):i instanceof xn?function(n){return n.op.toString()+" {"+n.getFilters().map(tg).join(" ,")+"}"}(i):"Filter"}class TE extends ot{constructor(e,n,s){super(e,n,s),this.key=le.fromName(s.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class IE extends ot{constructor(e,n){super(e,"in",n),this.keys=ng("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SE extends ot{constructor(e,n){super(e,"not-in",n),this.keys=ng("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ng(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>le.fromName(s.referenceValue))}class AE extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lh(n)&&ia(n.arrayValue,this.value)}}class RE extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ia(this.value.arrayValue,n)}}class CE extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(ia(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ia(this.value.arrayValue,n)}}class PE extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ia(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n=null,s=[],a=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=m,this.ue=null}}function Jp(i,e=null,n=[],s=[],a=null,c=null,f=null){return new kE(i,e,n,s,a,c,f)}function Mh(i){const e=me(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>ph(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),nu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>zs(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>zs(s)).join(",")),e.ue=n}return e.ue}function Oh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!EE(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!eg(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Xp(i.startAt,e.startAt)&&Xp(i.endAt,e.endAt)}function mh(i){return le.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n=null,s=[],a=[],c=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function VE(i,e,n,s,a,c,f,m){return new Ws(i,e,n,s,a,c,f,m)}function iu(i){return new Ws(i)}function Zp(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function rg(i){return i.collectionGroup!==null}function Xo(i){const e=me(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new dt(At.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new sa(c,s))}),n.has(At.keyField().canonicalString())||e.ce.push(new sa(At.keyField(),s))}return e.ce}function Gn(i){const e=me(i);return e.le||(e.le=DE(e,Xo(i))),e.le}function DE(i,e){if(i.limitType==="F")return Jp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new sa(a.field,c)});const n=i.endAt?new Hl(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Hl(i.startAt.position,i.startAt.inclusive):null;return Jp(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function gh(i,e){const n=i.filters.concat([e]);return new Ws(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function yh(i,e,n){return new Ws(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function su(i,e){return Oh(Gn(i),Gn(e))&&i.limitType===e.limitType}function ig(i){return`${Mh(Gn(i))}|lt:${i.limitType}`}function Ds(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>tg(a)).join(", ")}]`),nu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>zs(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>zs(a)).join(",")),`Target(${s})`}(Gn(i))}; limitType=${i.limitType})`}function ou(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):le.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Xo(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,m,y){const v=Yp(f,m,y);return f.inclusive?v<=0:v<0}(s.startAt,Xo(s),a)||s.endAt&&!function(f,m,y){const v=Yp(f,m,y);return f.inclusive?v>=0:v>0}(s.endAt,Xo(s),a))}(i,e)}function NE(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function sg(i){return(e,n)=>{let s=!1;for(const a of Xo(i)){const c=xE(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function xE(i,e,n){const s=i.field.isKeyField()?le.comparator(e.key,n.key):function(c,f,m){const y=f.data.field(c),v=m.data.field(c);return y!==null&&v!==null?Us(y,v):de()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ti(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Wm(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=new Ye(le.comparator);function vr(){return LE}const og=new Ye(le.comparator);function Go(...i){let e=og;for(const n of i)e=e.insert(n.key,n);return e}function ag(i){let e=og;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function xi(){return Jo()}function lg(){return Jo()}function Jo(){return new Oi(i=>i.toString(),(i,e)=>i.isEqual(e))}const ME=new Ye(le.comparator),OE=new dt(le.comparator);function Ie(...i){let e=OE;for(const n of i)e=e.add(n);return e}const FE=new dt(Re);function UE(){return FE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ql(e)?"-0":e}}function ug(i){return{integerValue:""+i}}function zE(i,e){return dE(e)?ug(e):Fh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(){this._=void 0}}function BE(i,e,n){return i instanceof Ql?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&xh(c)&&(c=ru(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof oa?hg(i,e):i instanceof aa?fg(i,e):function(a,c){const f=cg(a,c),m=em(f)+em(a.Pe);return dh(f)&&dh(a.Pe)?ug(m):Fh(a.serializer,m)}(i,e)}function jE(i,e,n){return i instanceof oa?hg(i,e):i instanceof aa?fg(i,e):n}function cg(i,e){return i instanceof Gl?function(s){return dh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Ql extends au{}class oa extends au{constructor(e){super(),this.elements=e}}function hg(i,e){const n=dg(e);for(const s of i.elements)n.some(a=>Xn(a,s))||n.push(s);return{arrayValue:{values:n}}}class aa extends au{constructor(e){super(),this.elements=e}}function fg(i,e){let n=dg(e);for(const s of i.elements)n=n.filter(a=>!Xn(a,s));return{arrayValue:{values:n}}}class Gl extends au{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function em(i){return nt(i.integerValue||i.doubleValue)}function dg(i){return Lh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function bE(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof oa&&a instanceof oa||s instanceof aa&&a instanceof aa?Fs(s.elements,a.elements,Xn):s instanceof Gl&&a instanceof Gl?Xn(s.Pe,a.Pe):s instanceof Ql&&a instanceof Ql}(i.transform,e.transform)}class $E{constructor(e,n){this.version=e,this.transformResults=n}}class Wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ul(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class lu{}function pg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new gg(i.key,Wn.none()):new ua(i.key,i.data,Wn.none());{const n=i.data,s=Yt.empty();let a=new dt(At.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new ni(i.key,s,new on(a.toArray()),Wn.none())}}function qE(i,e,n){i instanceof ua?function(a,c,f){const m=a.value.clone(),y=nm(a.fieldTransforms,c,f.transformResults);m.setAll(y),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ni?function(a,c,f){if(!Ul(a.precondition,c))return void c.convertToUnknownDocument(f.version);const m=nm(a.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(mg(a)),y.setAll(m),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Zo(i,e,n,s){return i instanceof ua?function(c,f,m,y){if(!Ul(c.precondition,f))return m;const v=c.value.clone(),w=rm(c.fieldTransforms,y,f);return v.setAll(w),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null}(i,e,n,s):i instanceof ni?function(c,f,m,y){if(!Ul(c.precondition,f))return m;const v=rm(c.fieldTransforms,y,f),w=f.data;return w.setAll(mg(c)),w.setAll(v),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(i,e,n,s):function(c,f,m){return Ul(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function HE(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=cg(s.transform,a||null);c!=null&&(n===null&&(n=Yt.empty()),n.set(s.field,c))}return n||null}function tm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Fs(s,a,(c,f)=>bE(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ua extends lu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ni extends lu{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function mg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function nm(i,e,n){const s=new Map;Oe(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,m=e.data.field(c.field);s.set(c.field,jE(f,m,n[a]))}return s}function rm(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,BE(c,f,e))}return s}class gg extends lu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QE extends lu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&qE(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Zo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Zo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=lg();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(a.key)?null:m;const y=pg(f,m);y!==null&&s.set(a.key,y),f.isValidDocument()||f.convertToNoDocument(pe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Fs(this.mutations,e.mutations,(n,s)=>tm(n,s))&&Fs(this.baseMutations,e.baseMutations,(n,s)=>tm(n,s))}}class Uh{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Oe(e.mutations.length===s.length);let a=function(){return ME}();const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new Uh(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,ke;function YE(i){switch(i){default:return de();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function yg(i){if(i===void 0)return _r("GRPC error has no .code"),j.UNKNOWN;switch(i){case st.OK:return j.OK;case st.CANCELLED:return j.CANCELLED;case st.UNKNOWN:return j.UNKNOWN;case st.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case st.INTERNAL:return j.INTERNAL;case st.UNAVAILABLE:return j.UNAVAILABLE;case st.UNAUTHENTICATED:return j.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case st.NOT_FOUND:return j.NOT_FOUND;case st.ALREADY_EXISTS:return j.ALREADY_EXISTS;case st.PERMISSION_DENIED:return j.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case st.ABORTED:return j.ABORTED;case st.OUT_OF_RANGE:return j.OUT_OF_RANGE;case st.UNIMPLEMENTED:return j.UNIMPLEMENTED;case st.DATA_LOSS:return j.DATA_LOSS;default:return de()}}(ke=st||(st={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=new Wr([4294967295,4294967295],0);function im(i){const e=XE().encode(i),n=new Bm;return n.update(e),new Uint8Array(n.digest())}function sm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Wr([n,s],0),new Wr([a,c],0)]}class zh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Wo(`Invalid padding: ${n}`);if(s<0)throw new Wo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Wo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Wr.fromNumber(this.Te)}de(e,n,s){let a=e.add(n.multiply(Wr.fromNumber(s)));return a.compare(JE)===1&&(a=new Wr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=im(e),[s,a]=sm(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,a,c);if(!this.Ee(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new zh(c,a,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Te===0)return;const n=im(e),[s,a]=sm(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,a,c);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,ca.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new uu(pe.min(),a,new Ye(Re),vr(),Ie())}}class ca{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ca(s,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class _g{constructor(e,n){this.targetId=e,this.me=n}}class vg{constructor(e,n,s=Rt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class om{constructor(){this.fe=0,this.ge=am(),this.pe=Rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ie(),n=Ie(),s=Ie();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:de()}}),new ca(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=am()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ZE{constructor(e){this.Be=e,this.Le=new Map,this.ke=vr(),this.qe=xl(),this.Qe=xl(),this.Ke=new Ye(Re)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(mh(c))if(s===0){const f=new le(c.path);this.We(n,f,Mt.newNoDocument(f,pe.min()))}else Oe(s===1);else{const f=this.Ze(n);if(f!==s){const m=this.Xe(e),y=m?this.et(m,e,f):1;if(y!==0){this.He(n);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,v)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,m;try{f=Jr(s).toUint8Array()}catch(y){if(y instanceof Km)return Os("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new zh(f,a,c)}catch(y){return Os(y instanceof Wo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Be.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.Be.nt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Le.forEach((c,f)=>{const m=this.Ye(f);if(m){if(c.current&&mh(m.target)){const y=new le(m.target.path);this.st(y).has(f)||this.ot(f,y)||this.We(f,y,Mt.newNoDocument(y,e))}c.be&&(n.set(f,c.ve()),c.Ce())}});let s=Ie();this.Qe.forEach((c,f)=>{let m=!0;f.forEachWhile(y=>{const v=this.Ye(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const a=new uu(e,n,this.Ke,this.ke,s);return this.ke=vr(),this.qe=xl(),this.Qe=xl(),this.Ke=new Ye(Re),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new om,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new dt(Re),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new dt(Re),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new om),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function xl(){return new Ye(le.comparator)}function am(){return new Ye(le.comparator)}const ew={asc:"ASCENDING",desc:"DESCENDING"},tw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nw={and:"AND",or:"OR"};class rw{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _h(i,e){return i.useProto3Json||nu(e)?e:{value:e}}function Wl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Eg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function iw(i,e){return Wl(i,e.toTimestamp())}function Kn(i){return Oe(!!i),pe.fromTimestamp(function(n){const s=Xr(n);return new ft(s.seconds,s.nanos)}(i))}function Bh(i,e){return vh(i,e).canonicalString()}function vh(i,e){const n=function(a){return new He(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function wg(i){const e=He.fromString(i);return Oe(Rg(e)),e}function Eh(i,e){return Bh(i.databaseId,e.path)}function th(i,e){const n=wg(e);if(n.get(1)!==i.databaseId.projectId)throw new ne(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ne(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new le(Ig(n))}function Tg(i,e){return Bh(i.databaseId,e)}function sw(i){const e=wg(i);return e.length===4?He.emptyPath():Ig(e)}function wh(i){return new He(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ig(i){return Oe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function lm(i,e,n){return{name:Eh(i,e),fields:n.value.mapValue.fields}}function ow(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(v,w){return v.useProto3Json?(Oe(w===void 0||typeof w=="string"),Rt.fromBase64String(w||"")):(Oe(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Rt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(v){const w=v.code===void 0?j.UNKNOWN:yg(v.code);return new ne(w,v.message||"")}(f);n=new vg(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=th(i,s.document.name),c=Kn(s.document.updateTime),f=s.document.createTime?Kn(s.document.createTime):pe.min(),m=new Yt({mapValue:{fields:s.document.fields}}),y=Mt.newFoundDocument(a,c,f,m),v=s.targetIds||[],w=s.removedTargetIds||[];n=new zl(v,w,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=th(i,s.document),c=s.readTime?Kn(s.readTime):pe.min(),f=Mt.newNoDocument(a,c),m=s.removedTargetIds||[];n=new zl([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=th(i,s.document),c=s.removedTargetIds||[];n=new zl([],c,a,null)}else{if(!("filter"in e))return de();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new KE(a,c),m=s.targetId;n=new _g(m,f)}}return n}function aw(i,e){let n;if(e instanceof ua)n={update:lm(i,e.key,e.value)};else if(e instanceof gg)n={delete:Eh(i,e.key)};else if(e instanceof ni)n={update:lm(i,e.key,e.data),updateMask:gw(e.fieldMask)};else{if(!(e instanceof QE))return de();n={verify:Eh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const m=f.transform;if(m instanceof Ql)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof oa)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof aa)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Gl)return{fieldPath:f.field.canonicalString(),increment:m.Pe};throw de()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:iw(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:de()}(i,e.precondition)),n}function lw(i,e){return i&&i.length>0?(Oe(e!==void 0),i.map(n=>function(a,c){let f=a.updateTime?Kn(a.updateTime):Kn(c);return f.isEqual(pe.min())&&(f=Kn(c)),new $E(f,a.transformResults||[])}(n,e))):[]}function uw(i,e){return{documents:[Tg(i,e.path)]}}function cw(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Tg(i,a);const c=function(v){if(v.length!==0)return Ag(xn.create(v,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(v){if(v.length!==0)return v.map(w=>function(N){return{field:Ns(N.field),direction:dw(N.dir)}}(w))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=_h(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:n,parent:a}}function hw(i){let e=sw(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Oe(s===1);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=function(R){const N=Sg(R);return N instanceof xn&&Zm(N)?N.getFilters():[N]}(n.where));let f=[];n.orderBy&&(f=function(R){return R.map(N=>function(W){return new sa(xs(W.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(W.direction))}(N))}(n.orderBy));let m=null;n.limit&&(m=function(R){let N;return N=typeof R=="object"?R.value:R,nu(N)?null:N}(n.limit));let y=null;n.startAt&&(y=function(R){const N=!!R.before,B=R.values||[];return new Hl(B,N)}(n.startAt));let v=null;return n.endAt&&(v=function(R){const N=!R.before,B=R.values||[];return new Hl(B,N)}(n.endAt)),VE(e,a,f,c,m,"F",y,v)}function fw(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Sg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=xs(n.unaryFilter.field);return ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=xs(n.unaryFilter.field);return ot.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xs(n.unaryFilter.field);return ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=xs(n.unaryFilter.field);return ot.create(f,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(i):i.fieldFilter!==void 0?function(n){return ot.create(xs(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return xn.create(n.compositeFilter.filters.map(s=>Sg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(i):de()}function dw(i){return ew[i]}function pw(i){return tw[i]}function mw(i){return nw[i]}function Ns(i){return{fieldPath:i.canonicalString()}}function xs(i){return At.fromServerFormat(i.fieldPath)}function Ag(i){return i instanceof ot?function(n){if(n.op==="=="){if(Kp(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NAN"}};if(Wp(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Kp(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NAN"}};if(Wp(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ns(n.field),op:pw(n.op),value:n.value}}}(i):i instanceof xn?function(n){const s=n.getFilters().map(a=>Ag(a));return s.length===1?s[0]:{compositeFilter:{op:mw(n.op),filters:s}}}(i):de()}function gw(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Rg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n,s,a,c=pe.min(),f=pe.min(),m=Rt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){this.ht=e}}function _w(i){const e=hw({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?yh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.ln=new Ew}addToCollectionParentIndex(e,n){return this.ln.add(n),b.resolve()}getCollectionParents(e,n){return b.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return b.resolve()}deleteFieldIndex(e,n){return b.resolve()}deleteAllFieldIndexes(e){return b.resolve()}createTargetIndexes(e,n){return b.resolve()}getDocumentsMatchingTarget(e,n){return b.resolve(null)}getIndexType(e,n){return b.resolve(0)}getFieldIndexes(e,n){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,n){return b.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return b.resolve(Yr.min())}updateCollectionGroup(e,n,s){return b.resolve()}updateIndexEntries(e,n){return b.resolve()}}class Ew{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new dt(He.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new dt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Kt{static withCacheSize(e){return new Kt(e,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(41943040,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Bs(0)}static Qn(){return new Bs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm([i,e],[n,s]){const a=Re(i,n);return a===0?Re(e,s):a}class ww{constructor(e){this.Gn=e,this.buffer=new dt(cm),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();cm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Tw{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gs(n)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Qs(n)}await this.Yn(3e5)})}}class Iw{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return b.resolve(tu.oe);const s=new ww(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),b.resolve(um)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),um):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,f,m,y,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),a=this.params.maximumSequenceNumbersToCollect):a=R,f=Date.now(),this.nthSequenceNumber(e,a))).next(R=>(s=R,m=Date.now(),this.removeTargets(e,s,n))).next(R=>(c=R,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(v=Date.now(),Vs()<=Ve.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${a} in `+(m-f)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${R} documents in `+(v-y)+`ms
Total Duration: ${v-w}ms`),b.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:R})))}}function Sw(i,e){return new Iw(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.changes=new Oi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?b.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Zo(s.mutation,a,on.empty(),ft.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ie()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ie()){const a=xi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=Go();return c.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=xi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ie()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,a){let c=vr();const f=Jo(),m=function(){return Jo()}();return n.forEach((y,v)=>{const w=s.get(v.key);a.has(v.key)&&(w===void 0||w.mutation instanceof ni)?c=c.insert(v.key,v):w!==void 0?(f.set(v.key,w.mutation.getFieldMask()),Zo(w.mutation,v,w.mutation.getFieldMask(),ft.now())):f.set(v.key,on.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((v,w)=>f.set(v,w)),n.forEach((v,w)=>{var R;return m.set(v,new Rw(w,(R=f.get(v))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Jo();let a=new Ye((f,m)=>f-m),c=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const v=n.get(y);if(v===null)return;let w=s.get(y)||on.empty();w=m.applyToLocalView(v,w),s.set(y,w);const R=(a.get(m.batchId)||Ie()).add(y);a=a.insert(m.batchId,R)})}).next(()=>{const f=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),v=y.key,w=y.value,R=lg();w.forEach(N=>{if(!c.has(N)){const B=pg(n.get(N),s.get(N));B!==null&&R.set(N,B),c=c.add(N)}}),f.push(this.documentOverlayCache.saveOverlays(e,v,R))}return b.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return le.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):b.resolve(xi());let m=-1,y=c;return f.next(v=>b.forEach(v,(w,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),c.get(w)?b.resolve():this.remoteDocumentCache.getEntry(e,w).next(N=>{y=y.insert(w,N)}))).next(()=>this.populateOverlays(e,v,c)).next(()=>this.computeViews(e,y,v,Ie())).next(w=>({batchId:m,changes:ag(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(s=>{let a=Go();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=Go();return this.indexManager.getCollectionParents(e,c).next(m=>b.forEach(m,y=>{const v=function(R,N){return new Ws(N,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next(w=>{w.forEach((R,N)=>{f=f.insert(R,N)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((y,v)=>{const w=v.getKey();f.get(w)===null&&(f=f.insert(w,Mt.newInvalidDocument(w)))});let m=Go();return f.forEach((y,v)=>{const w=c.get(y);w!==void 0&&Zo(w.mutation,v,on.empty(),ft.now()),ou(n,v)&&(m=m.insert(y,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return b.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Kn(a.createTime)}}(n)),b.resolve()}getNamedQuery(e,n){return b.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:_w(a.bundledQuery),readTime:Kn(a.readTime)}}(n)),b.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.overlays=new Ye(le.comparator),this.dr=new Map}getOverlay(e,n){return b.resolve(this.overlays.get(n))}getOverlays(e,n){const s=xi();return b.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),b.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.dr.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.dr.delete(s)),b.resolve()}getOverlaysForCollection(e,n,s){const a=xi(),c=n.length+1,f=new le(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,v=y.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>s&&a.set(y.getKey(),y)}return b.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Ye((v,w)=>v-w);const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let w=c.get(v.largestBatchId);w===null&&(w=xi(),c=c.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const m=xi(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((v,w)=>m.set(v,w)),!(m.size()>=a)););return b.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.dr.get(a.largestBatchId).delete(s.key);this.dr.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new WE(n,s));let c=this.dr.get(n);c===void 0&&(c=Ie(),this.dr.set(n,c)),this.dr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return b.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,b.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this.Er=new dt(vt.Ar),this.Rr=new dt(vt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const s=new vt(e,n);this.Er=this.Er.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new vt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new le(new He([])),s=new vt(n,e),a=new vt(n,e+1),c=[];return this.Rr.forEachInRange([s,a],f=>{this.gr(f),c.push(f.key)}),c}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new le(new He([])),s=new vt(n,e),a=new vt(n,e+1);let c=Ie();return this.Rr.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new vt(e,0),s=this.Er.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class vt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return le.comparator(e.key,n.key)||Re(e.br,n.br)}static Vr(e,n){return Re(e.br,n.br)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new dt(vt.Ar)}checkEmpty(e){return b.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new GE(c,n,s,a);this.mutationQueue.push(f);for(const m of a)this.vr=this.vr.add(new vt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return b.resolve(f)}lookupMutationBatch(e,n){return b.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return b.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new vt(n,0),a=new vt(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],f=>{const m=this.Cr(f.br);c.push(m)}),b.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new dt(Re);return n.forEach(a=>{const c=new vt(a,0),f=new vt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,f],m=>{s=s.add(m.br)})}),b.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;le.isDocumentKey(c)||(c=c.child(""));const f=new vt(new le(c),0);let m=new dt(Re);return this.vr.forEachWhile(y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(m=m.add(y.br)),!0)},f),b.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Oe(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return b.forEach(n.mutations,a=>{const c=new vt(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Bn(e){}containsKey(e,n){const s=new vt(n,0),a=this.vr.firstAfterOrEqual(s);return b.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,b.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.Nr=e,this.docs=function(){return new Ye(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return b.resolve(s?s.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Mt.newInvalidDocument(a))}),b.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=vr();const f=n.path,m=new le(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:v,value:{document:w}}=y.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||uE(lE(w),s)<=0||(a.has(w.key)||ou(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return b.resolve(c)}getAllFromCollectionGroup(e,n,s,a){de()}Br(e,n){return b.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new xw(this)}getSize(e){return b.resolve(this.size)}}class xw extends Aw{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),b.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e){this.persistence=e,this.Lr=new Oi(n=>Mh(n),Oh),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.kr=0,this.qr=new jh,this.targetCount=0,this.Qr=Bs.qn()}forEachTarget(e,n){return this.Lr.forEach((s,a)=>n(a)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),b.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Bs(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,b.resolve()}updateTargetData(e,n){return this.Un(n),b.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Lr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Lr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),b.waitFor(c).next(()=>a)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,n){const s=this.Lr.get(n)||null;return b.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),b.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),b.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),b.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return b.resolve(s)}containsKey(e,n){return b.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n){this.Kr={},this.overlays={},this.$r=new tu(0),this.Ur=!1,this.Ur=!0,this.Wr=new Vw,this.referenceDelegate=e(this),this.Gr=new Lw(this),this.indexManager=new vw,this.remoteDocumentCache=function(a){return new Nw(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new yw(n),this.jr=new Pw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new Dw(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){te("MemoryPersistence","Starting transaction:",e);const a=new Mw(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return b.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class Mw extends hE{constructor(e){super(),this.currentSequenceNumber=e}}class bh{constructor(e){this.persistence=e,this.Zr=new jh,this.Xr=null}static ei(e){return new bh(e)}get ti(){if(this.Xr)return this.Xr;throw de()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),b.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),b.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),b.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.ti,s=>{const a=le.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,pe.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return b.or([()=>b.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Kl{constructor(e,n){this.persistence=e,this.ri=new Oi(s=>pE(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=Sw(this,n)}static ei(e,n){return new Kl(e,n)}Hr(){}Jr(e){return b.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return b.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?b.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Br(e,f=>this.ir(e,f,n).next(m=>{m||(s++,c.removeEntry(f,pe.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),b.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),b.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),b.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),b.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ol(e.data.value)),n}ir(e,n,s){return b.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return b.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Ie(),a=Ie();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new $h(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return O_()?8:fE(L_())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new Ow;return this.ts(e,n,f).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,f,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Vs()<=Ve.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Ds(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),b.resolve()):(Vs()<=Ve.DEBUG&&te("QueryEngine","Query:",Ds(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Vs()<=Ve.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Ds(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(n))):b.resolve())}Xi(e,n){if(Zp(n))return b.resolve(null);let s=Gn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=yh(n,null,"F"),s=Gn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Ie(...c);return this.Zi.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const v=this.rs(n,m);return this.ss(n,v,f,y.readTime)?this.Xi(e,yh(n,null,"F")):this.os(e,v,n,y)}))})))}es(e,n,s,a){return Zp(n)||a.isEqual(pe.min())?b.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const f=this.rs(n,c);return this.ss(n,f,s,a)?b.resolve(null):(Vs()<=Ve.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ds(n)),this.os(e,f,n,aE(a,-1)).next(m=>m))})}rs(e,n){let s=new dt(sg(e));return n.forEach((a,c)=>{ou(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return Vs()<=Ve.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Ds(n)),this.Zi.getDocumentsMatchingQuery(e,n,Yr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new Ye(Re),this.cs=new Oi(c=>Mh(c),Oh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cw(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function zw(i,e,n,s){return new Uw(i,e,n,s)}async function Pg(i,e){const n=me(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let y=Ie();for(const v of a){f.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}for(const v of c){m.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}return n.localDocuments.getDocuments(s,y).next(v=>({Ts:v,removedBatchIds:f,addedBatchIds:m}))})})}function Bw(i,e){const n=me(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,y,v,w){const R=v.batch,N=R.keys();let B=b.resolve();return N.forEach(W=>{B=B.next(()=>w.getEntry(y,W)).next(K=>{const q=v.docVersions.get(W);Oe(q!==null),K.version.compareTo(q)<0&&(R.applyToRemoteDocument(K,v),K.isValidDocument()&&(K.setReadTime(v.commitVersion),w.addEntry(K)))})}),B.next(()=>m.mutationQueue.removeMutationBatch(y,R))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=Ie();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(y=y.add(m.batch.mutations[v].key));return y}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function kg(i){const e=me(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function jw(i,e){const n=me(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((w,R)=>{const N=a.get(R);if(!N)return;m.push(n.Gr.removeMatchingKeys(c,w.removedDocuments,R).next(()=>n.Gr.addMatchingKeys(c,w.addedDocuments,R)));let B=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(R)!==null?B=B.withResumeToken(Rt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):w.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(w.resumeToken,s)),a=a.insert(R,B),function(K,q,ge){return K.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=3e8?!0:ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0}(N,B,w)&&m.push(n.Gr.updateTargetData(c,B))});let y=vr(),v=Ie();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))}),m.push(bw(c,f,e.documentUpdates).next(w=>{y=w.Is,v=w.ds})),!s.isEqual(pe.min())){const w=n.Gr.getLastRemoteSnapshotVersion(c).next(R=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(w)}return b.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,v)).next(()=>y)}).then(c=>(n.us=a,c))}function bw(i,e,n){let s=Ie(),a=Ie();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=vr();return n.forEach((m,y)=>{const v=c.get(m);y.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(pe.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):te("LocalStore","Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",y.version)}),{Is:f,ds:a}})}function $w(i,e){const n=me(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function qw(i,e){const n=me(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,b.resolve(a)):n.Gr.allocateTargetId(s).next(f=>(a=new Hr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function Th(i,e,n){const s=me(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!Gs(f))throw f;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function hm(i,e,n){const s=me(i);let a=pe.min(),c=Ie();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,v,w){const R=me(y),N=R.cs.get(w);return N!==void 0?b.resolve(R.us.get(N)):R.Gr.getTargetData(v,w)}(s,f,Gn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(f,m.targetId).next(y=>{c=y})}).next(()=>s._s.getDocumentsMatchingQuery(f,e,n?a:pe.min(),n?c:Ie())).next(m=>(Hw(s,NE(e),m),{documents:m,Es:c})))}function Hw(i,e,n){let s=i.ls.get(e)||pe.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class fm{constructor(){this.activeTargetIds=UE()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qw{constructor(){this._o=new fm,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new fm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll=null;function nh(){return Ll===null?Ll=function(){return 268435456+Math.round(2147483648*Math.random())}():Ll++,"0x"+Ll.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class Yw extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,f){const m=nh(),y=this.No(n,s.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${m}:`,y,a);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(v,c,f),this.Lo(n,y,v,a).then(w=>(te("RestConnection",`Received RPC '${n}' ${m}: `,w),w),w=>{throw Os("RestConnection",`RPC '${n}' ${m} failed with error: `,w,"url: ",y,"request:",a),w})}ko(n,s,a,c,f,m){return this.Oo(n,s,a,c,f)}Bo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),a&&a.headers.forEach((c,f)=>n[f]=c)}No(n,s){const a=Ww[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,s,a){const c=nh();return new Promise((f,m)=>{const y=new jm;y.setWithCredentials(!0),y.listenOnce(bm.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Ml.NO_ERROR:const w=y.getResponseJson();te(xt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),f(w);break;case Ml.TIMEOUT:te(xt,`RPC '${e}' ${c} timed out`),m(new ne(j.DEADLINE_EXCEEDED,"Request time out"));break;case Ml.HTTP_ERROR:const R=y.getStatus();if(te(xt,`RPC '${e}' ${c} failed with status:`,R,"response text:",y.getResponseText()),R>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const B=N==null?void 0:N.error;if(B&&B.status&&B.message){const W=function(q){const ge=q.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(ge)>=0?ge:j.UNKNOWN}(B.status);m(new ne(W,B.message))}else m(new ne(j.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new ne(j.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{te(xt,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);te(xt,`RPC '${e}' ${c} sending request:`,a),y.send(n,"POST",v,s,15)})}qo(e,n,s){const a=nh(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Hm(),m=qm(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Bo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const w=c.join("");te(xt,`Creating RPC '${e}' stream ${a}: ${w}`,y);const R=f.createWebChannel(w,y);let N=!1,B=!1;const W=new Kw({Eo:q=>{B?te(xt,`Not sending because RPC '${e}' stream ${a} is closed:`,q):(N||(te(xt,`Opening RPC '${e}' stream ${a} transport.`),R.open(),N=!0),te(xt,`RPC '${e}' stream ${a} sending:`,q),R.send(q))},Ao:()=>R.close()}),K=(q,ge,ye)=>{q.listen(ge,_e=>{try{ye(_e)}catch(Se){setTimeout(()=>{throw Se},0)}})};return K(R,Qo.EventType.OPEN,()=>{B||(te(xt,`RPC '${e}' stream ${a} transport opened.`),W.So())}),K(R,Qo.EventType.CLOSE,()=>{B||(B=!0,te(xt,`RPC '${e}' stream ${a} transport closed`),W.Do())}),K(R,Qo.EventType.ERROR,q=>{B||(B=!0,Os(xt,`RPC '${e}' stream ${a} transport errored:`,q),W.Do(new ne(j.UNAVAILABLE,"The operation could not be completed")))}),K(R,Qo.EventType.MESSAGE,q=>{var ge;if(!B){const ye=q.data[0];Oe(!!ye);const _e=ye,Se=(_e==null?void 0:_e.error)||((ge=_e[0])===null||ge===void 0?void 0:ge.error);if(Se){te(xt,`RPC '${e}' stream ${a} received error:`,Se);const Je=Se.status;let De=function(A){const k=st[A];if(k!==void 0)return yg(k)}(Je),V=Se.message;De===void 0&&(De=j.INTERNAL,V="Unknown error status: "+Je+" with message "+Se.message),B=!0,W.Do(new ne(De,V)),R.close()}else te(xt,`RPC '${e}' stream ${a} received:`,ye),W.vo(ye)}}),K(m,$m.STAT_EVENT,q=>{q.stat===hh.PROXY?te(xt,`RPC '${e}' stream ${a} detected buffering proxy`):q.stat===hh.NOPROXY&&te(xt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{W.bo()},0),W}}function rh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(i){return new rw(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,s,a,c,f,m,y){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Vg(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new ne(j.UNKNOWN,"Fetching auth token failed: "+s.message);return this.d_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.d_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Xw extends Dg{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=ow(this.serializer,e),s=function(c){if(!("targetChange"in c))return pe.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?pe.min():f.readTime?Kn(f.readTime):pe.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=wh(this.serializer),n.addTarget=function(c,f){let m;const y=f.target;if(m=mh(y)?{documents:uw(c,y)}:{query:cw(c,y).ct},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Eg(c,f.resumeToken);const v=_h(c,f.expectedCount);v!==null&&(m.expectedCount=v)}else if(f.snapshotVersion.compareTo(pe.min())>0){m.readTime=Wl(c,f.snapshotVersion.toTimestamp());const v=_h(c,f.expectedCount);v!==null&&(m.expectedCount=v)}return m}(this.serializer,e);const s=fw(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=wh(this.serializer),n.removeTarget=e,this.c_(n)}}class Jw extends Dg{constructor(e,n,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=lw(e.writeResults,e.commitTime),s=Kn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=wh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>aw(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new ne(j.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Oo(e,vh(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ne(j.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.ko(e,vh(n,s),a,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ne(j.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class eT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(_r(n),this.C_=!1):te("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(f=>{s.enqueueAndForget(async()=>{Fi(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(y){const v=me(y);v.k_.add(4),await ha(v),v.K_.set("Unknown"),v.k_.delete(4),await hu(v)}(this))})}),this.K_=new eT(s,a)}}async function hu(i){if(Fi(i))for(const e of i.q_)await e(!0)}async function ha(i){for(const e of i.q_)await e(!1)}function Ng(i,e){const n=me(i);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),Gh(n)?Qh(n):Ks(n).s_()&&Hh(n,e))}function qh(i,e){const n=me(i),s=Ks(n);n.L_.delete(e),s.s_()&&xg(n,e),n.L_.size===0&&(s.s_()?s.a_():Fi(n)&&n.K_.set("Unknown"))}function Hh(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ks(i).V_(e)}function xg(i,e){i.U_.xe(e),Ks(i).m_(e)}function Qh(i){i.U_=new ZE({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.L_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Ks(i).start(),i.K_.F_()}function Gh(i){return Fi(i)&&!Ks(i).i_()&&i.L_.size>0}function Fi(i){return me(i).k_.size===0}function Lg(i){i.U_=void 0}async function nT(i){i.K_.set("Online")}async function rT(i){i.L_.forEach((e,n)=>{Hh(i,e)})}async function iT(i,e){Lg(i),Gh(i)?(i.K_.O_(e),Qh(i)):i.K_.set("Unknown")}async function sT(i,e,n){if(i.K_.set("Online"),e instanceof vg&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const m of c.targetIds)a.L_.has(m)&&(await a.remoteSyncer.rejectListen(m,f),a.L_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Yl(i,s)}else if(e instanceof zl?i.U_.$e(e):e instanceof _g?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(pe.min()))try{const s=await kg(i.localStore);n.compareTo(s)>=0&&await function(c,f){const m=c.U_.it(f);return m.targetChanges.forEach((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const w=c.L_.get(v);w&&c.L_.set(v,w.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,v)=>{const w=c.L_.get(y);if(!w)return;c.L_.set(y,w.withResumeToken(Rt.EMPTY_BYTE_STRING,w.snapshotVersion)),xg(c,y);const R=new Hr(w.target,y,v,w.sequenceNumber);Hh(c,R)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){te("RemoteStore","Failed to raise snapshot:",s),await Yl(i,s)}}async function Yl(i,e,n){if(!Gs(e))throw e;i.k_.add(1),await ha(i),i.K_.set("Offline"),n||(n=()=>kg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await hu(i)})}function Mg(i,e){return e().catch(n=>Yl(i,n,e))}async function fu(i){const e=me(i),n=ei(e);let s=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;oT(e);)try{const a=await $w(e.localStore,s);if(a===null){e.B_.length===0&&n.a_();break}s=a.batchId,aT(e,a)}catch(a){await Yl(e,a)}Og(e)&&Fg(e)}function oT(i){return Fi(i)&&i.B_.length<10}function aT(i,e){i.B_.push(e);const n=ei(i);n.s_()&&n.f_&&n.g_(e.mutations)}function Og(i){return Fi(i)&&!ei(i).i_()&&i.B_.length>0}function Fg(i){ei(i).start()}async function lT(i){ei(i).w_()}async function uT(i){const e=ei(i);for(const n of i.B_)e.g_(n.mutations)}async function cT(i,e,n){const s=i.B_.shift(),a=Uh.from(s,e,n);await Mg(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await fu(i)}async function hT(i,e){e&&ei(i).f_&&await async function(s,a){if(function(f){return YE(f)&&f!==j.ABORTED}(a.code)){const c=s.B_.shift();ei(s).__(),await Mg(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await fu(s)}}(i,e),Og(i)&&Fg(i)}async function pm(i,e){const n=me(i);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const s=Fi(n);n.k_.add(3),await ha(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await hu(n)}async function fT(i,e){const n=me(i);e?(n.k_.delete(2),await hu(n)):e||(n.k_.add(2),await ha(n),n.K_.set("Unknown"))}function Ks(i){return i.W_||(i.W_=function(n,s,a){const c=me(n);return c.b_(),new Xw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:nT.bind(null,i),mo:rT.bind(null,i),po:iT.bind(null,i),R_:sT.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),Gh(i)?Qh(i):i.K_.set("Unknown")):(await i.W_.stop(),Lg(i))})),i.W_}function ei(i){return i.G_||(i.G_=function(n,s,a){const c=me(n);return c.b_(),new Jw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:lT.bind(null,i),po:hT.bind(null,i),p_:uT.bind(null,i),y_:cT.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await fu(i)):(await i.G_.stop(),i.B_.length>0&&(te("RemoteStore",`Stopping write stream with ${i.B_.length} pending writes`),i.B_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,m=new Wh(e,n,f,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kh(i,e){if(_r("AsyncQueue",`${e}: ${i}`),Gs(i))return new ne(j.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{static emptySet(e){return new Ms(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||le.comparator(n.key,s.key):(n,s)=>le.comparator(n.key,s.key),this.keyedMap=Go(),this.sortedSet=new Ye(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ms)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ms;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(){this.z_=new Ye(le.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):de():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class js{constructor(e,n,s,a,c,f,m,y,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new js(e,n,Ms.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&su(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class pT{constructor(){this.queries=gm(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=me(n),c=a.queries;a.queries=gm(),c.forEach((f,m)=>{for(const y of m.J_)y.onError(s)})})(this,new ne(j.ABORTED,"Firestore shutting down"))}}function gm(){return new Oi(i=>ig(i),su)}async function Yh(i,e){const n=me(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new dT,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const m=Kh(f,`Initialization of query '${Ds(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&Jh(n)}async function Xh(i,e){const n=me(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.J_.indexOf(e);f>=0&&(c.J_.splice(f,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function mT(i,e){const n=me(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const m of f.J_)m.ta(a)&&(s=!0);f.H_=a}}s&&Jh(n)}function gT(i,e,n){const s=me(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function Jh(i){i.X_.forEach(e=>{e.next()})}var Ih,ym;(ym=Ih||(Ih={})).na="default",ym.Cache="cache";class Zh{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new js(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Ih.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e){this.key=e}}class zg{constructor(e){this.key=e}}class yT{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ie(),this.mutatedKeys=Ie(),this.Va=sg(e),this.ma=new Ms(this.Va)}get fa(){return this.Ea}ga(e,n){const s=n?n.pa:new mm,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,R)=>{const N=a.get(w),B=ou(this.query,R)?R:null,W=!!N&&this.mutatedKeys.has(N.key),K=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let q=!1;N&&B?N.data.isEqual(B.data)?W!==K&&(s.track({type:3,doc:B}),q=!0):this.ya(N,B)||(s.track({type:2,doc:B}),q=!0,(y&&this.Va(B,y)>0||v&&this.Va(B,v)<0)&&(m=!0)):!N&&B?(s.track({type:0,doc:B}),q=!0):N&&!B&&(s.track({type:1,doc:N}),q=!0,(y||v)&&(m=!0)),q&&(B?(f=f.add(B),c=K?c.add(w):c.delete(w)):(f=f.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{ma:f,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const f=e.pa.j_();f.sort((w,R)=>function(B,W){const K=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return K(B)-K(W)}(w.type,R.type)||this.Va(w.doc,R.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],y=this.Ra.size===0&&this.current&&!a?1:0,v=y!==this.Aa;return this.Aa=y,f.length!==0||v?{snapshot:new js(this.query,e.ma,c,f,e.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new mm,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ie(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new zg(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new Ug(s))}),n}va(e){this.Ea=e.Es,this.Ra=Ie();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return js.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class _T{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class vT{constructor(e){this.key=e,this.Fa=!1}}class ET{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new Oi(m=>ig(m),su),this.Oa=new Map,this.Na=new Set,this.Ba=new Ye(le.comparator),this.La=new Map,this.ka=new jh,this.qa={},this.Qa=new Map,this.Ka=Bs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function wT(i,e,n=!0){const s=Hg(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await Bg(s,e,n,!0),a}async function TT(i,e){const n=Hg(i);await Bg(n,e,!0,!1)}async function Bg(i,e,n,s){const a=await qw(i.localStore,Gn(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await IT(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&Ng(i.remoteStore,a),m}async function IT(i,e,n,s,a){i.Ua=(R,N,B)=>async function(K,q,ge,ye){let _e=q.view.ga(ge);_e.ss&&(_e=await hm(K.localStore,q.query,!1).then(({documents:V})=>q.view.ga(V,_e)));const Se=ye&&ye.targetChanges.get(q.targetId),Je=ye&&ye.targetMismatches.get(q.targetId)!=null,De=q.view.applyChanges(_e,K.isPrimaryClient,Se,Je);return vm(K,q.targetId,De.ba),De.snapshot}(i,R,N,B);const c=await hm(i.localStore,e,!0),f=new yT(e,c.Es),m=f.ga(c.documents),y=ca.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=f.applyChanges(m,i.isPrimaryClient,y);vm(i,n,v.ba);const w=new _T(e,n,f);return i.xa.set(e,w),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),v.snapshot}async function ST(i,e,n){const s=me(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(f=>!su(f,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Th(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&qh(s.remoteStore,a.targetId),Sh(s,a.targetId)}).catch(Qs)):(Sh(s,a.targetId),await Th(s.localStore,a.targetId,!0))}async function AT(i,e){const n=me(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),qh(n.remoteStore,s.targetId))}async function RT(i,e,n){const s=xT(i);try{const a=await function(f,m){const y=me(f),v=ft.now(),w=m.reduce((B,W)=>B.add(W.key),Ie());let R,N;return y.persistence.runTransaction("Locally write mutations","readwrite",B=>{let W=vr(),K=Ie();return y.hs.getEntries(B,w).next(q=>{W=q,W.forEach((ge,ye)=>{ye.isValidDocument()||(K=K.add(ge))})}).next(()=>y.localDocuments.getOverlayedDocuments(B,W)).next(q=>{R=q;const ge=[];for(const ye of m){const _e=HE(ye,R.get(ye.key).overlayedDocument);_e!=null&&ge.push(new ni(ye.key,_e,Ym(_e.value.mapValue),Wn.exists(!0)))}return y.mutationQueue.addMutationBatch(B,v,ge,m)}).next(q=>{N=q;const ge=q.applyToLocalDocumentSet(R,K);return y.documentOverlayCache.saveOverlays(B,q.batchId,ge)})}).then(()=>({batchId:N.batchId,changes:ag(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(f,m,y){let v=f.qa[f.currentUser.toKey()];v||(v=new Ye(Re)),v=v.insert(m,y),f.qa[f.currentUser.toKey()]=v}(s,a.batchId,n),await fa(s,a.changes),await fu(s.remoteStore)}catch(a){const c=Kh(a,"Failed to persist write");n.reject(c)}}async function jg(i,e){const n=me(i);try{const s=await jw(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.La.get(c);f&&(Oe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Fa=!0:a.modifiedDocuments.size>0?Oe(f.Fa):a.removedDocuments.size>0&&(Oe(f.Fa),f.Fa=!1))}),await fa(n,s,e)}catch(s){await Qs(s)}}function _m(i,e,n){const s=me(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,f)=>{const m=f.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(f,m){const y=me(f);y.onlineState=m;let v=!1;y.queries.forEach((w,R)=>{for(const N of R.J_)N.ea(m)&&(v=!0)}),v&&Jh(y)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function CT(i,e,n){const s=me(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.La.get(e),c=a&&a.key;if(c){let f=new Ye(le.comparator);f=f.insert(c,Mt.newNoDocument(c,pe.min()));const m=Ie().add(c),y=new uu(pe.min(),new Map,new Ye(Re),f,m);await jg(s,y),s.Ba=s.Ba.remove(c),s.La.delete(e),ef(s)}else await Th(s.localStore,e,!1).then(()=>Sh(s,e,n)).catch(Qs)}async function PT(i,e){const n=me(i),s=e.batch.batchId;try{const a=await Bw(n.localStore,e);$g(n,s,null),bg(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fa(n,a)}catch(a){await Qs(a)}}async function kT(i,e,n){const s=me(i);try{const a=await function(f,m){const y=me(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return y.mutationQueue.lookupMutationBatch(v,m).next(R=>(Oe(R!==null),w=R.keys(),y.mutationQueue.removeMutationBatch(v,R))).next(()=>y.mutationQueue.performConsistencyCheck(v)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(v,w,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>y.localDocuments.getDocuments(v,w))})}(s.localStore,e);$g(s,e,n),bg(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await fa(s,a)}catch(a){await Qs(a)}}function bg(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function $g(i,e,n){const s=me(i);let a=s.qa[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function Sh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||qg(i,s)})}function qg(i,e){i.Na.delete(e.path.canonicalString());const n=i.Ba.get(e);n!==null&&(qh(i.remoteStore,n),i.Ba=i.Ba.remove(e),i.La.delete(n),ef(i))}function vm(i,e,n){for(const s of n)s instanceof Ug?(i.ka.addReference(s.key,e),VT(i,s)):s instanceof zg?(te("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||qg(i,s.key)):de()}function VT(i,e){const n=e.key,s=n.path.canonicalString();i.Ba.get(n)||i.Na.has(s)||(te("SyncEngine","New document in limbo: "+n),i.Na.add(s),ef(i))}function ef(i){for(;i.Na.size>0&&i.Ba.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new le(He.fromString(e)),s=i.Ka.next();i.La.set(s,new vT(n)),i.Ba=i.Ba.insert(n,s),Ng(i.remoteStore,new Hr(Gn(iu(n.path)),s,"TargetPurposeLimboResolution",tu.oe))}}async function fa(i,e,n){const s=me(i),a=[],c=[],f=[];s.xa.isEmpty()||(s.xa.forEach((m,y)=>{f.push(s.Ua(y,e,n).then(v=>{var w;if((v||n)&&s.isPrimaryClient){const R=v?!v.fromCache:(w=n==null?void 0:n.targetChanges.get(y.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(y.targetId,R?"current":"not-current")}if(v){a.push(v);const R=$h.zi(y.targetId,v);c.push(R)}}))}),await Promise.all(f),s.Ma.R_(a),await async function(y,v){const w=me(y);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>b.forEach(v,N=>b.forEach(N.Wi,B=>w.persistence.referenceDelegate.addReference(R,N.targetId,B)).next(()=>b.forEach(N.Gi,B=>w.persistence.referenceDelegate.removeReference(R,N.targetId,B)))))}catch(R){if(!Gs(R))throw R;te("LocalStore","Failed to update sequence numbers: "+R)}for(const R of v){const N=R.targetId;if(!R.fromCache){const B=w.us.get(N),W=B.snapshotVersion,K=B.withLastLimboFreeSnapshotVersion(W);w.us=w.us.insert(N,K)}}}(s.localStore,c))}async function DT(i,e){const n=me(i);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const s=await Pg(n.localStore,e);n.currentUser=e,function(c,f){c.Qa.forEach(m=>{m.forEach(y=>{y.reject(new ne(j.CANCELLED,f))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fa(n,s.Ts)}}function NT(i,e){const n=me(i),s=n.La.get(e);if(s&&s.Fa)return Ie().add(s.key);{let a=Ie();const c=n.Oa.get(e);if(!c)return a;for(const f of c){const m=n.xa.get(f);a=a.unionWith(m.view.fa)}return a}}function Hg(i){const e=me(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=jg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CT.bind(null,e),e.Ma.R_=mT.bind(null,e.eventManager),e.Ma.Wa=gT.bind(null,e.eventManager),e}function xT(i){const e=me(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kT.bind(null,e),e}class Xl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return zw(this.persistence,new Fw,e.initialUser,this.serializer)}ja(e){return new Cg(bh.ei,this.serializer)}za(e){return new Qw}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xl.provider={build:()=>new Xl};class LT extends Xl{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Oe(this.persistence.referenceDelegate instanceof Kl);const s=this.persistence.referenceDelegate.garbageCollector;return new Tw(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new Cg(s=>Kl.ei(s,n),this.serializer)}}class Ah{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_m(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=DT.bind(null,this.syncEngine),await fT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pT}()}createDatastore(e){const n=cu(e.databaseInfo.databaseId),s=function(c){return new Yw(c)}(e.databaseInfo);return function(c,f,m,y){return new Zw(c,f,m,y)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,m){return new tT(s,a,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>_m(this.syncEngine,n,0),function(){return dm.p()?new dm:new Gw}())}createSyncEngine(e,n){return function(a,c,f,m,y,v,w){const R=new ET(a,c,f,m,y,v);return w&&(R.$a=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=me(a);te("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await ha(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ah.provider={build:()=>new Ah};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Lt.UNAUTHENTICATED,this.clientId=Gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{te("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(te("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Kh(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ih(i,e){i.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Pg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Em(i,e){i.asyncQueue.verifyOperationInProgress();const n=await OT(i);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>pm(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>pm(e.remoteStore,a)),i._onlineComponents=e}async function OT(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await ih(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===j.FAILED_PRECONDITION||a.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Os("Error using user provided cache. Falling back to memory cache: "+n),await ih(i,new Xl)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await ih(i,new LT(void 0));return i._offlineComponents}async function Qg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await Em(i,i._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await Em(i,new Ah))),i._onlineComponents}function FT(i){return Qg(i).then(e=>e.syncEngine)}async function Jl(i){const e=await Qg(i),n=e.eventManager;return n.onListen=wT.bind(null,e.syncEngine),n.onUnlisten=ST.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=TT.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AT.bind(null,e.syncEngine),n}function UT(i,e,n={}){const s=new gr;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,v){const w=new tf({next:N=>{w.eu(),f.enqueueAndForget(()=>Xh(c,R));const B=N.docs.has(m);!B&&N.fromCache?v.reject(new ne(j.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&N.fromCache&&y&&y.source==="server"?v.reject(new ne(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(N)},error:N=>v.reject(N)}),R=new Zh(iu(m.path),w,{includeMetadataChanges:!0,ua:!0});return Yh(c,R)}(await Jl(i),i.asyncQueue,e,n,s)),s.promise}function zT(i,e,n={}){const s=new gr;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,v){const w=new tf({next:N=>{w.eu(),f.enqueueAndForget(()=>Xh(c,R)),N.fromCache&&y.source==="server"?v.reject(new ne(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(N)},error:N=>v.reject(N)}),R=new Zh(m,w,{includeMetadataChanges:!0,ua:!0});return Yh(c,R)}(await Jl(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(i,e,n){if(!n)throw new ne(j.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function BT(i,e,n,s){if(e===!0&&s===!0)throw new ne(j.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Tm(i){if(!le.isDocumentKey(i))throw new ne(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Im(i){if(le.isDocumentKey(i))throw new ne(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function du(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":de()}function Nn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ne(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=du(i);throw new ne(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gg((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ne(j.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ne(j.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ne(j.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sm(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Jv;switch(s.type){case"firstParty":return new nE(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ne(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=wm.get(n);s&&(te("ComponentProvider","Removing Datastore"),wm.delete(n),s.terminate())}(this),Promise.resolve()}}function jT(i,e,n,s={}){var a;const c=(i=Nn(i,pu))._getSettings(),f=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&Os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=Lt.MOCK_USER;else{m=x_(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ne(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Lt(v)}i._authCredentials=new Zv(new Qm(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ri(this.firestore,e,this._query)}}class Bt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}}class Kr extends ri{constructor(e,n,s){super(e,n,iu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new le(e))}withConverter(e){return new Kr(this.firestore,e,this._path)}}function bs(i,e,...n){if(i=Yn(i),Wg("collection","path",e),i instanceof pu){const s=He.fromString(e,...n);return Im(s),new Kr(i,null,s)}{if(!(i instanceof Bt||i instanceof Kr))throw new ne(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(He.fromString(e,...n));return Im(s),new Kr(i.firestore,null,s)}}function la(i,e,...n){if(i=Yn(i),arguments.length===1&&(e=Gm.newId()),Wg("doc","path",e),i instanceof pu){const s=He.fromString(e,...n);return Tm(s),new Bt(i,null,new le(s))}{if(!(i instanceof Bt||i instanceof Kr))throw new ne(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(He.fromString(e,...n));return Tm(s),new Bt(i.firestore,i instanceof Kr?i.converter:null,new le(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Vg(this,"async_queue_retry"),this.fu=()=>{const s=rh();s&&te("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=rh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=rh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new gr;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Gs(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw _r("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=Wh.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.Eu.push(a),a}pu(){this.Au&&de()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}function Rm(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const c of s)if(c in a&&typeof a[c]=="function")return!0;return!1}(i,["next","error","complete"])}class Mi extends pu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Am,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Am(e),this._firestoreClient=void 0,await e}}}function bT(i,e){const n=typeof i=="object"?i:bv(),s=typeof i=="string"?i:"(default)",a=Uv(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=D_("firestore");c&&jT(a,...c)}return a}function mu(i){if(i._terminated)throw new ne(j.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||$T(i),i._firestoreClient}function $T(i){var e,n,s;const a=i._freezeSettings(),c=function(m,y,v,w){return new yE(m,y,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Gg(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new MT(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $s(Rt.fromBase64String(e))}catch(n){throw new ne(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $s(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=/^__.*__$/;class HT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ni(e,this.data,this.fieldMask,n,this.fieldTransforms):new ua(e,this.data,n,this.fieldTransforms)}}class Kg{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ni(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Yg(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class of{constructor(e,n,s,a,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Fu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new of(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Bu(e),a}Lu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Zl(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Yg(this.Mu)&&qT.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class QT{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||cu(e)}$u(e,n,s,a=!1){return new of({Mu:e,methodName:n,Ku:s,path:At.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function af(i){const e=i._freezeSettings(),n=cu(i._databaseId);return new QT(i._databaseId,!!e.ignoreUndefinedProperties,n)}function GT(i,e,n,s,a,c={}){const f=i.$u(c.merge||c.mergeFields?2:0,e,n,a);lf("Data must be an object, but it was:",f,s);const m=Xg(s,f);let y,v;if(c.merge)y=new on(f.fieldMask),v=f.fieldTransforms;else if(c.mergeFields){const w=[];for(const R of c.mergeFields){const N=Rh(e,R,n);if(!f.contains(N))throw new ne(j.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Zg(w,N)||w.push(N)}y=new on(w),v=f.fieldTransforms.filter(R=>y.covers(R.field))}else y=null,v=f.fieldTransforms;return new HT(new Yt(m),y,v)}class yu extends nf{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yu}}function WT(i,e,n,s){const a=i.$u(1,e,n);lf("Data must be an object, but it was:",a,s);const c=[],f=Yt.empty();ti(s,(y,v)=>{const w=uf(e,y,n);v=Yn(v);const R=a.Lu(w);if(v instanceof yu)c.push(w);else{const N=da(v,R);N!=null&&(c.push(w),f.set(w,N))}});const m=new on(c);return new Kg(f,m,a.fieldTransforms)}function KT(i,e,n,s,a,c){const f=i.$u(1,e,n),m=[Rh(e,s,n)],y=[a];if(c.length%2!=0)throw new ne(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)m.push(Rh(e,c[N])),y.push(c[N+1]);const v=[],w=Yt.empty();for(let N=m.length-1;N>=0;--N)if(!Zg(v,m[N])){const B=m[N];let W=y[N];W=Yn(W);const K=f.Lu(B);if(W instanceof yu)v.push(B);else{const q=da(W,K);q!=null&&(v.push(B),w.set(B,q))}}const R=new on(v);return new Kg(w,R,f.fieldTransforms)}function YT(i,e,n,s=!1){return da(n,i.$u(s?4:3,e))}function da(i,e){if(Jg(i=Yn(i)))return lf("Unsupported field value:",e,i),Xg(i,e);if(i instanceof nf)return function(s,a){if(!Yg(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const c=[];let f=0;for(const m of s){let y=da(m,a.ku(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=Yn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zE(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ft.fromDate(s);return{timestampValue:Wl(a.serializer,c)}}if(s instanceof ft){const c=new ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wl(a.serializer,c)}}if(s instanceof rf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $s)return{bytesValue:Eg(a.serializer,s._byteString)};if(s instanceof Bt){const c=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw a.qu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Bh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof sf)return function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.qu("VectorValues must only contain numeric values.");return Fh(m.serializer,y)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${du(s)}`)}(i,e)}function Xg(i,e){const n={};return Wm(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ti(i,(s,a)=>{const c=da(a,e.Ou(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function Jg(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ft||i instanceof rf||i instanceof $s||i instanceof Bt||i instanceof nf||i instanceof sf)}function lf(i,e,n){if(!Jg(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=du(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function Rh(i,e,n){if((e=Yn(e))instanceof gu)return e._internalPath;if(typeof e=="string")return uf(i,e);throw Zl("Field path arguments must be of type string or ",i,!1,void 0,n)}const XT=new RegExp("[~\\*/\\[\\]]");function uf(i,e,n){if(e.search(XT)>=0)throw Zl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new gu(...e.split("."))._internalPath}catch{throw Zl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Zl(i,e,n,s,a){const c=s&&!s.isEmpty(),f=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${s}`),f&&(y+=` in document ${a}`),y+=")"),new ne(j.INVALID_ARGUMENT,m+i+y)}function Zg(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_u("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JT extends ey{data(){return super.data()}}function _u(i,e){return typeof e=="string"?uf(i,e):e instanceof gu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ne(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cf{}class ny extends cf{}function hf(i,e,...n){let s=[];e instanceof cf&&s.push(e),s=s.concat(n),function(c){const f=c.filter(y=>y instanceof ff).length,m=c.filter(y=>y instanceof vu).length;if(f>1||f>0&&m>0)throw new ne(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class vu extends ny{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new vu(e,n,s)}_apply(e){const n=this._parse(e);return iy(e._query,n),new ri(e.firestore,e.converter,gh(e._query,n))}_parse(e){const n=af(e.firestore);return function(c,f,m,y,v,w,R){let N;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ne(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Pm(R,w);const B=[];for(const W of R)B.push(Cm(y,c,W));N={arrayValue:{values:B}}}else N=Cm(y,c,R)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Pm(R,w),N=YT(m,f,R,w==="in"||w==="not-in");return ot.create(v,w,N)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ry(i,e,n){const s=e,a=_u("where",i);return vu._create(a,s,n)}class ff extends cf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ff(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,c){let f=a;const m=c.getFlattenedFilters();for(const y of m)iy(f,y),f=gh(f,y)}(e._query,n),new ri(e.firestore,e.converter,gh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class df extends ny{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new df(e,n)}_apply(e){const n=function(a,c,f){if(a.startAt!==null)throw new ne(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ne(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sa(c,f)}(e._query,this._field,this._direction);return new ri(e.firestore,e.converter,function(a,c){const f=a.explicitOrderBy.concat([c]);return new Ws(a.path,a.collectionGroup,f,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function ZT(i,e="asc"){const n=e,s=_u("orderBy",i);return df._create(s,n)}function Cm(i,e,n){if(typeof(n=Yn(n))=="string"){if(n==="")throw new ne(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rg(e)&&n.indexOf("/")!==-1)throw new ne(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(He.fromString(n));if(!le.isDocumentKey(s))throw new ne(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Gp(i,new le(s))}if(n instanceof Bt)return Gp(i,n._key);throw new ne(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${du(n)}.`)}function Pm(i,e){if(!Array.isArray(i)||i.length===0)throw new ne(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iy(i,e){const n=function(a,c){for(const f of a)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class e0{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ti(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>nt(f.doubleValue));return new sf(c)}convertGeoPoint(e){return new rf(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ru(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(na(e));default:return null}}convertTimestamp(e){const n=Xr(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=He.fromString(e);Oe(Rg(s));const a=new ra(s.get(1),s.get(3)),c=new le(s.popFirst(5));return a.isEqual(n)||_r(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sy extends ey{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(_u("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Bl extends sy{data(e={}){return super.data(e)}}class oy{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ko(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Bl(this._firestore,this._userDataWriter,s.key,s,new Ko(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(m=>{const y=new Bl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Ko(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new Bl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Ko(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,w=-1;return m.type!==0&&(v=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),w=f.indexOf(m.doc.key)),{type:n0(m.type),doc:y,oldIndex:v,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function n0(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(i){i=Nn(i,Bt);const e=Nn(i.firestore,Mi);return UT(mu(e),i._key).then(n=>ly(e,i,n))}class pf extends e0{constructor(e){super(),this.firestore=e}convertBytes(e){return new $s(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}}function i0(i){i=Nn(i,ri);const e=Nn(i.firestore,Mi),n=mu(e),s=new pf(e);return ty(i._query),zT(n,i._query).then(a=>new oy(e,s,i,a))}function eu(i,e,n,...s){i=Nn(i,Bt);const a=Nn(i.firestore,Mi),c=af(a);let f;return f=typeof(e=Yn(e))=="string"||e instanceof gu?KT(c,"updateDoc",i._key,e,n,s):WT(c,"updateDoc",i._key,e),ay(a,[f.toMutation(i._key,Wn.exists(!0))])}function Ch(i,e){const n=Nn(i.firestore,Mi),s=la(i),a=t0(i.converter,e);return ay(n,[GT(af(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,Wn.exists(!1))]).then(()=>s)}function Ph(i,...e){var n,s,a;i=Yn(i);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||Rm(e[f])||(c=e[f],f++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Rm(e[f])){const R=e[f];e[f]=(n=R.next)===null||n===void 0?void 0:n.bind(R),e[f+1]=(s=R.error)===null||s===void 0?void 0:s.bind(R),e[f+2]=(a=R.complete)===null||a===void 0?void 0:a.bind(R)}let y,v,w;if(i instanceof Bt)v=Nn(i.firestore,Mi),w=iu(i._key.path),y={next:R=>{e[f]&&e[f](ly(v,i,R))},error:e[f+1],complete:e[f+2]};else{const R=Nn(i,ri);v=Nn(R.firestore,Mi),w=R._query;const N=new pf(v);y={next:B=>{e[f]&&e[f](new oy(v,N,R,B))},error:e[f+1],complete:e[f+2]},ty(i._query)}return function(N,B,W,K){const q=new tf(K),ge=new Zh(B,q,W);return N.asyncQueue.enqueueAndForget(async()=>Yh(await Jl(N),ge)),()=>{q.eu(),N.asyncQueue.enqueueAndForget(async()=>Xh(await Jl(N),ge))}}(mu(v),w,m,y)}function ay(i,e){return function(s,a){const c=new gr;return s.asyncQueue.enqueueAndForget(async()=>RT(await FT(s),a,c)),c.promise}(mu(i),e)}function ly(i,e,n){const s=n.docs.get(e._key),a=new pf(i);return new sy(i,a,e._key,s,new Ko(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Hs=a})(jv),$l(new ea("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new Mi(new eE(s.getProvider("auth-internal")),new iE(s.getProvider("app-check-internal")),function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ne(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ra(v.options.projectId,w)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Ls(jp,"4.7.6",e),Ls(jp,"4.7.6","esm2017")})();var s0="firebase",o0="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls(s0,o0,"app");const a0={apiKey:"AIzaSyBecbtpuqc3TkY0-p_rP00yy7QKMZD2Fbg",authDomain:"guessnumber-92898.firebaseapp.com",projectId:"guessnumber-92898",storageBucket:"guessnumber-92898.appspot.com",messagingSenderId:"343860343588",appId:"1:343860343588:web:a9cc5aad6bf6126a5ff9b1"},l0=Fm(a0),Qn=bT(l0);function u0({setGameState:i}){const[e,n]=sn.useState(""),[s,a]=sn.useState(""),c=m=>m.length!==4?!1:new Set(m.split("")).size===4&&/^\d+$/.test(m),f=async()=>{if(!c(s)){alert("Please enter a valid 4-digit number with no repeating digits");return}if(!e.trim()){alert("Please enter your name");return}try{const m=new Date().getTime(),y=Math.random()<.5?1:2,v=bs(Qn,"lobbies"),w=await Ch(v,{player1:e,player2:null,status:"waiting",createdAt:m,updatedAt:m,firstTurn:y}),R=bs(Qn,"games"),N=await Ch(R,{lobbyId:w.id,player1:e,player1Number:s,player2:null,status:"waiting",createdAt:m,updatedAt:m,firstTurn:y,currentTurn:y});i({isPlaying:!0,gameId:N.id,lobbyId:w.id,playerId:1,playerName:e,secretNumber:s})}catch(m){console.error("Error creating game:",m),alert("Error creating game. Please try again.")}};return Te.jsxs("div",{className:"section",children:[Te.jsx("input",{type:"text",value:e,onChange:m=>n(m.target.value),placeholder:"Enter your name"}),Te.jsx("input",{type:"text",value:s,onChange:m=>a(m.target.value),maxLength:4,placeholder:"Enter your 4-digit number"}),Te.jsx("div",{className:"buttons",children:Te.jsx("button",{onClick:f,children:"Create Game"})})]})}function c0({gameState:i}){const[e,n]=sn.useState(""),[s,a]=sn.useState(null),[c,f]=sn.useState([]),[m,y]=sn.useState(null);sn.useEffect(()=>{const R=la(Qn,"games",i.gameId),N=Ph(R,B=>{const W=B.data();a(W),y(W.currentTurn||W.firstTurn)});return()=>N()},[i.gameId]),sn.useEffect(()=>{const R=bs(Qn,"games",i.gameId,"guesses"),N=hf(R,ZT("timestamp")),B=Ph(N,W=>{const K=[];W.forEach(q=>{K.push(q.data())}),f(K)});return()=>B()},[i.gameId]);const v=(R,N)=>{let B=0,W=0;for(let K=0;K<4;K++)R[K]===N[K]?B++:N.includes(R[K])&&W++;return`${B}T ${W}V`},w=async()=>{if(m!==i.playerId){alert("It's not your turn!");return}if(!/^\d{4}$/.test(e)){alert("Please enter a valid 4-digit number");return}const R=la(Qn,"games",i.gameId),B=(await r0(R)).data();if(B.winner){alert("Game is already over!");return}const W=i.playerId===1?B.player2Number:B.player1Number,K=v(e,W),q=bs(Qn,"games",i.gameId,"guesses");await Ch(q,{player:i.playerId,guess:e,result:K,timestamp:Date.now()}),K==="4T 0V"?await eu(R,{winner:i.playerId,status:"completed"}):await eu(R,{currentTurn:i.playerId===1?2:1}),n("")};return s?Te.jsxs("div",{className:"section",children:[Te.jsxs("div",{className:"player-info",children:[Te.jsx("span",{children:s.player1})," vs ",Te.jsx("span",{children:s.player2||"Waiting..."})]}),s.winner&&Te.jsx("div",{className:"winner-banner",children:s.winner===i.playerId?"You won!":"Your opponent won!"}),Te.jsx("div",{className:"turn-indicator",children:!s.winner&&(m===i.playerId?"It's your turn!":"Waiting for opponent's move...")}),Te.jsxs("div",{className:"guess-area",children:[Te.jsx("input",{type:"text",value:e,onChange:R=>n(R.target.value),maxLength:4,placeholder:"Enter your guess",disabled:m!==i.playerId||s.winner}),Te.jsx("button",{onClick:w,disabled:m!==i.playerId||s.winner,children:"Submit Guess"})]}),Te.jsx("div",{className:"history",children:c.map((R,N)=>Te.jsxs("div",{className:`guess-item player-${R.player}`,children:["Player ",R.player,": ",R.guess," - ",R.result]},N))})]}):Te.jsx("div",{children:"Loading..."})}function h0({onJoinGame:i}){const[e,n]=sn.useState([]),[s,a]=sn.useState(!0);return sn.useEffect(()=>{try{const c=hf(bs(Qn,"lobbies"),ry("status","==","waiting")),f=Ph(c,m=>{const y=[];m.forEach(v=>{const w=v.data();w.player2||y.push({id:v.id,...w})}),y.sort((v,w)=>new Date(w.createdAt)-new Date(v.createdAt)),n(y),a(!1)},m=>{console.error("Error fetching lobbies:",m),a(!1)});return()=>f()}catch(c){console.error("Error setting up lobby listener:",c),a(!1)}},[]),s?Te.jsxs("div",{className:"lobby",children:[Te.jsx("h2",{children:"Available Games"}),Te.jsx("p",{children:"Loading available games..."})]}):Te.jsxs("div",{className:"lobby",children:[Te.jsx("h2",{children:"Available Games"}),e.length===0?Te.jsx("p",{children:"No games available. Create one to start playing!"}):Te.jsx("div",{className:"lobby-list",children:e.map(c=>Te.jsxs("div",{className:"lobby-item",children:[Te.jsxs("div",{className:"lobby-info",children:[Te.jsxs("span",{className:"player-name",children:[c.player1,"'s game"]}),Te.jsxs("span",{className:"game-status",children:["Created ",new Date(c.createdAt).toLocaleTimeString()]})]}),Te.jsx("button",{onClick:()=>i(c),children:"Join Game"})]},c.id))})]})}function f0(){const[i,e]=sn.useState({isPlaying:!1,inLobby:!0,gameId:null,lobbyId:null,playerId:null,playerName:"",secretNumber:""}),n=async s=>{if(s.status!=="waiting"){alert("This game is no longer available");return}const a=prompt("Enter your name:");if(!a)return;const c=prompt("Enter your 4-digit number (no repeating digits):");if(!c||!/^\d{4}$/.test(c)||new Set(c).size!==4){alert("Please enter a valid 4-digit number with no repeating digits");return}try{const f=bs(Qn,"games"),m=hf(f,ry("lobbyId","==",s.id)),y=await i0(m);if(y.empty)throw new Error("Game not found");const v=y.docs[0];if(v.data().status!=="waiting")throw new Error("Game is no longer available");await eu(la(Qn,"games",v.id),{player2:a,player2Number:c,status:"playing"}),await eu(la(Qn,"lobbies",s.id),{status:"playing",player2:a}),e({isPlaying:!0,inLobby:!1,gameId:v.id,lobbyId:s.id,playerId:2,playerName:a,secretNumber:c})}catch(f){console.error("Error joining game:",f),alert(f.message||"Error joining game. Please try again.")}};return Te.jsxs("div",{className:"container",children:[Te.jsx("h1",{children:"Number Guessing Game"}),!i.isPlaying&&i.inLobby&&Te.jsxs(Te.Fragment,{children:[Te.jsx(u0,{setGameState:e}),Te.jsx(h0,{onJoinGame:n})]}),i.isPlaying&&Te.jsx(c0,{gameState:i})]})}w_.createRoot(document.getElementById("root")).render(Te.jsx(p_.StrictMode,{children:Te.jsx(f0,{})}));
//# sourceMappingURL=index-wAPhf8e2.js.map
